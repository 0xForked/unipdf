//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_e "errors";_fd "fmt";_ed "github.com/adrg/sysfont";_ebg "github.com/unidoc/unipdf/v3/common";_ac "github.com/unidoc/unipdf/v3/contentstream";_ea "github.com/unidoc/unipdf/v3/contentstream/draw";_ab "github.com/unidoc/unipdf/v3/core";
_cc "github.com/unidoc/unipdf/v3/internal/license";_eda "github.com/unidoc/unipdf/v3/internal/transform";_d "github.com/unidoc/unipdf/v3/model";_eee "github.com/unidoc/unipdf/v3/render/internal/context";_ee "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";
_eb "golang.org/x/image/draw";_cag "image";_cf "image/color";_f "image/draw";_eg "image/jpeg";_g "image/png";_cg "math";_b "os";_ca "path/filepath";_a "strings";);func _fee (_ecgb _ab .PdfObject ,_ccffa _cf .Color )(_cag .Image ,error ){_bbbd ,_agbb :=_ab .GetStream (_ecgb );
if !_agbb {return nil ,nil ;};_bee ,_dbgb :=_d .NewXObjectImageFromStream (_bbbd );if _dbgb !=nil {return nil ,_dbgb ;};_abg ,_dbgb :=_bee .ToImage ();if _dbgb !=nil {return nil ,_dbgb ;};return _ageb (_abg ,_ccffa ),nil ;};func (_eab renderer )renderContentStream (_gfg _eee .Context ,_egf string ,_gde *_d .PdfPageResources )error {_eeg ,_acf :=_ac .NewContentStreamParser (_egf ).Parse ();
if _acf !=nil {return _acf ;};_eed :=_gfg .TextState ();_eed .GlobalScale =_eab ._edea ;_fbbc :=map[string ]*_eee .TextFont {};_gcg :=_ed .NewFinder (&_ed .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});_fcc :=_ac .NewContentStreamProcessor (*_eeg );
_fcc .AddHandler (_ac .HandlerConditionEnumAllOperands ,"",func (_cac *_ac .ContentStreamOperation ,_da _ac .GraphicsState ,_accb *_d .PdfPageResources )error {_ebg .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_cac .Operand );
switch _cac .Operand {case "\u0071":_gfg .Push ();case "\u0051":_gfg .Pop ();_eed =_gfg .TextState ();case "\u0063\u006d":if len (_cac .Params )!=6{return _fc ;};_fca ,_efg :=_ab .GetNumbersAsFloat (_cac .Params );if _efg !=nil {return _efg ;};_de :=_eda .NewMatrix (_fca [0],_fca [1],_fca [2],_fca [3],_fca [4],_fca [5]);
_ebg .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_de );_gfg .SetMatrix (_gfg .Matrix ().Mult (_de ));case "\u0077":if len (_cac .Params )!=1{return _fc ;
};_ebc ,_ecd :=_ab .GetNumbersAsFloat (_cac .Params );if _ecd !=nil {return _ecd ;};_gfg .SetLineWidth (_ebc [0]);case "\u004a":if len (_cac .Params )!=1{return _fc ;};_fbgb ,_gfb :=_ab .GetIntVal (_cac .Params [0]);if !_gfb {return _efd ;};switch _fbgb {case 0:_gfg .SetLineCap (_eee .LineCapButt );
case 1:_gfg .SetLineCap (_eee .LineCapRound );case 2:_gfg .SetLineCap (_eee .LineCapSquare );default:_ebg .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_fbgb );
return _fc ;};case "\u006a":if len (_cac .Params )!=1{return _fc ;};_fe ,_efc :=_ab .GetIntVal (_cac .Params [0]);if !_efc {return _efd ;};switch _fe {case 0:_gfg .SetLineJoin (_eee .LineJoinBevel );case 1:_gfg .SetLineJoin (_eee .LineJoinRound );case 2:_gfg .SetLineJoin (_eee .LineJoinBevel );
default:_ebg .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_fe );return _fc ;};case "\u004d":if len (_cac .Params )!=1{return _fc ;};_egfg ,_bg :=_ab .GetNumbersAsFloat (_cac .Params );
if _bg !=nil {return _bg ;};_ =_egfg ;_ebg .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_cac .Params )!=2{return _fc ;};_caca ,_cff :=_ab .GetArray (_cac .Params [0]);
if !_cff {return _efd ;};_bfg ,_cff :=_ab .GetIntVal (_cac .Params [1]);if !_cff {return _efd ;};_aa ,_ccb :=_ab .GetNumbersAsFloat (_caca .Elements ());if _ccb !=nil {return _ccb ;};_gfg .SetDash (_aa ...);_ =_bfg ;_ebg .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");
case "\u0072\u0069":_ebg .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0069":_ebg .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");
case "\u0067\u0073":if len (_cac .Params )!=1{return _fc ;};_fbbd ,_ad :=_ab .GetName (_cac .Params [0]);if !_ad {return _efd ;};if _fbbd ==nil {return _fc ;};_dbgf ,_ad :=_accb .GetExtGState (*_fbbd );if !_ad {_ebg .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_fbbd );
return _e .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_egc ,_ad :=_ab .GetDict (_dbgf );if !_ad {_ebg .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");
return _efd ;};_ebg .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_egc .String ());case "\u006d":if len (_cac .Params )!=2{_ebg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_fc );
return nil ;};_efe ,_ba :=_ab .GetNumbersAsFloat (_cac .Params );if _ba !=nil {return _ba ;};_ebg .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_efe );_gfg .NewSubPath ();_gfg .MoveTo (_efe [0],_efe [1]);case "\u006c":if len (_cac .Params )!=2{_ebg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_fc );
return nil ;};_cd ,_ffg :=_ab .GetNumbersAsFloat (_cac .Params );if _ffg !=nil {return _ffg ;};_gfg .LineTo (_cd [0],_cd [1]);case "\u0063":if len (_cac .Params )!=6{return _fc ;};_ge ,_eeea :=_ab .GetNumbersAsFloat (_cac .Params );if _eeea !=nil {return _eeea ;
};_ebg .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_ge );_gfg .CubicTo (_ge [0],_ge [1],_ge [2],_ge [3],_ge [4],_ge [5]);case "\u0076","\u0079":if len (_cac .Params )!=4{return _fc ;
};_ga ,_ae :=_ab .GetNumbersAsFloat (_cac .Params );if _ae !=nil {return _ae ;};_ebg .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_ga );_gfg .QuadraticTo (_ga [0],_ga [1],_ga [2],_ga [3]);
case "\u0068":_gfg .ClosePath ();_gfg .NewSubPath ();case "\u0072\u0065":if len (_cac .Params )!=4{return _fc ;};_bgg ,_cdd :=_ab .GetNumbersAsFloat (_cac .Params );if _cdd !=nil {return _cdd ;};_gfg .DrawRectangle (_bgg [0],_bgg [1],_bgg [2],_bgg [3]);
_gfg .NewSubPath ();case "\u0053":_efcg ,_ccg :=_da .ColorspaceStroking .ColorToRGB (_da .ColorStroking );if _ccg !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ccg );
return _ccg ;};_dge ,_gfe :=_efcg .(*_d .PdfColorDeviceRGB );if !_gfe {_ebg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _ccg ;};_gfg .SetRGBA (_dge .R (),_dge .G (),_dge .B (),1);
_gfg .Stroke ();case "\u0073":_geg ,_bggg :=_da .ColorspaceStroking .ColorToRGB (_da .ColorStroking );if _bggg !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bggg );
return _bggg ;};_ead ,_be :=_geg .(*_d .PdfColorDeviceRGB );if !_be {_ebg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _bggg ;};_gfg .ClosePath ();_gfg .NewSubPath ();
_gfg .SetRGBA (_ead .R (),_ead .G (),_ead .B (),1);_gfg .Stroke ();case "\u0066","\u0046":_ddcg ,_fed :=_da .ColorspaceNonStroking .ColorToRGB (_da .ColorNonStroking );if _fed !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fed );
return _fed ;};_cgg ,_ceg :=_ddcg .(*_d .PdfColorDeviceRGB );if !_ceg {_ebg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _fed ;};_gfg .SetRGBA (_cgg .R (),_cgg .G (),_cgg .B (),1);
_gfg .SetFillRule (_eee .FillRuleWinding );_gfg .Fill ();case "\u0066\u002a":_feb ,_gaa :=_da .ColorspaceNonStroking .ColorToRGB (_da .ColorNonStroking );if _gaa !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gaa );
return _gaa ;};_fg ,_dcc :=_feb .(*_d .PdfColorDeviceRGB );if !_dcc {_ebg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _gaa ;};_gfg .SetRGBA (_fg .R (),_fg .G (),_fg .B (),1);
_gfg .SetFillRule (_eee .FillRuleEvenOdd );_gfg .Fill ();case "\u0042":_dce ,_beb :=_da .ColorspaceNonStroking .ColorToRGB (_da .ColorNonStroking );if _beb !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_beb );
return _beb ;};_cdc :=_dce .(*_d .PdfColorDeviceRGB );_gfg .SetRGBA (_cdc .R (),_cdc .G (),_cdc .B (),1);_gfg .SetFillRule (_eee .FillRuleWinding );_gfg .FillPreserve ();_dce ,_beb =_da .ColorspaceStroking .ColorToRGB (_da .ColorStroking );if _beb !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_beb );
return _beb ;};_cdc =_dce .(*_d .PdfColorDeviceRGB );_gfg .SetRGBA (_cdc .R (),_cdc .G (),_cdc .B (),1);_gfg .Stroke ();case "\u0042\u002a":_dceb ,_ecg :=_da .ColorspaceNonStroking .ColorToRGB (_da .ColorNonStroking );if _ecg !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ecg );
return _ecg ;};_bge :=_dceb .(*_d .PdfColorDeviceRGB );_gfg .SetRGBA (_bge .R (),_bge .G (),_bge .B (),1);_gfg .SetFillRule (_eee .FillRuleEvenOdd );_gfg .FillPreserve ();_dceb ,_ecg =_da .ColorspaceStroking .ColorToRGB (_da .ColorStroking );if _ecg !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ecg );
return _ecg ;};_bge =_dceb .(*_d .PdfColorDeviceRGB );_gfg .SetRGBA (_bge .R (),_bge .G (),_bge .B (),1);_gfg .Stroke ();case "\u0062":_egb ,_eec :=_da .ColorspaceNonStroking .ColorToRGB (_da .ColorNonStroking );if _eec !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eec );
return _eec ;};_eabb :=_egb .(*_d .PdfColorDeviceRGB );_gfg .SetRGBA (_eabb .R (),_eabb .G (),_eabb .B (),1);_gfg .ClosePath ();_gfg .NewSubPath ();_gfg .SetFillRule (_eee .FillRuleWinding );_gfg .FillPreserve ();_egb ,_eec =_da .ColorspaceStroking .ColorToRGB (_da .ColorStroking );
if _eec !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eec );return _eec ;};_eabb =_egb .(*_d .PdfColorDeviceRGB );_gfg .SetRGBA (_eabb .R (),_eabb .G (),_eabb .B (),1);
_gfg .Stroke ();case "\u0062\u002a":_gfg .ClosePath ();_dgd ,_acg :=_da .ColorspaceNonStroking .ColorToRGB (_da .ColorNonStroking );if _acg !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_acg );
return _acg ;};_dga :=_dgd .(*_d .PdfColorDeviceRGB );_gfg .SetRGBA (_dga .R (),_dga .G (),_dga .B (),1);_gfg .NewSubPath ();_gfg .SetFillRule (_eee .FillRuleEvenOdd );_gfg .FillPreserve ();_dgd ,_acg =_da .ColorspaceStroking .ColorToRGB (_da .ColorStroking );
if _acg !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_acg );return _acg ;};_dga =_dgd .(*_d .PdfColorDeviceRGB );_gfg .SetRGBA (_dga .R (),_dga .G (),_dga .B (),1);
_gfg .Stroke ();case "\u006e":_gfg .ClearPath ();case "\u0057":_gfg .SetFillRule (_eee .FillRuleWinding );_gfg .ClipPreserve ();case "\u0057\u002a":_gfg .SetFillRule (_eee .FillRuleEvenOdd );_gfg .ClipPreserve ();case "\u0072\u0067":_age ,_gcb :=_da .ColorNonStroking .(*_d .PdfColorDeviceRGB );
if !_gcb {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorNonStroking );return nil ;};_gfg .SetFillRGBA (_age .R (),_age .G (),_age .B (),1);
case "\u0052\u0047":_ccc ,_fea :=_da .ColorStroking .(*_d .PdfColorDeviceRGB );if !_fea {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorStroking );
return nil ;};_gfg .SetStrokeRGBA (_ccc .R (),_ccc .G (),_ccc .B (),1);case "\u006b":_gca ,_agf :=_da .ColorNonStroking .(*_d .PdfColorDeviceCMYK );if !_agf {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorNonStroking );
return nil ;};_edaa ,_cga :=_da .ColorspaceNonStroking .ColorToRGB (_gca );if _cga !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorNonStroking );
return nil ;};_aef ,_agf :=_edaa .(*_d .PdfColorDeviceRGB );if !_agf {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_edaa );return nil ;
};_gfg .SetFillRGBA (_aef .R (),_aef .G (),_aef .B (),1);case "\u004b":_bfd ,_eaf :=_da .ColorStroking .(*_d .PdfColorDeviceCMYK );if !_eaf {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorStroking );
return nil ;};_gbg ,_bgge :=_da .ColorspaceStroking .ColorToRGB (_bfd );if _bgge !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorStroking );
return nil ;};_gfbc ,_eaf :=_gbg .(*_d .PdfColorDeviceRGB );if !_eaf {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gbg );return nil ;
};_gfg .SetStrokeRGBA (_gfbc .R (),_gfbc .G (),_gfbc .B (),1);case "\u0067":_aeg ,_aad :=_da .ColorNonStroking .(*_d .PdfColorDeviceGray );if !_aad {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorNonStroking );
return nil ;};_bgd ,_gg :=_da .ColorspaceNonStroking .ColorToRGB (_aeg );if _gg !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorNonStroking );
return nil ;};_edef ,_aad :=_bgd .(*_d .PdfColorDeviceRGB );if !_aad {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bgd );return nil ;
};_gfg .SetFillRGBA (_edef .R (),_edef .G (),_edef .B (),1);case "\u0047":_abb ,_fgf :=_da .ColorStroking .(*_d .PdfColorDeviceGray );if !_fgf {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorStroking );
return nil ;};_bggd ,_cdg :=_da .ColorspaceStroking .ColorToRGB (_abb );if _cdg !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorStroking );
return nil ;};_ffc ,_fgf :=_bggd .(*_d .PdfColorDeviceRGB );if !_fgf {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bggd );return nil ;
};_gfg .SetStrokeRGBA (_ffc .R (),_ffc .G (),_ffc .B (),1);case "\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_cca ,_egfgd :=_da .ColorspaceNonStroking .ColorToRGB (_da .ColorNonStroking );if _egfgd !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorNonStroking );
return nil ;};_agb ,_cb :=_cca .(*_d .PdfColorDeviceRGB );if !_cb {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cca );return nil ;
};_gfg .SetFillRGBA (_agb .R (),_agb .G (),_agb .B (),1);case "\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_cab ,_cega :=_da .ColorspaceStroking .ColorToRGB (_da .ColorStroking );if _cega !=nil {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_da .ColorStroking );
return nil ;};_faa ,_adc :=_cab .(*_d .PdfColorDeviceRGB );if !_adc {_ebg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cab );return nil ;
};_gfg .SetStrokeRGBA (_faa .R (),_faa .G (),_faa .B (),1);case "\u0044\u006f":if len (_cac .Params )!=1{return _fc ;};_cbd ,_agbd :=_ab .GetName (_cac .Params [0]);if !_agbd {return _efd ;};_ ,_ebcb :=_accb .GetXObjectByName (*_cbd );switch _ebcb {case _d .XObjectTypeImage :_ebg .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_cbd .String ());
_bb ,_cccf :=_accb .GetXObjectImageByName (*_cbd );if _cccf !=nil {return _cccf ;};_cdgc ,_cccf :=_bb .ToImage ();if _cccf !=nil {return _cccf ;};if _gaf :=_bb .ColorSpace ;_gaf !=nil {var _aee bool ;switch _gaf .(type ){case *_d .PdfColorspaceSpecialIndexed :_aee =true ;
};if _aee {if _af ,_afe :=_gaf .ImageToRGB (*_cdgc );_afe !=nil {_ebg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
}else {_cdgc =&_af ;};};};_bfdg :=_gfg .FillPattern ().ColorAt (0,0);var _faf _cag .Image ;if _bb .Mask !=nil {if _faf ,_cccf =_edd (_bb .Mask ,_bfdg );_cccf !=nil {_ebg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
};}else if _bb .SMask !=nil {if _faf ,_cccf =_fee (_bb .SMask ,_bfdg );_cccf !=nil {_ebg .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};var _efdc _cag .Image ;if _gfc ,_ :=_ab .GetBoolVal (_bb .ImageMask );_gfc {_efdc =_gcd (_cdgc ,_bfdg );}else {_efdc ,_cccf =_cdgc .ToGoImage ();if _cccf !=nil {return _cccf ;};};if _faf !=nil {_efdc =_ced (_efdc ,_faf );};_eff :=_efdc .Bounds ();_gfg .Push ();
_gfg .Scale (1.0/float64 (_eff .Dx ()),-1.0/float64 (_eff .Dy ()));_gfg .DrawImageAnchored (_efdc ,0,0,0,1);_gfg .Pop ();case _d .XObjectTypeForm :_ebg .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_cbd .String ());
_cagf ,_df :=_accb .GetXObjectFormByName (*_cbd );if _df !=nil {return _df ;};_bgc ,_df :=_cagf .GetContentStream ();if _df !=nil {return _df ;};_fda :=_cagf .Resources ;if _fda ==nil {_fda =_accb ;};_gfg .Push ();if _cagf .Matrix !=nil {_bdf ,_ebf :=_ab .GetArray (_cagf .Matrix );
if !_ebf {return _efd ;};_bfe ,_caa :=_ab .GetNumbersAsFloat (_bdf .Elements ());if _caa !=nil {return _caa ;};if len (_bfe )!=6{return _fc ;};_def :=_eda .NewMatrix (_bfe [0],_bfe [1],_bfe [2],_bfe [3],_bfe [4],_bfe [5]);_gfg .SetMatrix (_gfg .Matrix ().Mult (_def ));
};if _cagf .BBox !=nil {_fce ,_ada :=_ab .GetArray (_cagf .BBox );if !_ada {return _efd ;};_ggb ,_cabf :=_ab .GetNumbersAsFloat (_fce .Elements ());if _cabf !=nil {return _cabf ;};if len (_ggb )!=4{_ebg .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_ggb ));
return _fc ;};_gfg .DrawRectangle (_ggb [0],_ggb [1],_ggb [2]-_ggb [0],_ggb [3]-_ggb [1]);_gfg .SetRGBA (1,0,0,1);_gfg .Clip ();}else {_ebg .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");
};_df =_eab .renderContentStream (_gfg ,string (_bgc ),_fda );if _df !=nil {return _df ;};_gfg .Pop ();};case "\u0042\u0049":if len (_cac .Params )!=1{return _fc ;};_dag ,_cgf :=_cac .Params [0].(*_ac .ContentStreamInlineImage );if !_cgf {return nil ;};
_dbb ,_efa :=_dag .ToImage (_accb );if _efa !=nil {return _efa ;};_cbc ,_efa :=_dbb .ToGoImage ();if _efa !=nil {return _efa ;};_efcb :=_cbc .Bounds ();_gfg .Push ();_gfg .Scale (1.0/float64 (_efcb .Dx ()),-1.0/float64 (_efcb .Dy ()));_gfg .DrawImageAnchored (_cbc ,0,0,0,1);
_gfg .Pop ();case "\u0042\u0054":_eed .Reset ();case "\u0045\u0054":_eed .Reset ();case "\u0054\u0072":if len (_cac .Params )!=1{return _fc ;};_edaf ,_edg :=_ab .GetNumberAsFloat (_cac .Params [0]);if _edg !=nil {return _edg ;};_eed .Tr =_eee .TextRenderingMode (_edaf );
case "\u0054\u004c":if len (_cac .Params )!=1{return _fc ;};_eaff ,_fcge :=_ab .GetNumberAsFloat (_cac .Params [0]);if _fcge !=nil {return _fcge ;};_eed .Tl =_eaff ;case "\u0054\u0063":if len (_cac .Params )!=1{return _fc ;};_ded ,_cfg :=_ab .GetNumberAsFloat (_cac .Params [0]);
if _cfg !=nil {return _cfg ;};_ebg .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_ded );_eed .Tc =_ded ;case "\u0054\u0077":if len (_cac .Params )!=1{return _fc ;};_bbc ,_gff :=_ab .GetNumberAsFloat (_cac .Params [0]);if _gff !=nil {return _gff ;
};_ebg .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_bbc );_eed .Tw =_bbc ;case "\u0054\u007a":if len (_cac .Params )!=1{return _fc ;};_bdg ,_dbfa :=_ab .GetNumberAsFloat (_cac .Params [0]);if _dbfa !=nil {return _dbfa ;};_eed .Th =_bdg ;case "\u0054\u0073":if len (_cac .Params )!=1{return _fc ;
};_gfd ,_dbgd :=_ab .GetNumberAsFloat (_cac .Params [0]);if _dbgd !=nil {return _dbgd ;};_eed .Ts =_gfd ;case "\u0054\u0064":if len (_cac .Params )!=2{return _fc ;};_dfc ,_cffe :=_ab .GetNumbersAsFloat (_cac .Params );if _cffe !=nil {return _cffe ;};_ebg .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_dfc );
_eed .ProcTd (_dfc [0],_dfc [1]);case "\u0054\u0044":if len (_cac .Params )!=2{return _fc ;};_fcd ,_ccf :=_ab .GetNumbersAsFloat (_cac .Params );if _ccf !=nil {return _ccf ;};_ebg .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_fcd );_eed .ProcTD (_fcd [0],_fcd [1]);
case "\u0054\u002a":_eed .ProcTStar ();case "\u0054\u006d":if len (_cac .Params )!=6{return _fc ;};_dgdc ,_aed :=_ab .GetNumbersAsFloat (_cac .Params );if _aed !=nil {return _aed ;};_ebg .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_dgdc );
_eed .ProcTm (_dgdc [0],_dgdc [1],_dgdc [2],_dgdc [3],_dgdc [4],_dgdc [5]);case "\u0027":if len (_cac .Params )!=1{return _fc ;};_dgg ,_gfbg :=_ab .GetStringBytes (_cac .Params [0]);if !_gfbg {return _efd ;};_ebg .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_dgg ));
_eed .ProcQ (_dgg ,_gfg );case "\u0022":if len (_cac .Params )!=3{return _fc ;};_cbda ,_bea :=_ab .GetNumberAsFloat (_cac .Params [0]);if _bea !=nil {return _bea ;};_bgcd ,_bea :=_ab .GetNumberAsFloat (_cac .Params [1]);if _bea !=nil {return _bea ;};_fbd ,_caf :=_ab .GetStringBytes (_cac .Params [2]);
if !_caf {return _efd ;};_eed .ProcDQ (_fbd ,_cbda ,_bgcd ,_gfg );case "\u0054\u006a":if len (_cac .Params )!=1{return _fc ;};_ffe ,_gef :=_ab .GetStringBytes (_cac .Params [0]);if !_gef {return _efd ;};_ebg .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_ffe ));
_eed .ProcTj (_ffe ,_gfg );case "\u0054\u004a":if len (_cac .Params )!=1{return _fc ;};_bbcc ,_dbbc :=_ab .GetArray (_cac .Params [0]);if !_dbbc {_ebg .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_bbcc );return _efd ;};_ebg .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_bbcc );
for _ ,_dcba :=range _bbcc .Elements (){switch _eca :=_dcba .(type ){case *_ab .PdfObjectString :if _eca !=nil {_eed .ProcTj (_eca .Bytes (),_gfg );};case *_ab .PdfObjectFloat ,*_ab .PdfObjectInteger :_agbg ,_efdce :=_ab .GetNumberAsFloat (_eca );if _efdce ==nil {_eed .Translate (-_agbg *0.001*_eed .Tf .Size *_eed .Th /100.0,0);
};};};case "\u0054\u0066":if len (_cac .Params )!=2{return _fc ;};_ebg .Log .Debug ("\u0025\u0023\u0076",_cac .Params );_caba ,_ggg :=_ab .GetName (_cac .Params [0]);if !_ggg ||_caba ==nil {_ebg .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_cac .Params [0]);
return _efd ;};_ebg .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_caba .String ());_baa ,_dbbe :=_ab .GetNumberAsFloat (_cac .Params [1]);if _dbbe !=nil {_ebg .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_cac .Params [1]);
return _efd ;};_ebg .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_baa );_febc ,_fgc :=_accb .GetFontByName (*_caba );if !_fgc {_ebg .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_caba .String ());
return _e .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_ebg .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_febc );_ggbf ,_ggg :=_ab .GetDict (_febc );if !_ggg {_ebg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");
return _efd ;};_cagfd ,_dbbe :=_d .NewPdfFontFromPdfObject (_ggbf );if _dbbe !=nil {_ebg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");
return _dbbe ;};_daa :=_cagfd .BaseFont ();if _daa ==""{_daa =_caba .String ();};_bbg ,_ggg :=_fbbc [_daa ];if !_ggg {_bbg ,_dbbe =_eee .NewTextFont (_cagfd ,_baa );if _dbbe !=nil {_ebg .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dbbe );
};};if _bbg ==nil {if len (_daa )> 7&&_daa [6]=='+'{_daa =_daa [7:];};_agd :=[]string {_daa ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};
for _ ,_dfa :=range _agd {_ebg .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_dfa );if _bbg ,_ggg =_fbbc [_dfa ];
_ggg {break ;};_abf :=_gcg .Match (_dfa );if _abf ==nil {_ebg .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_dfa );continue ;};_bbg ,_dbbe =_eee .NewTextFontFromPath (_abf .Filename ,_baa );
if _dbbe !=nil {_ebg .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_abf .Filename );continue ;};_ebg .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_daa ,_abf .Name ,_abf .Filename );
_fbbc [_dfa ]=_bbg ;break ;};};if _bbg ==nil {_ebg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");
return _e .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_eed .ProcTf (_bbg .WithSize (_baa ,_cagfd ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":case "\u0045\u004d\u0043":default:_ebg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_cac .Operand );
};return nil ;});_acf =_fcc .Process (_gde );if _acf !=nil {return _acf ;};return nil ;};func _gcd (_fff *_d .Image ,_fcaa _cf .Color )_cag .Image {_cffa ,_dfg :=int (_fff .Width ),int (_fff .Height );_cbe :=_cag .NewRGBA (_cag .Rect (0,0,_cffa ,_dfg ));
for _cfc :=0;_cfc < _dfg ;_cfc ++{for _ceb :=0;_ceb < _cffa ;_ceb ++{_ebe ,_befc :=_fff .ColorAt (_ceb ,_cfc );if _befc !=nil {_ebg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_ceb ,_cfc );
continue ;};_gbb ,_fbe ,_eafa ,_ :=_ebe .RGBA ();var _gbf _cf .Color ;if _gbb +_fbe +_eafa ==0{_gbf =_fcaa ;}else {_gbf =_cf .Transparent ;};_cbe .Set (_ceb ,_cfc ,_gbf );};};return _cbe ;};var (_efd =_e .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");
_fc =_e .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func _aged (_fdac ,_fcb ,_gggg float64 )_ea .BoundingBox {return _ea .Path {Points :[]_ea .Point {_ea .NewPoint (0,0).Rotate (_gggg ),_ea .NewPoint (_fdac ,0).Rotate (_gggg ),_ea .NewPoint (0,_fcb ).Rotate (_gggg ),_ea .NewPoint (_fdac ,_fcb ).Rotate (_gggg )}}.GetBoundingBox ();
};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_dbg *ImageDevice )RenderToPath (page *_d .PdfPage ,outputPath string )error {_ddc ,_dbfd :=_dbg .Render (page );if _dbfd !=nil {return _dbfd ;};_gd :=_a .ToLower (_ca .Ext (outputPath ));if _gd ==""{return _e .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");
};switch _gd {case "\u002e\u0070\u006e\u0067":return _gae (outputPath ,_ddc );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _dcf (outputPath ,_ddc ,100);};return _fd .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_gd );
};func _ced (_cfgd ,_fbc _cag .Image )_cag .Image {_ccff ,_bgca :=_fbc .Bounds ().Size (),_cfgd .Bounds ().Size ();_ebb ,_fgfa :=_ccff .X ,_ccff .Y ;if _bgca .X > _ebb {_ebb =_bgca .X ;};if _bgca .Y > _fgfa {_fgfa =_bgca .Y ;};_dfgb :=_cag .Rect (0,0,_ebb ,_fgfa );
if _ccff .X !=_ebb ||_ccff .Y !=_fgfa {_beg :=_cag .NewRGBA (_dfgb );_eb .BiLinear .Scale (_beg ,_dfgb ,_cfgd ,_fbc .Bounds (),_eb .Over ,nil );_fbc =_beg ;};if _bgca .X !=_ebb ||_bgca .Y !=_fgfa {_bdff :=_cag .NewRGBA (_dfgb );_eb .BiLinear .Scale (_bdff ,_dfgb ,_cfgd ,_cfgd .Bounds (),_eb .Over ,nil );
_cfgd =_bdff ;};_bba :=_cag .NewRGBA (_dfgb );_eb .DrawMask (_bba ,_dfgb ,_cfgd ,_cag .Point {},_fbc ,_cag .Point {},_eb .Over );return _bba ;};func _gae (_cagg string ,_cgfb _cag .Image )error {_bbb ,_fde :=_b .Create (_cagg );if _fde !=nil {return _fde ;
};defer _bbb .Close ();return _g .Encode (_bbb ,_cgfb );};func (_dba renderer )renderPage (_ff _eee .Context ,_dcb *_d .PdfPage ,_bf _eda .Matrix )error {_cge ,_cgb :=_dcb .GetAllContentStreams ();if _cgb !=nil {return _cgb ;};if _aba :=_bf ;!_aba .Identity (){_cge =_fd .Sprintf ("%\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066 \u0025\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066\u0020\u0063\u006d\u0020%\u0073",_aba [0],_aba [1],_aba [3],_aba [4],_aba [6],_aba [7],_cge );
};_ff .Translate (0,float64 (_ff .Height ()));_ff .Scale (1,-1);_ff .Push ();_ff .SetRGBA (1,1,1,1);_ff .DrawRectangle (0,0,float64 (_ff .Width ()),float64 (_ff .Height ()));_ff .Fill ();_ff .Pop ();_ff .SetLineWidth (1.0);_ff .SetRGBA (0,0,0,1);return _dba .renderContentStream (_ff ,_cge ,_dcb .Resources );
};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};func _edd (_efga _ab .PdfObject ,_aadf _cf .Color )(_cag .Image ,error ){_eag ,_dgdcc :=_ab .GetStream (_efga );if !_dgdcc {return nil ,nil ;};_aeff ,_gegb :=_d .NewXObjectImageFromStream (_eag );if _gegb !=nil {return nil ,_gegb ;};
_gbbf ,_gegb :=_aeff .ToImage ();if _gegb !=nil {return nil ,_gegb ;};return _gcd (_gbbf ,_aadf ),nil ;};

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _bc ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_cc .TrackUse (_bc );return &ImageDevice {};};func _ageb (_egcb *_d .Image ,_abd _cf .Color )_cag .Image {_aeed ,_bgggb :=int (_egcb .Width ),int (_egcb .Height );
_aefe :=_cag .NewRGBA (_cag .Rect (0,0,_aeed ,_bgggb ));for _egfgc :=0;_egfgc < _bgggb ;_egfgc ++{for _eeca :=0;_eeca < _aeed ;_eeca ++{_gab ,_bff :=_egcb .ColorAt (_eeca ,_egfgc );if _bff !=nil {_ebg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_eeca ,_egfgc );
continue ;};_fafd ,_aag ,_gggf ,_ :=_gab .RGBA ();var _cce _cf .Color ;if _fafd +_aag +_gggf ==0{_cce =_cf .Transparent ;}else {_cce =_abd ;};_aefe .Set (_eeca ,_egfgc ,_cce );};};return _aefe ;};func _dcf (_ffeb string ,_dad _cag .Image ,_bef int )error {_ebge ,_ggga :=_b .Create (_ffeb );
if _ggga !=nil {return _ggga ;};defer _ebge .Close ();return _eg .Encode (_ebge ,_dad ,&_eg .Options {Quality :_bef });};

// Render converts the specified PDF page into an image and returns the result.
func (_ec *ImageDevice )Render (page *_d .PdfPage )(_cag .Image ,error ){_dd ,_dc :=page .GetMediaBox ();if _dc !=nil {return nil ,_dc ;};_dd .Normalize ();_ede :=page .CropBox ;var _bcb ,_fb float64 ;if _ede !=nil {_ede .Normalize ();_bcb ,_fb =_ede .Width (),_ede .Height ();
};_db :=page .Rotate ;_dg ,_dbf ,_ag ,_ce :=_dd .Llx ,_dd .Lly ,_dd .Width (),_dd .Height ();_ef :=_eda .IdentityMatrix ();if _db !=nil &&*_db %360!=0&&*_db %90==0{_acc :=-float64 (*_db );_fbg :=_aged (_ag ,_ce ,_acc );_ef =_ef .Translate ((_fbg .Width -_ag )/2+_ag /2,(_fbg .Height -_ce )/2+_ce /2).Rotate (_acc *_cg .Pi /180).Translate (-_ag /2,-_ce /2);
_ag ,_ce =_fbg .Width ,_fbg .Height ;if _ede !=nil {_fbb :=_aged (_bcb ,_fb ,_acc );_bcb ,_fb =_fbb .Width ,_fbb .Height ;};};if _dg !=0||_dbf !=0{_ef =_ef .Translate (-_dg ,-_dbf );};_ec ._edea =1.0;if _ec .OutputWidth !=0{_bcbb :=_ag ;if _ede !=nil {_bcbb =_bcb ;
};_ec ._edea =float64 (_ec .OutputWidth )/_bcbb ;_ag ,_ce ,_bcb ,_fb =_ag *_ec ._edea ,_ce *_ec ._edea ,_bcb *_ec ._edea ,_fb *_ec ._edea ;_ef =_eda .ScaleMatrix (_ec ._edea ,_ec ._edea ).Mult (_ef );};_gb :=_ee .NewContext (int (_ag ),int (_ce ));if _bd :=_ec .renderPage (_gb ,page ,_ef );
_bd !=nil {return nil ,_bd ;};_fa :=_gb .Image ();if _ede !=nil {_gf ,_bca :=(_ede .Llx -_dg )*_ec ._edea ,(_ede .Lly -_dbf )*_ec ._edea ;_bcf :=_cag .Rect (0,0,int (_bcb ),int (_fb ));_gc :=_cag .Pt (int (_gf ),int (_ce -_bca -_fb ));_dca :=_cag .NewRGBA (_bcf );
_f .Draw (_dca ,_bcf ,_fa ,_gc ,_f .Src );_fa =_dca ;};return _fa ,nil ;};type renderer struct{_edea float64 };
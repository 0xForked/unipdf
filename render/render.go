//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_g "errors";_dg "fmt";_de "github.com/adrg/sysfont";_dfe "github.com/unidoc/unipdf/v3/common";_df "github.com/unidoc/unipdf/v3/contentstream";_da "github.com/unidoc/unipdf/v3/core";_bf "github.com/unidoc/unipdf/v3/internal/license";_ee "github.com/unidoc/unipdf/v3/internal/transform";_cd "github.com/unidoc/unipdf/v3/model";_ba "github.com/unidoc/unipdf/v3/render/internal/context";_def "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";_ef "image";_be "image/color";_b "image/draw";_e "image/jpeg";_c "image/png";_a "os";_ad "path/filepath";_d "strings";);func _bbbbc (_bcde string ,_fd _ef .Image ,_geb int )error {_fbfc ,_bcf :=_a .Create (_bcde );if _bcf !=nil {return _bcf ;};defer _fbfc .Close ();return _e .Encode (_fbfc ,_fd ,&_e .Options {Quality :_geb });};func _gced (_ddd string ,_aad _ef .Image )error {_ccb ,_ecb :=_a .Create (_ddd );if _ecb !=nil {return _ecb ;};defer _ccb .Close ();return _c .Encode (_ccb ,_aad );};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};func (_gg renderer )renderContentStream (_fae _ba .Context ,_deb string ,_ded *_cd .PdfPageResources )error {_cef ,_ffd :=_df .NewContentStreamParser (_deb ).Parse ();if _ffd !=nil {return _ffd ;};_fffa :=_fae .TextState ();_fffa .GlobalScale =_gg ._ce ;_cf :=map[string ]*_ba .TextFont {};_ac :=_de .NewFinder (&_de .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});_eeg :=_df .NewContentStreamProcessor (*_cef );_eeg .AddHandler (_df .HandlerConditionEnumAllOperands ,"",func (_aa *_df .ContentStreamOperation ,_eee _df .GraphicsState ,_fcf *_cd .PdfPageResources )error {_dfe .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_aa .Operand );switch _aa .Operand {case "\u0071":_fae .Push ();case "\u0051":_fae .Pop ();case "\u0063\u006d":if len (_aa .Params )!=6{return _bb ;};_bde ,_bdf :=_da .GetNumbersAsFloat (_aa .Params );if _bdf !=nil {return _bdf ;};_dc :=_ee .NewMatrix (_bde [0],_bde [1],_bde [2],_bde [3],_bde [4],_bde [5]);_dfe .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_dc );_fae .SetMatrix (_fae .Matrix ().Mult (_dc ));case "\u0077":if len (_aa .Params )!=1{return _bb ;};_beg ,_bdef :=_da .GetNumbersAsFloat (_aa .Params );if _bdef !=nil {return _bdef ;};_fae .SetLineWidth (_beg [0]);case "\u004a":if len (_aa .Params )!=1{return _bb ;};_bc ,_cbg :=_da .GetIntVal (_aa .Params [0]);if !_cbg {return _fee ;};switch _bc {case 0:_fae .SetLineCap (_ba .LineCapButt );case 1:_fae .SetLineCap (_ba .LineCapRound );case 2:_fae .SetLineCap (_ba .LineCapSquare );default:_dfe .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_bc );return _bb ;};case "\u006a":if len (_aa .Params )!=1{return _bb ;};_ed ,_dedb :=_da .GetIntVal (_aa .Params [0]);if !_dedb {return _fee ;};switch _ed {case 0:_fae .SetLineJoin (_ba .LineJoinBevel );case 1:_fae .SetLineJoin (_ba .LineJoinRound );case 2:_fae .SetLineJoin (_ba .LineJoinBevel );default:_dfe .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_ed );return _bb ;};case "\u004d":if len (_aa .Params )!=1{return _bb ;};_ea ,_cg :=_da .GetNumbersAsFloat (_aa .Params );if _cg !=nil {return _cg ;};_ =_ea ;_dfe .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_aa .Params )!=2{return _bb ;};_efb ,_af :=_da .GetArray (_aa .Params [0]);if !_af {return _fee ;};_ffe ,_af :=_da .GetIntVal (_aa .Params [1]);if !_af {return _fee ;};_bg ,_ag :=_da .GetNumbersAsFloat (_efb .Elements ());if _ag !=nil {return _ag ;};_fae .SetDash (_bg ...);_ =_ffe ;_dfe .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_dfe .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0069":_dfe .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_aa .Params )!=1{return _bb ;};_bef ,_ecg :=_da .GetName (_aa .Params [0]);if !_ecg {return _fee ;};if _bef ==nil {return _bb ;};_fbcf ,_ecg :=_fcf .GetExtGState (*_bef );if !_ecg {_dfe .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_bef );return _g .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_ga ,_ecg :=_da .GetDict (_fbcf );if !_ecg {_dfe .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");return _fee ;};_dfe .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_ga .String ());case "\u006d":if len (_aa .Params )!=2{_dfe .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_bb );return nil ;};_bgb ,_dca :=_da .GetNumbersAsFloat (_aa .Params );if _dca !=nil {return _dca ;};_dfe .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_bgb );_fae .NewSubPath ();_fae .MoveTo (_bgb [0],_bgb [1]);case "\u006c":if len (_aa .Params )!=2{_dfe .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_bb );return nil ;};_cbf ,_fbcb :=_da .GetNumbersAsFloat (_aa .Params );if _fbcb !=nil {return _fbcb ;};_fae .LineTo (_cbf [0],_cbf [1]);case "\u0063":if len (_aa .Params )!=6{return _bb ;};_gfd ,_dcd :=_da .GetNumbersAsFloat (_aa .Params );if _dcd !=nil {return _dcd ;};_dfe .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_gfd );_fae .CubicTo (_gfd [0],_gfd [1],_gfd [2],_gfd [3],_gfd [4],_gfd [5]);case "\u0076","\u0079":if len (_aa .Params )!=4{return _bb ;};_fbf ,_dab :=_da .GetNumbersAsFloat (_aa .Params );if _dab !=nil {return _dab ;};_dfe .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_fbf );_fae .QuadraticTo (_fbf [0],_fbf [1],_fbf [2],_fbf [3]);case "\u0068":_fae .ClosePath ();_fae .NewSubPath ();case "\u0072\u0065":if len (_aa .Params )!=4{return _bb ;};_bbe ,_dgdc :=_da .GetNumbersAsFloat (_aa .Params );if _dgdc !=nil {return _dgdc ;};_fae .DrawRectangle (_bbe [0],_bbe [1],_bbe [2],_bbe [3]);_fae .NewSubPath ();case "\u0053":_dae ,_cfa :=_eee .ColorspaceStroking .ColorToRGB (_eee .ColorStroking );if _cfa !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cfa );return _cfa ;};_aff ,_ggb :=_dae .(*_cd .PdfColorDeviceRGB );if !_ggb {_dfe .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _cfa ;};_fae .SetRGBA (_aff .R (),_aff .G (),_aff .B (),1);_fae .Stroke ();case "\u0073":_affa ,_bbd :=_eee .ColorspaceStroking .ColorToRGB (_eee .ColorStroking );if _bbd !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bbd );return _bbd ;};_agg ,_gb :=_affa .(*_cd .PdfColorDeviceRGB );if !_gb {_dfe .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _bbd ;};_fae .ClosePath ();_fae .NewSubPath ();_fae .SetRGBA (_agg .R (),_agg .G (),_agg .B (),1);_fae .Stroke ();case "\u0066","\u0046":_cab ,_baf :=_eee .ColorspaceNonStroking .ColorToRGB (_eee .ColorNonStroking );if _baf !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_baf );return _baf ;};_efe ,_gaa :=_cab .(*_cd .PdfColorDeviceRGB );if !_gaa {_dfe .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _baf ;};_fae .SetRGBA (_efe .R (),_efe .G (),_efe .B (),1);_fae .SetFillRule (_ba .FillRuleWinding );_fae .Fill ();case "\u0066\u002a":_gfc ,_ade :=_eee .ColorspaceNonStroking .ColorToRGB (_eee .ColorNonStroking );if _ade !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ade );return _ade ;};_dabg ,_gbe :=_gfc .(*_cd .PdfColorDeviceRGB );if !_gbe {_dfe .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _ade ;};_fae .SetRGBA (_dabg .R (),_dabg .G (),_dabg .B (),1);_fae .SetFillRule (_ba .FillRuleEvenOdd );_fae .Fill ();case "\u0042":_eff ,_cfb :=_eee .ColorspaceNonStroking .ColorToRGB (_eee .ColorNonStroking );if _cfb !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cfb );return _cfb ;};_gad :=_eff .(*_cd .PdfColorDeviceRGB );_fae .SetRGBA (_gad .R (),_gad .G (),_gad .B (),1);_fae .SetFillRule (_ba .FillRuleWinding );_fae .FillPreserve ();_eff ,_cfb =_eee .ColorspaceStroking .ColorToRGB (_eee .ColorStroking );if _cfb !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cfb );return _cfb ;};_gad =_eff .(*_cd .PdfColorDeviceRGB );_fae .SetRGBA (_gad .R (),_gad .G (),_gad .B (),1);_fae .Stroke ();case "\u0042\u002a":_egc ,_dcb :=_eee .ColorspaceNonStroking .ColorToRGB (_eee .ColorNonStroking );if _dcb !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dcb );return _dcb ;};_acf :=_egc .(*_cd .PdfColorDeviceRGB );_fae .SetRGBA (_acf .R (),_acf .G (),_acf .B (),1);_fae .SetFillRule (_ba .FillRuleEvenOdd );_fae .FillPreserve ();_egc ,_dcb =_eee .ColorspaceStroking .ColorToRGB (_eee .ColorStroking );if _dcb !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dcb );return _dcb ;};_acf =_egc .(*_cd .PdfColorDeviceRGB );_fae .SetRGBA (_acf .R (),_acf .G (),_acf .B (),1);_fae .Stroke ();case "\u0062":_bca ,_affae :=_eee .ColorspaceNonStroking .ColorToRGB (_eee .ColorNonStroking );if _affae !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_affae );return _affae ;};_gd :=_bca .(*_cd .PdfColorDeviceRGB );_fae .SetRGBA (_gd .R (),_gd .G (),_gd .B (),1);_fae .ClosePath ();_fae .NewSubPath ();_fae .SetFillRule (_ba .FillRuleWinding );_fae .FillPreserve ();_bca ,_affae =_eee .ColorspaceStroking .ColorToRGB (_eee .ColorStroking );if _affae !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_affae );return _affae ;};_gd =_bca .(*_cd .PdfColorDeviceRGB );_fae .SetRGBA (_gd .R (),_gd .G (),_gd .B (),1);_fae .Stroke ();case "\u0062\u002a":_fae .ClosePath ();_dfb ,_efa :=_eee .ColorspaceNonStroking .ColorToRGB (_eee .ColorNonStroking );if _efa !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_efa );return _efa ;};_eed :=_dfb .(*_cd .PdfColorDeviceRGB );_fae .SetRGBA (_eed .R (),_eed .G (),_eed .B (),1);_fae .NewSubPath ();_fae .SetFillRule (_ba .FillRuleEvenOdd );_fae .FillPreserve ();_dfb ,_efa =_eee .ColorspaceStroking .ColorToRGB (_eee .ColorStroking );if _efa !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_efa );return _efa ;};_eed =_dfb .(*_cd .PdfColorDeviceRGB );_fae .SetRGBA (_eed .R (),_eed .G (),_eed .B (),1);_fae .Stroke ();case "\u006e":_fae .ClearPath ();case "\u0057":_fae .SetFillRule (_ba .FillRuleWinding );_fae .ClipPreserve ();case "\u0057\u002a":_fae .SetFillRule (_ba .FillRuleEvenOdd );_fae .ClipPreserve ();case "\u0072\u0067":_dgf ,_ge :=_eee .ColorNonStroking .(*_cd .PdfColorDeviceRGB );if !_ge {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorNonStroking );return nil ;};_fae .SetFillRGBA (_dgf .R (),_dgf .G (),_dgf .B (),1);case "\u0052\u0047":_cac ,_cge :=_eee .ColorStroking .(*_cd .PdfColorDeviceRGB );if !_cge {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorStroking );return nil ;};_fae .SetStrokeRGBA (_cac .R (),_cac .G (),_cac .B (),1);case "\u006b":_aae ,_dgc :=_eee .ColorNonStroking .(*_cd .PdfColorDeviceCMYK );if !_dgc {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorNonStroking );return nil ;};_dabb ,_fab :=_eee .ColorspaceNonStroking .ColorToRGB (_aae );if _fab !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorNonStroking );return nil ;};_cec ,_dgc :=_dabb .(*_cd .PdfColorDeviceRGB );if !_dgc {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dabb );return nil ;};_fae .SetFillRGBA (_cec .R (),_cec .G (),_cec .B (),1);case "\u004b":_eda ,_dfd :=_eee .ColorStroking .(*_cd .PdfColorDeviceCMYK );if !_dfd {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorStroking );return nil ;};_bdeb ,_edd :=_eee .ColorspaceStroking .ColorToRGB (_eda );if _edd !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorStroking );return nil ;};_dce ,_dfd :=_bdeb .(*_cd .PdfColorDeviceRGB );if !_dfd {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bdeb );return nil ;};_fae .SetStrokeRGBA (_dce .R (),_dce .G (),_dce .B (),1);case "\u0067":_eea ,_bfe :=_eee .ColorNonStroking .(*_cd .PdfColorDeviceGray );if !_bfe {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorNonStroking );return nil ;};_bbb ,_abe :=_eee .ColorspaceNonStroking .ColorToRGB (_eea );if _abe !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorNonStroking );return nil ;};_beb ,_bfe :=_bbb .(*_cd .PdfColorDeviceRGB );if !_bfe {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bbb );return nil ;};_fae .SetFillRGBA (_beb .R (),_beb .G (),_beb .B (),1);case "\u0047":_fec ,_fbb :=_eee .ColorStroking .(*_cd .PdfColorDeviceGray );if !_fbb {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorStroking );return nil ;};_bfca ,_cgf :=_eee .ColorspaceStroking .ColorToRGB (_fec );if _cgf !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorStroking );return nil ;};_gac ,_fbb :=_bfca .(*_cd .PdfColorDeviceRGB );if !_fbb {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bfca );return nil ;};_fae .SetStrokeRGBA (_gac .R (),_gac .G (),_gac .B (),1);case "\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_cag ,_ede :=_eee .ColorspaceNonStroking .ColorToRGB (_eee .ColorNonStroking );if _ede !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorNonStroking );return nil ;};_abd ,_cbc :=_cag .(*_cd .PdfColorDeviceRGB );if !_cbc {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cag );return nil ;};_fae .SetFillRGBA (_abd .R (),_abd .G (),_abd .B (),1);case "\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_gba ,_cdd :=_eee .ColorspaceStroking .ColorToRGB (_eee .ColorStroking );if _cdd !=nil {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eee .ColorStroking );return nil ;};_dcab ,_acg :=_gba .(*_cd .PdfColorDeviceRGB );if !_acg {_dfe .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gba );return nil ;};_fae .SetStrokeRGBA (_dcab .R (),_dcab .G (),_dcab .B (),1);case "\u0044\u006f":if len (_aa .Params )!=1{return _bb ;};_gbb ,_feca :=_da .GetName (_aa .Params [0]);if !_feca {return _fee ;};_ ,_bdb :=_fcf .GetXObjectByName (*_gbb );switch _bdb {case _cd .XObjectTypeImage :_dfe .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_gbb .String ());_fge ,_eegg :=_fcf .GetXObjectImageByName (*_gbb );if _eegg !=nil {return _eegg ;};_dabc ,_eegg :=_fge .ToImage ();if _eegg !=nil {return _eegg ;};_adeb ,_ :=_da .GetBoolVal (_fge .ImageMask );if _aef :=_fge .ColorSpace ;_aef !=nil {var _bgd bool ;switch _aef .(type ){case *_cd .PdfColorspaceSpecialIndexed :_bgd =true ;case *_cd .PdfColorspaceDeviceGray :_bgd =_adeb ;};if _bgd {if _dge ,_gff :=_aef .ImageToRGB (*_dabc );_gff !=nil {_dfe .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");}else {_dabc =&_dge ;};};};var _afg _ef .Image ;if _adeb {_afg =_dcbb (_dabc ,_fae .FillPattern ().ColorAt (0,0));}else {_afg ,_eegg =_dabc .ToGoImage ();if _eegg !=nil {return _eegg ;};};_ecgg :=_afg .Bounds ();_fae .Push ();_fae .Scale (1.0/float64 (_ecgg .Dx ()),-1.0/float64 (_ecgg .Dy ()));_fae .DrawImageAnchored (_afg ,0,0,0,1);_fae .Pop ();case _cd .XObjectTypeForm :_dfe .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_gbb .String ());_egd ,_aca :=_fcf .GetXObjectFormByName (*_gbb );if _aca !=nil {return _aca ;};_bbc ,_aca :=_egd .GetContentStream ();if _aca !=nil {return _aca ;};_cbff :=_egd .Resources ;if _cbff ==nil {_cbff =_fcf ;};_fae .Push ();if _egd .Matrix !=nil {_bgg ,_eegb :=_da .GetArray (_egd .Matrix );if !_eegb {return _fee ;};_gc ,_cgd :=_da .GetNumbersAsFloat (_bgg .Elements ());if _cgd !=nil {return _cgd ;};if len (_gc )!=6{return _bb ;};_cfd :=_ee .NewMatrix (_gc [0],_gc [1],_gc [2],_gc [3],_gc [4],_gc [5]);_fae .SetMatrix (_fae .Matrix ().Mult (_cfd ));};if _egd .BBox !=nil {_bcc ,_defg :=_da .GetArray (_egd .BBox );if !_defg {return _fee ;};_cbb ,_bfg :=_da .GetNumbersAsFloat (_bcc .Elements ());if _bfg !=nil {return _bfg ;};if len (_cbb )!=4{_dfe .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_cbb ));return _bb ;};_fae .DrawRectangle (_cbb [0],_cbb [1],_cbb [2]-_cbb [0],_cbb [3]-_cbb [1]);_fae .SetRGBA (1,0,0,1);_fae .Clip ();}else {_dfe .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");};_aca =_gg .renderContentStream (_fae ,string (_bbc ),_cbff );if _aca !=nil {return _aca ;};_fae .Pop ();};case "\u0042\u0049":if len (_aa .Params )!=1{return _bb ;};_db ,_abc :=_aa .Params [0].(*_df .ContentStreamInlineImage );if !_abc {return nil ;};_bea ,_eeag :=_db .ToImage (_fcf );if _eeag !=nil {return _eeag ;};_bggf ,_eeag :=_bea .ToGoImage ();if _eeag !=nil {return _eeag ;};_bbcf :=_bggf .Bounds ();_fae .Push ();_fae .Scale (1.0/float64 (_bbcf .Dx ()),-1.0/float64 (_bbcf .Dy ()));_fae .DrawImageAnchored (_bggf ,0,0,0,1);_fae .Pop ();case "\u0042\u0054":_fffa .Reset ();case "\u0045\u0054":_fffa .Reset ();case "\u0054\u004c":if len (_aa .Params )!=1{return _bb ;};_bgc ,_gga :=_da .GetNumberAsFloat (_aa .Params [0]);if _gga !=nil {return _gga ;};_fffa .Tl =_bgc ;case "\u0054\u0063":if len (_aa .Params )!=1{return _bb ;};_ecc ,_egb :=_da .GetNumberAsFloat (_aa .Params [0]);if _egb !=nil {return _egb ;};_dfe .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_ecc );_fffa .Tc =_ecc ;case "\u0054\u0077":if len (_aa .Params )!=1{return _bb ;};_eb ,_ecgf :=_da .GetNumberAsFloat (_aa .Params [0]);if _ecgf !=nil {return _ecgf ;};_dfe .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_eb );_fffa .Tw =_eb ;case "\u0054\u007a":if len (_aa .Params )!=1{return _bb ;};_dfc ,_eba :=_da .GetNumberAsFloat (_aa .Params [0]);if _eba !=nil {return _eba ;};_fffa .Th =_dfc ;case "\u0054\u0073":if len (_aa .Params )!=1{return _bb ;};_gfcc ,_ged :=_da .GetNumberAsFloat (_aa .Params [0]);if _ged !=nil {return _ged ;};_fffa .Ts =_gfcc ;case "\u0054\u0064":if len (_aa .Params )!=2{return _bb ;};_ggc ,_fcc :=_da .GetNumbersAsFloat (_aa .Params );if _fcc !=nil {return _fcc ;};_dfe .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_ggc );_fffa .ProcTd (_ggc [0],_ggc [1]);case "\u0054\u0044":if len (_aa .Params )!=2{return _bb ;};_fbbe ,_afe :=_da .GetNumbersAsFloat (_aa .Params );if _afe !=nil {return _afe ;};_dfe .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_fbbe );_fffa .ProcTD (_fbbe [0],_fbbe [1]);case "\u0054\u002a":_fffa .ProcTStar ();case "\u0054\u006d":if len (_aa .Params )!=6{return _bb ;};_gfca ,_cdc :=_da .GetNumbersAsFloat (_aa .Params );if _cdc !=nil {return _cdc ;};_dfe .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_gfca );_fffa .ProcTm (_gfca [0],_gfca [1],_gfca [2],_gfca [3],_gfca [4],_gfca [5]);case "\u0027":if len (_aa .Params )!=1{return _bb ;};_bcd ,_gaf :=_da .GetStringBytes (_aa .Params [0]);if !_gaf {return _fee ;};_dfe .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_bcd ));_fffa .ProcQ (_bcd ,_fae );case "\u0022":if len (_aa .Params )!=3{return _bb ;};_dfg ,_ecd :=_da .GetNumberAsFloat (_aa .Params [0]);if _ecd !=nil {return _ecd ;};_cfde ,_ecd :=_da .GetNumberAsFloat (_aa .Params [1]);if _ecd !=nil {return _ecd ;};_aeb ,_bcaf :=_da .GetStringBytes (_aa .Params [2]);if !_bcaf {return _fee ;};_fffa .ProcDQ (_aeb ,_dfg ,_cfde ,_fae );case "\u0054\u006a":if len (_aa .Params )!=1{return _bb ;};_bbbe ,_gce :=_da .GetStringBytes (_aa .Params [0]);if !_gce {return _fee ;};_dfe .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_bbbe ));_fffa .ProcTj (_bbbe ,_fae );case "\u0054\u004a":if len (_aa .Params )!=1{return _bb ;};_bbbb ,_gea :=_da .GetArray (_aa .Params [0]);if !_gea {_dfe .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_bbbb );return _fee ;};_dfe .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_bbbb );for _ ,_gbf :=range _bbbb .Elements (){switch _ggaf :=_gbf .(type ){case *_da .PdfObjectString :if _ggaf !=nil {_fffa .ProcTj (_ggaf .Bytes (),_fae );};case *_da .PdfObjectFloat ,*_da .PdfObjectInteger :_bff ,_bfcd :=_da .GetNumberAsFloat (_ggaf );if _bfcd ==nil {_fffa .Translate (-_bff *0.001*_fffa .Tf .Size *_fffa .Th /100.0,0);};};};case "\u0054\u0066":if len (_aa .Params )!=2{return _bb ;};_dfe .Log .Debug ("\u0025\u0023\u0076",_aa .Params );_gfb ,_acae :=_da .GetName (_aa .Params [0]);if !_acae ||_gfb ==nil {_dfe .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_aa .Params [0]);return _fee ;};_dfe .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_gfb .String ());_aaec ,_bge :=_da .GetNumberAsFloat (_aa .Params [1]);if _bge !=nil {_dfe .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_aa .Params [1]);return _fee ;};_dfe .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_aaec );_bag ,_aac :=_fcf .GetFontByName (*_gfb );if !_aac {_dfe .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_gfb .String ());return _g .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_dfe .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_bag );_fea ,_acae :=_da .GetDict (_bag );if !_acae {_dfe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");return _fee ;};_gee ,_bge :=_cd .NewPdfFontFromPdfObject (_fea );if _bge !=nil {_dfe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");return _bge ;};_gdd :=_gee .BaseFont ();if _gdd ==""{_gdd =_gfb .String ();};_bee ,_acae :=_cf [_gdd ];if !_acae {_bee ,_bge =_ba .NewTextFont (_gee ,_aaec );if _bge !=nil {_dfe .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bge );};};if _bee ==nil {if len (_gdd )> 7&&_gdd [6]=='+'{_gdd =_gdd [7:];};_ecgb :=[]string {_gdd ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};for _ ,_eac :=range _ecgb {_dfe .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_eac );if _bee ,_acae =_cf [_eac ];_acae {break ;};_gddc :=_ac .Match (_eac );if _gddc ==nil {_dfe .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_eac );continue ;};_bee ,_bge =_ba .NewTextFontFromPath (_gddc .Filename ,_aaec );if _bge !=nil {_dfe .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_gddc .Filename );continue ;};_dfe .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_gdd ,_gddc .Name ,_gddc .Filename );_cf [_eac ]=_bee ;break ;};};if _bee ==nil {_dfe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");return _g .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_fffa .ProcTf (_bee .WithSize (_aaec ,_gee ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":case "\u0045\u004d\u0043":default:_dfe .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_aa .Operand );};return nil ;});_ffd =_eeg .Process (_ded );if _ffd !=nil {return _ffd ;};return nil ;};

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _eg ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_bf .TrackUse (_eg );return &ImageDevice {};};type renderer struct{_ce float64 };func (_gf renderer )renderPage (_aec _ba .Context ,_fa *_cd .PdfPage )error {_dd ,_aba :=_fa .GetAllContentStreams ();if _aba !=nil {return _aba ;};if _gf ._ce !=1.0{_dd =_dg .Sprintf ("\u0025\u002e\u0032f \u0030\u0020\u0030\u0020\u0025\u002e\u0032\u0066\u0020\u0030\u0020\u0030\u0020\u0063\u006d\u0020\u0025\u0073",_gf ._ce ,_gf ._ce ,_dd );};_aec .Translate (0,float64 (_aec .Height ()));_aec .Scale (1,-1);_aec .Push ();_aec .SetRGBA (1,1,1,1);_aec .DrawRectangle (0,0,float64 (_aec .Width ()),float64 (_aec .Height ()));_aec .Fill ();_aec .Pop ();_aec .SetLineWidth (1.0);_aec .SetRGBA (0,0,0,1);return _gf .renderContentStream (_aec ,_dd ,_fa .Resources );};var (_fee =_g .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_bb =_g .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func _dcbb (_abff *_cd .Image ,_gafa _be .Color )_ef .Image {_feb ,_edg :=int (_abff .Width ),int (_abff .Height );_bggg :=_ef .NewRGBA (_ef .Rect (0,0,_feb ,_edg ));for _edac :=0;_edac < _edg ;_edac ++{for _fbg :=0;_fbg < _feb ;_fbg ++{_aefa ,_cce :=_abff .ColorAt (_fbg ,_edac );if _cce !=nil {_dfe .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_fbg ,_edac );continue ;};_gbc ,_bffd ,_gbcf ,_ :=_aefa .RGBA ();var _dgg _be .Color ;if _gbc +_bffd +_gbcf ==0{_dgg =_aefa ;}else {_dgg =_be .Transparent ;};_bggg .Set (_fbg ,_edac ,_dgg );};};return _bggg ;};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_fbc *ImageDevice )RenderToPath (page *_cd .PdfPage ,outputPath string )error {_bd ,_bdd :=_fbc .Render (page );if _bdd !=nil {return _bdd ;};_ca :=_d .ToLower (_ad .Ext (outputPath ));if _ca ==""{return _g .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");};switch _ca {case "\u002e\u0070\u006e\u0067":return _gced (outputPath ,_bd );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _bbbbc (outputPath ,_bd ,100);};return _dg .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_ca );};

// Render converts the specified PDF page into an image and returns the result.
func (_cb *ImageDevice )Render (page *_cd .PdfPage )(_ef .Image ,error ){_cc ,_fc :=page .GetMediaBox ();if _fc !=nil {return nil ,_fc ;};_cc .Normalize ();_cde ,_dec :=_cc .Llx +_cc .Width (),_cc .Lly +_cc .Height ();_fb :=_cde ;_egg :=page .CropBox ;if _egg !=nil {_egg .Normalize ();_fb =_egg .Llx +_egg .Width ();};_cb ._ce =1.0;if _cb .OutputWidth !=0{_cb ._ce =float64 (_cb .OutputWidth )/_fb ;_cde ,_dec =_cde *_cb ._ce ,_dec *_cb ._ce ;};_ab :=_def .NewContext (int (_cde ),int (_dec ));if _abf :=_cb .renderPage (_ab ,page );_abf !=nil {return nil ,_abf ;};_fg :=_ab .Image ();if _egg !=nil {_dea ,_ff :=int (_egg .Width ()*_cb ._ce ),int (_egg .Height ()*_cb ._ce );_fe :=_ef .Rect (0,0,_dea ,_ff );_ae ,_fff :=int (_egg .Llx *_cb ._ce ),int (_dec -_egg .Ury *_cb ._ce );_dgd :=_ef .Pt (_ae ,_fff );_bfc :=_ef .NewRGBA (_fe );_b .Draw (_bfc ,_fe ,_fg ,_dgd ,_b .Src );_fg =_bfc ;};return _fg ,nil ;};
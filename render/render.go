//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_g "errors";_b "fmt";_eb "github.com/adrg/sysfont";_gdc "github.com/unidoc/unipdf/v3/common";_d "github.com/unidoc/unipdf/v3/contentstream";_ee "github.com/unidoc/unipdf/v3/contentstream/draw";_bba "github.com/unidoc/unipdf/v3/core";
_bb "github.com/unidoc/unipdf/v3/internal/license";_bfd "github.com/unidoc/unipdf/v3/internal/transform";_gf "github.com/unidoc/unipdf/v3/model";_ef "github.com/unidoc/unipdf/v3/render/internal/context";_bf "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";
_ag "golang.org/x/image/draw";_c "image";_aa "image/color";_fe "image/draw";_gg "image/jpeg";_ea "image/png";_fg "math";_gd "os";_f "path/filepath";_a "strings";);func _ggb (_bgfg _bba .PdfObject ,_fga _aa .Color )(_c .Image ,error ){_gecf ,_dbc :=_bba .GetStream (_bgfg );
if !_dbc {return nil ,nil ;};_fggg ,_fac :=_gf .NewXObjectImageFromStream (_gecf );if _fac !=nil {return nil ,_fac ;};_eabg ,_fac :=_fggg .ToImage ();if _fac !=nil {return nil ,_fac ;};return _bfa (_eabg ,_fga ),nil ;};func (_gbb renderer )renderPage (_dad _ef .Context ,_af *_gf .PdfPage ,_ebf _bfd .Matrix )error {_fc ,_aag :=_af .GetAllContentStreams ();
if _aag !=nil {return _aag ;};if _fdd :=_ebf ;!_fdd .Identity (){_fc =_b .Sprintf ("%\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066 \u0025\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066\u0020\u0063\u006d\u0020%\u0073",_fdd [0],_fdd [1],_fdd [3],_fdd [4],_fdd [6],_fdd [7],_fc );
};_dad .Translate (0,float64 (_dad .Height ()));_dad .Scale (1,-1);_dad .Push ();_dad .SetRGBA (1,1,1,1);_dad .DrawRectangle (0,0,float64 (_dad .Width ()),float64 (_dad .Height ()));_dad .Fill ();_dad .Pop ();_dad .SetLineWidth (1.0);_dad .SetRGBA (0,0,0,1);
return _gbb .renderContentStream (_dad ,_fc ,_af .Resources );};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_de *ImageDevice )RenderToPath (page *_gf .PdfPage ,outputPath string )error {_cc ,_beb :=_de .Render (page );if _beb !=nil {return _beb ;};_ac :=_a .ToLower (_f .Ext (outputPath ));if _ac ==""{return _g .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");
};switch _ac {case "\u002e\u0070\u006e\u0067":return _fec (outputPath ,_cc );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _cef (outputPath ,_cc ,100);};return _b .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_ac );
};func _cafb (_geaa *_gf .Image ,_adc _aa .Color )_c .Image {_egg ,_gcda :=int (_geaa .Width ),int (_geaa .Height );_eeb :=_c .NewRGBA (_c .Rect (0,0,_egg ,_gcda ));for _cec :=0;_cec < _gcda ;_cec ++{for _beef :=0;_beef < _egg ;_beef ++{_gbfg ,_dada :=_geaa .ColorAt (_beef ,_cec );
if _dada !=nil {_gdc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_beef ,_cec );
continue ;};_acc ,_ead ,_abc ,_ :=_gbfg .RGBA ();var _aabe _aa .Color ;if _acc +_ead +_abc ==0{_aabe =_adc ;}else {_aabe =_aa .Transparent ;};_eeb .Set (_beef ,_cec ,_aabe );};};return _eeb ;};func _fgge (_gab _bba .PdfObject ,_edcb _aa .Color )(_c .Image ,error ){_edce ,_gga :=_bba .GetStream (_gab );
if !_gga {return nil ,nil ;};_gfba ,_dea :=_gf .NewXObjectImageFromStream (_edce );if _dea !=nil {return nil ,_dea ;};_aadg ,_dea :=_gfba .ToImage ();if _dea !=nil {return nil ,_dea ;};return _cafb (_aadg ,_edcb ),nil ;};func (_gfb renderer )renderContentStream (_ca _ef .Context ,_cgd string ,_efcf *_gf .PdfPageResources )error {_agc ,_gee :=_d .NewContentStreamParser (_cgd ).Parse ();
if _gee !=nil {return _gee ;};_ebg :=_ca .TextState ();_ebg .GlobalScale =_gfb ._ggc ;_fcf :=map[string ]*_ef .TextFont {};_cd :=_eb .NewFinder (&_eb .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});_afc :=_d .NewContentStreamProcessor (*_agc );
_afc .AddHandler (_d .HandlerConditionEnumAllOperands ,"",func (_bda *_d .ContentStreamOperation ,_fbb _d .GraphicsState ,_ddg *_gf .PdfPageResources )error {_gdc .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_bda .Operand );
switch _bda .Operand {case "\u0071":_ca .Push ();case "\u0051":_ca .Pop ();_ebg =_ca .TextState ();case "\u0063\u006d":if len (_bda .Params )!=6{return _bfg ;};_bgg ,_dgd :=_bba .GetNumbersAsFloat (_bda .Params );if _dgd !=nil {return _dgd ;};_eff :=_bfd .NewMatrix (_bgg [0],_bgg [1],_bgg [2],_bgg [3],_bgg [4],_bgg [5]);
_gdc .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_eff );_ca .SetMatrix (_ca .Matrix ().Mult (_eff ));case "\u0077":if len (_bda .Params )!=1{return _bfg ;
};_fgf ,_db :=_bba .GetNumbersAsFloat (_bda .Params );if _db !=nil {return _db ;};_ca .SetLineWidth (_fgf [0]);case "\u004a":if len (_bda .Params )!=1{return _bfg ;};_cda ,_dda :=_bba .GetIntVal (_bda .Params [0]);if !_dda {return _dee ;};switch _cda {case 0:_ca .SetLineCap (_ef .LineCapButt );
case 1:_ca .SetLineCap (_ef .LineCapRound );case 2:_ca .SetLineCap (_ef .LineCapSquare );default:_gdc .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_cda );
return _bfg ;};case "\u006a":if len (_bda .Params )!=1{return _bfg ;};_gc ,_gfa :=_bba .GetIntVal (_bda .Params [0]);if !_gfa {return _dee ;};switch _gc {case 0:_ca .SetLineJoin (_ef .LineJoinBevel );case 1:_ca .SetLineJoin (_ef .LineJoinRound );case 2:_ca .SetLineJoin (_ef .LineJoinBevel );
default:_gdc .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_gc );return _bfg ;};case "\u004d":if len (_bda .Params )!=1{return _bfg ;};_bcb ,_efd :=_bba .GetNumbersAsFloat (_bda .Params );
if _efd !=nil {return _efd ;};_ =_bcb ;_gdc .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_bda .Params )!=2{return _bfg ;};_df ,_cge :=_bba .GetArray (_bda .Params [0]);
if !_cge {return _dee ;};_efcfc ,_cge :=_bba .GetIntVal (_bda .Params [1]);if !_cge {return _dee ;};_ggg ,_fgg :=_bba .GetNumbersAsFloat (_df .Elements ());if _fgg !=nil {return _fgg ;};_ca .SetDash (_ggg ...);_ =_efcfc ;_gdc .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");
case "\u0072\u0069":_gdc .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0069":_gdc .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");
case "\u0067\u0073":if len (_bda .Params )!=1{return _bfg ;};_abe ,_abb :=_bba .GetName (_bda .Params [0]);if !_abb {return _dee ;};if _abe ==nil {return _bfg ;};_fa ,_abb :=_ddg .GetExtGState (*_abe );if !_abb {_gdc .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_abe );
return _g .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_ed ,_abb :=_bba .GetDict (_fa );if !_abb {_gdc .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");
return _dee ;};_gdc .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_ed .String ());case "\u006d":if len (_bda .Params )!=2{_gdc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_bfg );
return nil ;};_eeg ,_fca :=_bba .GetNumbersAsFloat (_bda .Params );if _fca !=nil {return _fca ;};_gdc .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_eeg );_ca .NewSubPath ();_ca .MoveTo (_eeg [0],_eeg [1]);case "\u006c":if len (_bda .Params )!=2{_gdc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_bfg );
return nil ;};_eda ,_aad :=_bba .GetNumbersAsFloat (_bda .Params );if _aad !=nil {return _aad ;};_ca .LineTo (_eda [0],_eda [1]);case "\u0063":if len (_bda .Params )!=6{return _bfg ;};_gdd ,_bdd :=_bba .GetNumbersAsFloat (_bda .Params );if _bdd !=nil {return _bdd ;
};_gdc .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_gdd );_ca .CubicTo (_gdd [0],_gdd [1],_gdd [2],_gdd [3],_gdd [4],_gdd [5]);case "\u0076","\u0079":if len (_bda .Params )!=4{return _bfg ;
};_bfgc ,_cgeg :=_bba .GetNumbersAsFloat (_bda .Params );if _cgeg !=nil {return _cgeg ;};_gdc .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_bfgc );
_ca .QuadraticTo (_bfgc [0],_bfgc [1],_bfgc [2],_bfgc [3]);case "\u0068":_ca .ClosePath ();_ca .NewSubPath ();case "\u0072\u0065":if len (_bda .Params )!=4{return _bfg ;};_aab ,_dc :=_bba .GetNumbersAsFloat (_bda .Params );if _dc !=nil {return _dc ;};_ca .DrawRectangle (_aab [0],_aab [1],_aab [2],_aab [3]);
_ca .NewSubPath ();case "\u0053":_def ,_cae :=_fbb .ColorspaceStroking .ColorToRGB (_fbb .ColorStroking );if _cae !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cae );
return _cae ;};_ggd ,_bfb :=_def .(*_gf .PdfColorDeviceRGB );if !_bfb {_gdc .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _cae ;};_ca .SetRGBA (_ggd .R (),_ggd .G (),_ggd .B (),1);
_ca .Stroke ();case "\u0073":_cb ,_dae :=_fbb .ColorspaceStroking .ColorToRGB (_fbb .ColorStroking );if _dae !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dae );
return _dae ;};_dec ,_afd :=_cb .(*_gf .PdfColorDeviceRGB );if !_afd {_gdc .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _dae ;};_ca .ClosePath ();_ca .NewSubPath ();
_ca .SetRGBA (_dec .R (),_dec .G (),_dec .B (),1);_ca .Stroke ();case "\u0066","\u0046":_agf ,_fcc :=_fbb .ColorspaceNonStroking .ColorToRGB (_fbb .ColorNonStroking );if _fcc !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fcc );
return _fcc ;};_efe ,_geg :=_agf .(*_gf .PdfColorDeviceRGB );if !_geg {_gdc .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _fcc ;};_ca .SetRGBA (_efe .R (),_efe .G (),_efe .B (),1);
_ca .SetFillRule (_ef .FillRuleWinding );_ca .Fill ();case "\u0066\u002a":_efde ,_bfbb :=_fbb .ColorspaceNonStroking .ColorToRGB (_fbb .ColorNonStroking );if _bfbb !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bfbb );
return _bfbb ;};_bbe ,_bgf :=_efde .(*_gf .PdfColorDeviceRGB );if !_bgf {_gdc .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _bfbb ;};_ca .SetRGBA (_bbe .R (),_bbe .G (),_bbe .B (),1);
_ca .SetFillRule (_ef .FillRuleEvenOdd );_ca .Fill ();case "\u0042":_fcca ,_age :=_fbb .ColorspaceNonStroking .ColorToRGB (_fbb .ColorNonStroking );if _age !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_age );
return _age ;};_eacf :=_fcca .(*_gf .PdfColorDeviceRGB );_ca .SetRGBA (_eacf .R (),_eacf .G (),_eacf .B (),1);_ca .SetFillRule (_ef .FillRuleWinding );_ca .FillPreserve ();_fcca ,_age =_fbb .ColorspaceStroking .ColorToRGB (_fbb .ColorStroking );if _age !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_age );
return _age ;};_eacf =_fcca .(*_gf .PdfColorDeviceRGB );_ca .SetRGBA (_eacf .R (),_eacf .G (),_eacf .B (),1);_ca .Stroke ();case "\u0042\u002a":_feb ,_bga :=_fbb .ColorspaceNonStroking .ColorToRGB (_fbb .ColorNonStroking );if _bga !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bga );
return _bga ;};_bdg :=_feb .(*_gf .PdfColorDeviceRGB );_ca .SetRGBA (_bdg .R (),_bdg .G (),_bdg .B (),1);_ca .SetFillRule (_ef .FillRuleEvenOdd );_ca .FillPreserve ();_feb ,_bga =_fbb .ColorspaceStroking .ColorToRGB (_fbb .ColorStroking );if _bga !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bga );
return _bga ;};_bdg =_feb .(*_gf .PdfColorDeviceRGB );_ca .SetRGBA (_bdg .R (),_bdg .G (),_bdg .B (),1);_ca .Stroke ();case "\u0062":_ebgc ,_bea :=_fbb .ColorspaceNonStroking .ColorToRGB (_fbb .ColorNonStroking );if _bea !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bea );
return _bea ;};_gcg :=_ebgc .(*_gf .PdfColorDeviceRGB );_ca .SetRGBA (_gcg .R (),_gcg .G (),_gcg .B (),1);_ca .ClosePath ();_ca .NewSubPath ();_ca .SetFillRule (_ef .FillRuleWinding );_ca .FillPreserve ();_ebgc ,_bea =_fbb .ColorspaceStroking .ColorToRGB (_fbb .ColorStroking );
if _bea !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bea );return _bea ;};_gcg =_ebgc .(*_gf .PdfColorDeviceRGB );_ca .SetRGBA (_gcg .R (),_gcg .G (),_gcg .B (),1);
_ca .Stroke ();case "\u0062\u002a":_ca .ClosePath ();_efa ,_bgfd :=_fbb .ColorspaceNonStroking .ColorToRGB (_fbb .ColorNonStroking );if _bgfd !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bgfd );
return _bgfd ;};_ba :=_efa .(*_gf .PdfColorDeviceRGB );_ca .SetRGBA (_ba .R (),_ba .G (),_ba .B (),1);_ca .NewSubPath ();_ca .SetFillRule (_ef .FillRuleEvenOdd );_ca .FillPreserve ();_efa ,_bgfd =_fbb .ColorspaceStroking .ColorToRGB (_fbb .ColorStroking );
if _bgfd !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bgfd );return _bgfd ;};_ba =_efa .(*_gf .PdfColorDeviceRGB );_ca .SetRGBA (_ba .R (),_ba .G (),_ba .B (),1);
_ca .Stroke ();case "\u006e":_ca .ClearPath ();case "\u0057":_ca .SetFillRule (_ef .FillRuleWinding );_ca .ClipPreserve ();case "\u0057\u002a":_ca .SetFillRule (_ef .FillRuleEvenOdd );_ca .ClipPreserve ();case "\u0072\u0067":_edb ,_gddf :=_fbb .ColorNonStroking .(*_gf .PdfColorDeviceRGB );
if !_gddf {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorNonStroking );return nil ;};_ca .SetFillRGBA (_edb .R (),_edb .G (),_edb .B (),1);
case "\u0052\u0047":_eaag ,_dcf :=_fbb .ColorStroking .(*_gf .PdfColorDeviceRGB );if !_dcf {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorStroking );
return nil ;};_ca .SetStrokeRGBA (_eaag .R (),_eaag .G (),_eaag .B (),1);case "\u006b":_cad ,_eag :=_fbb .ColorNonStroking .(*_gf .PdfColorDeviceCMYK );if !_eag {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorNonStroking );
return nil ;};_beg ,_aga :=_fbb .ColorspaceNonStroking .ColorToRGB (_cad );if _aga !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorNonStroking );
return nil ;};_caf ,_eag :=_beg .(*_gf .PdfColorDeviceRGB );if !_eag {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_beg );return nil ;
};_ca .SetFillRGBA (_caf .R (),_caf .G (),_caf .B (),1);case "\u004b":_fge ,_gdcg :=_fbb .ColorStroking .(*_gf .PdfColorDeviceCMYK );if !_gdcg {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorStroking );
return nil ;};_bfe ,_abec :=_fbb .ColorspaceStroking .ColorToRGB (_fge );if _abec !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorStroking );
return nil ;};_dac ,_gdcg :=_bfe .(*_gf .PdfColorDeviceRGB );if !_gdcg {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bfe );return nil ;
};_ca .SetStrokeRGBA (_dac .R (),_dac .G (),_dac .B (),1);case "\u0067":_cfbf ,_fdb :=_fbb .ColorNonStroking .(*_gf .PdfColorDeviceGray );if !_fdb {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorNonStroking );
return nil ;};_faa ,_ga :=_fbb .ColorspaceNonStroking .ColorToRGB (_cfbf );if _ga !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorNonStroking );
return nil ;};_caa ,_fdb :=_faa .(*_gf .PdfColorDeviceRGB );if !_fdb {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_faa );return nil ;
};_ca .SetFillRGBA (_caa .R (),_caa .G (),_caa .B (),1);case "\u0047":_daea ,_begb :=_fbb .ColorStroking .(*_gf .PdfColorDeviceGray );if !_begb {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorStroking );
return nil ;};_eegf ,_efdd :=_fbb .ColorspaceStroking .ColorToRGB (_daea );if _efdd !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorStroking );
return nil ;};_faaa ,_begb :=_eegf .(*_gf .PdfColorDeviceRGB );if !_begb {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eegf );return nil ;
};_ca .SetStrokeRGBA (_faaa .R (),_faaa .G (),_faaa .B (),1);case "\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_ae ,_ce :=_fbb .ColorspaceNonStroking .ColorToRGB (_fbb .ColorNonStroking );if _ce !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorNonStroking );
return nil ;};_bfba ,_gbe :=_ae .(*_gf .PdfColorDeviceRGB );if !_gbe {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ae );return nil ;
};_ca .SetFillRGBA (_bfba .R (),_bfba .G (),_bfba .B (),1);case "\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_aec ,_cgega :=_fbb .ColorspaceStroking .ColorToRGB (_fbb .ColorStroking );if _cgega !=nil {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbb .ColorStroking );
return nil ;};_eg ,_gbc :=_aec .(*_gf .PdfColorDeviceRGB );if !_gbc {_gdc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aec );return nil ;
};_ca .SetStrokeRGBA (_eg .R (),_eg .G (),_eg .B (),1);case "\u0044\u006f":if len (_bda .Params )!=1{return _bfg ;};_ccg ,_gaa :=_bba .GetName (_bda .Params [0]);if !_gaa {return _dee ;};_ ,_ec :=_ddg .GetXObjectByName (*_ccg );switch _ec {case _gf .XObjectTypeImage :_gdc .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_ccg .String ());
_egb ,_gcc :=_ddg .GetXObjectImageByName (*_ccg );if _gcc !=nil {return _gcc ;};_cff ,_gcc :=_egb .ToImage ();if _gcc !=nil {return _gcc ;};if _agad :=_egb .ColorSpace ;_agad !=nil {var _bbbe bool ;switch _agad .(type ){case *_gf .PdfColorspaceSpecialIndexed :_bbbe =true ;
};if _bbbe {if _cffg ,_fad :=_agad .ImageToRGB (*_cff );_fad !=nil {_gdc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
}else {_cff =&_cffg ;};};};_gegd :=_ca .FillPattern ().ColorAt (0,0);var _dde _c .Image ;if _egb .Mask !=nil {if _dde ,_gcc =_fgge (_egb .Mask ,_gegd );_gcc !=nil {_gdc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
};}else if _egb .SMask !=nil {if _dde ,_gcc =_ggb (_egb .SMask ,_gegd );_gcc !=nil {_gdc .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};var _gfe _c .Image ;if _ddb ,_ :=_bba .GetBoolVal (_egb .ImageMask );_ddb {_gfe =_cafb (_cff ,_gegd );}else {_gfe ,_gcc =_cff .ToGoImage ();if _gcc !=nil {return _gcc ;};};if _dde !=nil {_gfe =_adfd (_gfe ,_dde );};_febe :=_gfe .Bounds ();_ca .Push ();
_ca .Scale (1.0/float64 (_febe .Dx ()),-1.0/float64 (_febe .Dy ()));_ca .DrawImageAnchored (_gfe ,0,0,0,1);_ca .Pop ();case _gf .XObjectTypeForm :_gdc .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_ccg .String ());
_ebff ,_dff :=_ddg .GetXObjectFormByName (*_ccg );if _dff !=nil {return _dff ;};_gggg ,_dff :=_ebff .GetContentStream ();if _dff !=nil {return _dff ;};_fee :=_ebff .Resources ;if _fee ==nil {_fee =_ddg ;};_ca .Push ();if _ebff .Matrix !=nil {_gea ,_bfgg :=_bba .GetArray (_ebff .Matrix );
if !_bfgg {return _dee ;};_fcae ,_ccc :=_bba .GetNumbersAsFloat (_gea .Elements ());if _ccc !=nil {return _ccc ;};if len (_fcae )!=6{return _bfg ;};_bdgg :=_bfd .NewMatrix (_fcae [0],_fcae [1],_fcae [2],_fcae [3],_fcae [4],_fcae [5]);_ca .SetMatrix (_ca .Matrix ().Mult (_bdgg ));
};if _ebff .BBox !=nil {_cdad ,_edaa :=_bba .GetArray (_ebff .BBox );if !_edaa {return _dee ;};_bebe ,_geae :=_bba .GetNumbersAsFloat (_cdad .Elements ());if _geae !=nil {return _geae ;};if len (_bebe )!=4{_gdc .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_bebe ));
return _bfg ;};_ca .DrawRectangle (_bebe [0],_bebe [1],_bebe [2]-_bebe [0],_bebe [3]-_bebe [1]);_ca .SetRGBA (1,0,0,1);_ca .Clip ();}else {_gdc .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");
};_dff =_gfb .renderContentStream (_ca ,string (_gggg ),_fee );if _dff !=nil {return _dff ;};_ca .Pop ();};case "\u0042\u0049":if len (_bda .Params )!=1{return _bfg ;};_dgac ,_gba :=_bda .Params [0].(*_d .ContentStreamInlineImage );if !_gba {return nil ;
};_dce ,_ecb :=_dgac .ToImage (_ddg );if _ecb !=nil {return _ecb ;};_cfg ,_ecb :=_dce .ToGoImage ();if _ecb !=nil {return _ecb ;};_eagf :=_cfg .Bounds ();_ca .Push ();_ca .Scale (1.0/float64 (_eagf .Dx ()),-1.0/float64 (_eagf .Dy ()));_ca .DrawImageAnchored (_cfg ,0,0,0,1);
_ca .Pop ();case "\u0042\u0054":_ebg .Reset ();case "\u0045\u0054":_ebg .Reset ();case "\u0054\u0072":if len (_bda .Params )!=1{return _bfg ;};_deg ,_dag :=_bba .GetNumberAsFloat (_bda .Params [0]);if _dag !=nil {return _dag ;};_ebg .Tr =_ef .TextRenderingMode (_deg );
case "\u0054\u004c":if len (_bda .Params )!=1{return _bfg ;};_cdd ,_acd :=_bba .GetNumberAsFloat (_bda .Params [0]);if _acd !=nil {return _acd ;};_ebg .Tl =_cdd ;case "\u0054\u0063":if len (_bda .Params )!=1{return _bfg ;};_aed ,_fdbc :=_bba .GetNumberAsFloat (_bda .Params [0]);
if _fdbc !=nil {return _fdbc ;};_gdc .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_aed );_ebg .Tc =_aed ;case "\u0054\u0077":if len (_bda .Params )!=1{return _bfg ;};_ff ,_agg :=_bba .GetNumberAsFloat (_bda .Params [0]);if _agg !=nil {return _agg ;
};_gdc .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_ff );_ebg .Tw =_ff ;case "\u0054\u007a":if len (_bda .Params )!=1{return _bfg ;};_bgc ,_gcd :=_bba .GetNumberAsFloat (_bda .Params [0]);if _gcd !=nil {return _gcd ;};_ebg .Th =_bgc ;case "\u0054\u0073":if len (_bda .Params )!=1{return _bfg ;
};_gcge ,_fgfa :=_bba .GetNumberAsFloat (_bda .Params [0]);if _fgfa !=nil {return _fgfa ;};_ebg .Ts =_gcge ;case "\u0054\u0064":if len (_bda .Params )!=2{return _bfg ;};_ddec ,_ecf :=_bba .GetNumbersAsFloat (_bda .Params );if _ecf !=nil {return _ecf ;};
_gdc .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_ddec );_ebg .ProcTd (_ddec [0],_ddec [1]);case "\u0054\u0044":if len (_bda .Params )!=2{return _bfg ;};_ad ,_fbf :=_bba .GetNumbersAsFloat (_bda .Params );if _fbf !=nil {return _fbf ;};_gdc .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_ad );
_ebg .ProcTD (_ad [0],_ad [1]);case "\u0054\u002a":_ebg .ProcTStar ();case "\u0054\u006d":if len (_bda .Params )!=6{return _bfg ;};_ced ,_eeea :=_bba .GetNumbersAsFloat (_bda .Params );if _eeea !=nil {return _eeea ;};_gdc .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_ced );
_ebg .ProcTm (_ced [0],_ced [1],_ced [2],_ced [3],_ced [4],_ced [5]);case "\u0027":if len (_bda .Params )!=1{return _bfg ;};_dcee ,_fbe :=_bba .GetStringBytes (_bda .Params [0]);if !_fbe {return _dee ;};_gdc .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_dcee ));
_ebg .ProcQ (_dcee ,_ca );case "\u0022":if len (_bda .Params )!=3{return _bfg ;};_ecbb ,_fbbb :=_bba .GetNumberAsFloat (_bda .Params [0]);if _fbbb !=nil {return _fbbb ;};_fbfb ,_fbbb :=_bba .GetNumberAsFloat (_bda .Params [1]);if _fbbb !=nil {return _fbbb ;
};_eeeb ,_gde :=_bba .GetStringBytes (_bda .Params [2]);if !_gde {return _dee ;};_ebg .ProcDQ (_eeeb ,_ecbb ,_fbfb ,_ca );case "\u0054\u006a":if len (_bda .Params )!=1{return _bfg ;};_gbg ,_ceg :=_bba .GetStringBytes (_bda .Params [0]);if !_ceg {return _dee ;
};_gdc .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_gbg ));_ebg .ProcTj (_gbg ,_ca );case "\u0054\u004a":if len (_bda .Params )!=1{return _bfg ;};_ceb ,_cea :=_bba .GetArray (_bda .Params [0]);
if !_cea {_gdc .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_ceb );return _dee ;};_gdc .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_ceb );for _ ,_dace :=range _ceb .Elements (){switch _bee :=_dace .(type ){case *_bba .PdfObjectString :if _bee !=nil {_ebg .ProcTj (_bee .Bytes (),_ca );
};case *_bba .PdfObjectFloat ,*_bba .PdfObjectInteger :_adf ,_aafe :=_bba .GetNumberAsFloat (_bee );if _aafe ==nil {_ebg .Translate (-_adf *0.001*_ebg .Tf .Size *_ebg .Th /100.0,0);};};};case "\u0054\u0066":if len (_bda .Params )!=2{return _bfg ;};_gdc .Log .Debug ("\u0025\u0023\u0076",_bda .Params );
_edc ,_fce :=_bba .GetName (_bda .Params [0]);if !_fce ||_edc ==nil {_gdc .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_bda .Params [0]);
return _dee ;};_gdc .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_edc .String ());_ggge ,_acdb :=_bba .GetNumberAsFloat (_bda .Params [1]);if _acdb !=nil {_gdc .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_bda .Params [1]);
return _dee ;};_gdc .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_ggge );_dfd ,_aea :=_ddg .GetFontByName (*_edc );if !_aea {_gdc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_edc .String ());
return _g .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_gdc .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_dfd );_fcfg ,_fce :=_bba .GetDict (_dfd );if !_fce {_gdc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");
return _dee ;};_efac ,_acdb :=_gf .NewPdfFontFromPdfObject (_fcfg );if _acdb !=nil {_gdc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");
return _acdb ;};_eab :=_efac .BaseFont ();if _eab ==""{_eab =_edc .String ();};_gcf ,_fce :=_fcf [_eab ];if !_fce {_gcf ,_acdb =_ef .NewTextFont (_efac ,_ggge );if _acdb !=nil {_gdc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_acdb );};
};if _gcf ==nil {if len (_eab )> 7&&_eab [6]=='+'{_eab =_eab [7:];};_ecbf :=[]string {_eab ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};
for _ ,_eegg :=range _ecbf {_gdc .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_eegg );if _gcf ,_fce =_fcf [_eegg ];
_fce {break ;};_gfac :=_cd .Match (_eegg );if _gfac ==nil {_gdc .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_eegg );continue ;};_gcf ,_acdb =_ef .NewTextFontFromPath (_gfac .Filename ,_ggge );
if _acdb !=nil {_gdc .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_gfac .Filename );continue ;};_gdc .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_eab ,_gfac .Name ,_gfac .Filename );
_fcf [_eegg ]=_gcf ;break ;};};if _gcf ==nil {_gdc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");
return _g .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_ebg .ProcTf (_gcf .WithSize (_ggge ,_efac ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":case "\u0045\u004d\u0043":default:_gdc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_bda .Operand );
};return nil ;});_gee =_afc .Process (_efcf );if _gee !=nil {return _gee ;};return nil ;};

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _eee ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_bb .TrackUse (_eee );return &ImageDevice {};};func _bfa (_fcg *_gf .Image ,_cdg _aa .Color )_c .Image {_daed ,_bde :=int (_fcg .Width ),int (_fcg .Height );
_gbbg :=_c .NewRGBA (_c .Rect (0,0,_daed ,_bde ));for _bef :=0;_bef < _bde ;_bef ++{for _gec :=0;_gec < _daed ;_gec ++{_gdg ,_aagc :=_fcg .ColorAt (_gec ,_bef );if _aagc !=nil {_gdc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_gec ,_bef );
continue ;};_bgac ,_bfbab ,_gaaf ,_ :=_gdg .RGBA ();var _fbca _aa .Color ;if _bgac +_bfbab +_gaaf ==0{_fbca =_aa .Transparent ;}else {_fbca =_cdg ;};_gbbg .Set (_gec ,_bef ,_fbca );};};return _gbbg ;};func _adfd (_cba ,_ddaa _c .Image )_c .Image {_cgc ,_bcg :=_ddaa .Bounds ().Size (),_cba .Bounds ().Size ();
_baf ,_faad :=_cgc .X ,_cgc .Y ;if _bcg .X > _baf {_baf =_bcg .X ;};if _bcg .Y > _faad {_faad =_bcg .Y ;};_bebf :=_c .Rect (0,0,_baf ,_faad );if _cgc .X !=_baf ||_cgc .Y !=_faad {_acca :=_c .NewRGBA (_bebf );_ag .BiLinear .Scale (_acca ,_bebf ,_cba ,_ddaa .Bounds (),_ag .Over ,nil );
_ddaa =_acca ;};if _bcg .X !=_baf ||_bcg .Y !=_faad {_daf :=_c .NewRGBA (_bebf );_ag .BiLinear .Scale (_daf ,_bebf ,_cba ,_cba .Bounds (),_ag .Over ,nil );_cba =_daf ;};_ccgc :=_c .NewRGBA (_bebf );_ag .DrawMask (_ccgc ,_bebf ,_cba ,_c .Point {},_ddaa ,_c .Point {},_ag .Over );
return _ccgc ;};func _eadf (_egga ,_cfba ,_gfg float64 )_ee .BoundingBox {return _ee .Path {Points :[]_ee .Point {_ee .NewPoint (0,0).Rotate (_gfg ),_ee .NewPoint (_egga ,0).Rotate (_gfg ),_ee .NewPoint (0,_cfba ).Rotate (_gfg ),_ee .NewPoint (_egga ,_cfba ).Rotate (_gfg )}}.GetBoundingBox ();
};func _fec (_fff string ,_ggdb _c .Image )error {_fbc ,_ggeg :=_gd .Create (_fff );if _ggeg !=nil {return _ggeg ;};defer _fbc .Close ();return _ea .Encode (_fbc ,_ggdb );};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};func _cef (_fbce string ,_egf _c .Image ,_gbgf int )error {_abf ,_acf :=_gd .Create (_fbce );if _acf !=nil {return _acf ;};defer _abf .Close ();return _gg .Encode (_abf ,_egf ,&_gg .Options {Quality :_gbgf });};type renderer struct{_ggc float64 };
var (_dee =_g .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_bfg =_g .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););

// Render converts the specified PDF page into an image and returns the result.
func (_eaa *ImageDevice )Render (page *_gf .PdfPage )(_c .Image ,error ){_fb ,_gb :=page .GetMediaBox ();if _gb !=nil {return nil ,_gb ;};_fb .Normalize ();_cf :=page .CropBox ;var _fd ,_ge float64 ;if _cf !=nil {_cf .Normalize ();_fd ,_ge =_cf .Width (),_cf .Height ();
};_be :=page .Rotate ;_bg ,_bc ,_bd ,_dg :=_fb .Llx ,_fb .Lly ,_fb .Width (),_fb .Height ();_gbf :=_bfd .IdentityMatrix ();if _be !=nil &&*_be %360!=0&&*_be %90==0{_bbb :=-float64 (*_be );_gfc :=_eadf (_bd ,_dg ,_bbb );_gbf =_gbf .Translate ((_gfc .Width -_bd )/2+_bd /2,(_gfc .Height -_dg )/2+_dg /2).Rotate (_bbb *_fg .Pi /180).Translate (-_bd /2,-_dg /2);
_bd ,_dg =_gfc .Width ,_gfc .Height ;if _cf !=nil {_ab :=_eadf (_fd ,_ge ,_bbb );_fd ,_ge =_ab .Width ,_ab .Height ;};};if _bg !=0||_bc !=0{_gbf =_gbf .Translate (-_bg ,-_bc );};_eaa ._ggc =1.0;if _eaa .OutputWidth !=0{_efc :=_bd ;if _cf !=nil {_efc =_fd ;
};_eaa ._ggc =float64 (_eaa .OutputWidth )/_efc ;_bd ,_dg ,_fd ,_ge =_bd *_eaa ._ggc ,_dg *_eaa ._ggc ,_fd *_eaa ._ggc ,_ge *_eaa ._ggc ;_gbf =_bfd .ScaleMatrix (_eaa ._ggc ,_eaa ._ggc ).Mult (_gbf );};_bed :=_bf .NewContext (int (_bd ),int (_dg ));if _cg :=_eaa .renderPage (_bed ,page ,_gbf );
_cg !=nil {return nil ,_cg ;};_aaf :=_bed .Image ();if _cf !=nil {_da ,_dga :=(_cf .Llx -_bg )*_eaa ._ggc ,(_cf .Lly -_bc )*_eaa ._ggc ;_eac :=_c .Rect (0,0,int (_fd ),int (_ge ));_cfb :=_c .Pt (int (_da ),int (_dg -_dga -_ge ));_dd :=_c .NewRGBA (_eac );
_fe .Draw (_dd ,_eac ,_aaf ,_cfb ,_fe .Src );_aaf =_dd ;};return _aaf ,nil ;};
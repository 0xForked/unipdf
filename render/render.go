//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_b "errors";_e "fmt";_bc "github.com/adrg/sysfont";_gg "github.com/unidoc/unipdf/v3/common";_dbg "github.com/unidoc/unipdf/v3/contentstream";_c "github.com/unidoc/unipdf/v3/contentstream/draw";_ff "github.com/unidoc/unipdf/v3/core";
_db "github.com/unidoc/unipdf/v3/internal/license";_dbb "github.com/unidoc/unipdf/v3/internal/transform";_bb "github.com/unidoc/unipdf/v3/model";_gd "github.com/unidoc/unipdf/v3/render/internal/context";_bfd "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";
_g "golang.org/x/image/draw";_df "image";_de "image/color";_ag "image/draw";_bf "image/jpeg";_aef "image/png";_fd "math";_ae "os";_f "path/filepath";_d "strings";);type renderer struct{_cf float64 };

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_bbd *ImageDevice )RenderToPath (page *_bb .PdfPage ,outputPath string )error {_gc ,_bcc :=_bbd .Render (page );if _bcc !=nil {return _bcc ;};_bdb :=_d .ToLower (_f .Ext (outputPath ));if _bdb ==""{return _b .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");
};switch _bdb {case "\u002e\u0070\u006e\u0067":return _cfd (outputPath ,_gc );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _fbbb (outputPath ,_gc ,100);};return _e .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_bdb );
};func _dag (_faaa _ff .PdfObject ,_aaf _de .Color )(_df .Image ,error ){_aefe ,_fdd :=_ff .GetStream (_faaa );if !_fdd {return nil ,nil ;};_cgd ,_eda :=_bb .NewXObjectImageFromStream (_aefe );if _eda !=nil {return nil ,_eda ;};_dedff ,_eda :=_cgd .ToImage ();
if _eda !=nil {return nil ,_eda ;};return _bbge (_dedff ,_aaf ),nil ;};func _cfd (_dgag string ,_cfc _df .Image )error {_fed ,_cab :=_ae .Create (_dgag );if _cab !=nil {return _cab ;};defer _fed .Close ();return _aef .Encode (_fed ,_cfc );};func _fbbb (_beg string ,_eef _df .Image ,_egdg int )error {_begb ,_ebc :=_ae .Create (_beg );
if _ebc !=nil {return _ebc ;};defer _begb .Close ();return _bf .Encode (_begb ,_eef ,&_bf .Options {Quality :_egdg });};func _gce (_gbcf _ff .PdfObject ,_egcb _de .Color )(_df .Image ,error ){_gaca ,_gcb :=_ff .GetStream (_gbcf );if !_gcb {return nil ,nil ;
};_dce ,_cac :=_bb .NewXObjectImageFromStream (_gaca );if _cac !=nil {return nil ,_cac ;};_fgd ,_cac :=_dce .ToImage ();if _cac !=nil {return nil ,_cac ;};return _fgae (_fgd ,_egcb ),nil ;};func _fgae (_gcd *_bb .Image ,_ggbe _de .Color )_df .Image {_ade ,_ecae :=int (_gcd .Width ),int (_gcd .Height );
_ebd :=_df .NewRGBA (_df .Rect (0,0,_ade ,_ecae ));for _fcf :=0;_fcf < _ecae ;_fcf ++{for _abf :=0;_abf < _ade ;_abf ++{_fef ,_ggabf :=_gcd .ColorAt (_abf ,_fcf );if _ggabf !=nil {_gg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_abf ,_fcf );
continue ;};_bcdd ,_fcaf ,_agba ,_ :=_fef .RGBA ();var _gbc _de .Color ;if _bcdd +_fcaf +_agba ==0{_gbc =_ggbe ;}else {_gbc =_de .Transparent ;};_ebd .Set (_abf ,_fcf ,_gbc );};};return _ebd ;};func (_ebf renderer )renderPage (_ca _gd .Context ,_dda *_bb .PdfPage ,_ece _dbb .Matrix )error {_ge ,_gdb :=_dda .GetAllContentStreams ();
if _gdb !=nil {return _gdb ;};if _geb :=_ece ;!_geb .Identity (){_ge =_e .Sprintf ("%\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066 \u0025\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066\u0020\u0063\u006d\u0020%\u0073",_geb [0],_geb [1],_geb [3],_geb [4],_geb [6],_geb [7],_ge );
};_ca .Translate (0,float64 (_ca .Height ()));_ca .Scale (1,-1);_ca .Push ();_ca .SetRGBA (1,1,1,1);_ca .DrawRectangle (0,0,float64 (_ca .Width ()),float64 (_ca .Height ()));_ca .Fill ();_ca .Pop ();_ca .SetLineWidth (1.0);_ca .SetRGBA (0,0,0,1);return _ebf .renderContentStream (_ca ,_ge ,_dda .Resources );
};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _ac ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_db .TrackUse (_ac );return &ImageDevice {};};func _bbge (_fbaa *_bb .Image ,_edd _de .Color )_df .Image {_fac ,_agbe :=int (_fbaa .Width ),int (_fbaa .Height );
_fbae :=_df .NewRGBA (_df .Rect (0,0,_fac ,_agbe ));for _bcca :=0;_bcca < _agbe ;_bcca ++{for _deb :=0;_deb < _fac ;_deb ++{_bea ,_dfa :=_fbaa .ColorAt (_deb ,_bcca );if _dfa !=nil {_gg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_deb ,_bcca );
continue ;};_aag ,_bdc ,_efb ,_ :=_bea .RGBA ();var _cfgd _de .Color ;if _aag +_bdc +_efb ==0{_cfgd =_de .Transparent ;}else {_cfgd =_edd ;};_fbae .Set (_deb ,_bcca ,_cfgd );};};return _fbae ;};func _ccb (_dbc ,_cfee _df .Image )_df .Image {_fgbd ,_gdbe :=_cfee .Bounds ().Size (),_dbc .Bounds ().Size ();
_cee ,_cbd :=_fgbd .X ,_fgbd .Y ;if _gdbe .X > _cee {_cee =_gdbe .X ;};if _gdbe .Y > _cbd {_cbd =_gdbe .Y ;};_aedc :=_df .Rect (0,0,_cee ,_cbd );if _fgbd .X !=_cee ||_fgbd .Y !=_cbd {_aefd :=_df .NewRGBA (_aedc );_g .BiLinear .Scale (_aefd ,_aedc ,_dbc ,_cfee .Bounds (),_g .Over ,nil );
_cfee =_aefd ;};if _gdbe .X !=_cee ||_gdbe .Y !=_cbd {_ef :=_df .NewRGBA (_aedc );_g .BiLinear .Scale (_ef ,_aedc ,_dbc ,_dbc .Bounds (),_g .Over ,nil );_dbc =_ef ;};_acgf :=_df .NewRGBA (_aedc );_g .DrawMask (_acgf ,_aedc ,_dbc ,_df .Point {},_cfee ,_df .Point {},_g .Over );
return _acgf ;};func (_ggb renderer )renderContentStream (_gec _gd .Context ,_eg string ,_bca *_bb .PdfPageResources )error {_ga ,_ebb :=_dbg .NewContentStreamParser (_eg ).Parse ();if _ebb !=nil {return _ebb ;};_ffb :=_gec .TextState ();_ffb .GlobalScale =_ggb ._cf ;
_cfe :=map[string ]*_gd .TextFont {};_cfa :=_bc .NewFinder (&_bc .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});_aa :=_dbg .NewContentStreamProcessor (*_ga );_aa .AddHandler (_dbg .HandlerConditionEnumAllOperands ,"",func (_ce *_dbg .ContentStreamOperation ,_gga _dbg .GraphicsState ,_ddf *_bb .PdfPageResources )error {_gg .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_ce .Operand );
switch _ce .Operand {case "\u0071":_gec .Push ();case "\u0051":_gec .Pop ();_ffb =_gec .TextState ();case "\u0063\u006d":if len (_ce .Params )!=6{return _aff ;};_dbba ,_fb :=_ff .GetNumbersAsFloat (_ce .Params );if _fb !=nil {return _fb ;};_ceb :=_dbb .NewMatrix (_dbba [0],_dbba [1],_dbba [2],_dbba [3],_dbba [4],_dbba [5]);
_gg .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_ceb );_gec .SetMatrix (_gec .Matrix ().Mult (_ceb ));case "\u0077":if len (_ce .Params )!=1{return _aff ;
};_bde ,_bcd :=_ff .GetNumbersAsFloat (_ce .Params );if _bcd !=nil {return _bcd ;};_gec .SetLineWidth (_bde [0]);case "\u004a":if len (_ce .Params )!=1{return _aff ;};_ddfc ,_bcg :=_ff .GetIntVal (_ce .Params [0]);if !_bcg {return _fg ;};switch _ddfc {case 0:_gec .SetLineCap (_gd .LineCapButt );
case 1:_gec .SetLineCap (_gd .LineCapRound );case 2:_gec .SetLineCap (_gd .LineCapSquare );default:_gg .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_ddfc );
return _aff ;};case "\u006a":if len (_ce .Params )!=1{return _aff ;};_agf ,_gbf :=_ff .GetIntVal (_ce .Params [0]);if !_gbf {return _fg ;};switch _agf {case 0:_gec .SetLineJoin (_gd .LineJoinBevel );case 1:_gec .SetLineJoin (_gd .LineJoinRound );case 2:_gec .SetLineJoin (_gd .LineJoinBevel );
default:_gg .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_agf );return _aff ;};case "\u004d":if len (_ce .Params )!=1{return _aff ;};_fbg ,_ea :=_ff .GetNumbersAsFloat (_ce .Params );
if _ea !=nil {return _ea ;};_ =_fbg ;_gg .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_ce .Params )!=2{return _aff ;};_eaf ,_ggf :=_ff .GetArray (_ce .Params [0]);
if !_ggf {return _fg ;};_ba ,_ggf :=_ff .GetIntVal (_ce .Params [1]);if !_ggf {return _fg ;};_ee ,_dcc :=_ff .GetNumbersAsFloat (_eaf .Elements ());if _dcc !=nil {return _dcc ;};_gec .SetDash (_ee ...);_ =_ba ;_gg .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");
case "\u0072\u0069":_gg .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0069":_gg .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");
case "\u0067\u0073":if len (_ce .Params )!=1{return _aff ;};_eca ,_gge :=_ff .GetName (_ce .Params [0]);if !_gge {return _fg ;};if _eca ==nil {return _aff ;};_aga ,_gge :=_ddf .GetExtGState (*_eca );if !_gge {_gg .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_eca );
return _b .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_gf ,_gge :=_ff .GetDict (_aga );if !_gge {_gg .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");
return _fg ;};_gg .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_gf .String ());case "\u006d":if len (_ce .Params )!=2{_gg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_aff );
return nil ;};_cdab ,_bba :=_ff .GetNumbersAsFloat (_ce .Params );if _bba !=nil {return _bba ;};_gg .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_cdab );_gec .NewSubPath ();_gec .MoveTo (_cdab [0],_cdab [1]);case "\u006c":if len (_ce .Params )!=2{_gg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_aff );
return nil ;};_dfe ,_eac :=_ff .GetNumbersAsFloat (_ce .Params );if _eac !=nil {return _eac ;};_gec .LineTo (_dfe [0],_dfe [1]);case "\u0063":if len (_ce .Params )!=6{return _aff ;};_affa ,_cg :=_ff .GetNumbersAsFloat (_ce .Params );if _cg !=nil {return _cg ;
};_gg .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_affa );_gec .CubicTo (_affa [0],_affa [1],_affa [2],_affa [3],_affa [4],_affa [5]);case "\u0076","\u0079":if len (_ce .Params )!=4{return _aff ;
};_fbb ,_fe :=_ff .GetNumbersAsFloat (_ce .Params );if _fe !=nil {return _fe ;};_gg .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_fbb );_gec .QuadraticTo (_fbb [0],_fbb [1],_fbb [2],_fbb [3]);
case "\u0068":_gec .ClosePath ();_gec .NewSubPath ();case "\u0072\u0065":if len (_ce .Params )!=4{return _aff ;};_ggab ,_eag :=_ff .GetNumbersAsFloat (_ce .Params );if _eag !=nil {return _eag ;};_gec .DrawRectangle (_ggab [0],_ggab [1],_ggab [2],_ggab [3]);
_gec .NewSubPath ();case "\u0053":_gca ,_ffbb :=_gga .ColorspaceStroking .ColorToRGB (_gga .ColorStroking );if _ffbb !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffbb );
return _ffbb ;};_abg ,_edb :=_gca .(*_bb .PdfColorDeviceRGB );if !_edb {_gg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _ffbb ;};_gec .SetRGBA (_abg .R (),_abg .G (),_abg .B (),1);
_gec .Stroke ();case "\u0073":_fge ,_fga :=_gga .ColorspaceStroking .ColorToRGB (_gga .ColorStroking );if _fga !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fga );
return _fga ;};_ddac ,_gcae :=_fge .(*_bb .PdfColorDeviceRGB );if !_gcae {_gg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _fga ;};_gec .ClosePath ();_gec .NewSubPath ();
_gec .SetRGBA (_ddac .R (),_ddac .G (),_ddac .B (),1);_gec .Stroke ();case "\u0066","\u0046":_ad ,_gfa :=_gga .ColorspaceNonStroking .ColorToRGB (_gga .ColorNonStroking );if _gfa !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gfa );
return _gfa ;};_fa ,_dg :=_ad .(*_bb .PdfColorDeviceRGB );if !_dg {_gg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _gfa ;};_gec .SetRGBA (_fa .R (),_fa .G (),_fa .B (),1);
_gec .SetFillRule (_gd .FillRuleWinding );_gec .Fill ();case "\u0066\u002a":_gba ,_bg :=_gga .ColorspaceNonStroking .ColorToRGB (_gga .ColorNonStroking );if _bg !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bg );
return _bg ;};_cb ,_gdc :=_gba .(*_bb .PdfColorDeviceRGB );if !_gdc {_gg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _bg ;};_gec .SetRGBA (_cb .R (),_cb .G (),_cb .B (),1);
_gec .SetFillRule (_gd .FillRuleEvenOdd );_gec .Fill ();case "\u0042":_gde ,_dbf :=_gga .ColorspaceNonStroking .ColorToRGB (_gga .ColorNonStroking );if _dbf !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dbf );
return _dbf ;};_fbe :=_gde .(*_bb .PdfColorDeviceRGB );_gec .SetRGBA (_fbe .R (),_fbe .G (),_fbe .B (),1);_gec .SetFillRule (_gd .FillRuleWinding );_gec .FillPreserve ();_gde ,_dbf =_gga .ColorspaceStroking .ColorToRGB (_gga .ColorStroking );if _dbf !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dbf );
return _dbf ;};_fbe =_gde .(*_bb .PdfColorDeviceRGB );_gec .SetRGBA (_fbe .R (),_fbe .G (),_fbe .B (),1);_gec .Stroke ();case "\u0042\u002a":_dgf ,_dga :=_gga .ColorspaceNonStroking .ColorToRGB (_gga .ColorNonStroking );if _dga !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dga );
return _dga ;};_ded :=_dgf .(*_bb .PdfColorDeviceRGB );_gec .SetRGBA (_ded .R (),_ded .G (),_ded .B (),1);_gec .SetFillRule (_gd .FillRuleEvenOdd );_gec .FillPreserve ();_dgf ,_dga =_gga .ColorspaceStroking .ColorToRGB (_gga .ColorStroking );if _dga !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dga );
return _dga ;};_ded =_dgf .(*_bb .PdfColorDeviceRGB );_gec .SetRGBA (_ded .R (),_ded .G (),_ded .B (),1);_gec .Stroke ();case "\u0062":_ggba ,_gab :=_gga .ColorspaceNonStroking .ColorToRGB (_gga .ColorNonStroking );if _gab !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gab );
return _gab ;};_aac :=_ggba .(*_bb .PdfColorDeviceRGB );_gec .SetRGBA (_aac .R (),_aac .G (),_aac .B (),1);_gec .ClosePath ();_gec .NewSubPath ();_gec .SetFillRule (_gd .FillRuleWinding );_gec .FillPreserve ();_ggba ,_gab =_gga .ColorspaceStroking .ColorToRGB (_gga .ColorStroking );
if _gab !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gab );return _gab ;};_aac =_ggba .(*_bb .PdfColorDeviceRGB );_gec .SetRGBA (_aac .R (),_aac .G (),_aac .B (),1);
_gec .Stroke ();case "\u0062\u002a":_gec .ClosePath ();_dba ,_bedb :=_gga .ColorspaceNonStroking .ColorToRGB (_gga .ColorNonStroking );if _bedb !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bedb );
return _bedb ;};_da :=_dba .(*_bb .PdfColorDeviceRGB );_gec .SetRGBA (_da .R (),_da .G (),_da .B (),1);_gec .NewSubPath ();_gec .SetFillRule (_gd .FillRuleEvenOdd );_gec .FillPreserve ();_dba ,_bedb =_gga .ColorspaceStroking .ColorToRGB (_gga .ColorStroking );
if _bedb !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bedb );return _bedb ;};_da =_dba .(*_bb .PdfColorDeviceRGB );_gec .SetRGBA (_da .R (),_da .G (),_da .B (),1);
_gec .Stroke ();case "\u006e":_gec .ClearPath ();case "\u0057":_gec .SetFillRule (_gd .FillRuleWinding );_gec .ClipPreserve ();case "\u0057\u002a":_gec .SetFillRule (_gd .FillRuleEvenOdd );_gec .ClipPreserve ();case "\u0072\u0067":_cdc ,_dgae :=_gga .ColorNonStroking .(*_bb .PdfColorDeviceRGB );
if !_dgae {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorNonStroking );return nil ;};_gec .SetFillRGBA (_cdc .R (),_cdc .G (),_cdc .B (),1);
case "\u0052\u0047":_cgg ,_aae :=_gga .ColorStroking .(*_bb .PdfColorDeviceRGB );if !_aae {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorStroking );
return nil ;};_gec .SetStrokeRGBA (_cgg .R (),_cgg .G (),_cgg .B (),1);case "\u006b":_aed ,_cgb :=_gga .ColorNonStroking .(*_bb .PdfColorDeviceCMYK );if !_cgb {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorNonStroking );
return nil ;};_eae ,_ced :=_gga .ColorspaceNonStroking .ColorToRGB (_aed );if _ced !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorNonStroking );
return nil ;};_ace ,_cgb :=_eae .(*_bb .PdfColorDeviceRGB );if !_cgb {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eae );return nil ;
};_gec .SetFillRGBA (_ace .R (),_ace .G (),_ace .B (),1);case "\u004b":_cad ,_aba :=_gga .ColorStroking .(*_bb .PdfColorDeviceCMYK );if !_aba {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorStroking );
return nil ;};_egd ,_cde :=_gga .ColorspaceStroking .ColorToRGB (_cad );if _cde !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorStroking );
return nil ;};_fbf ,_aba :=_egd .(*_bb .PdfColorDeviceRGB );if !_aba {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_egd );return nil ;
};_gec .SetStrokeRGBA (_fbf .R (),_fbf .G (),_fbf .B (),1);case "\u0067":_cfaa ,_aea :=_gga .ColorNonStroking .(*_bb .PdfColorDeviceGray );if !_aea {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorNonStroking );
return nil ;};_aacd ,_caf :=_gga .ColorspaceNonStroking .ColorToRGB (_cfaa );if _caf !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorNonStroking );
return nil ;};_gad ,_aea :=_aacd .(*_bb .PdfColorDeviceRGB );if !_aea {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aacd );return nil ;
};_gec .SetFillRGBA (_gad .R (),_gad .G (),_gad .B (),1);case "\u0047":_cdd ,_acga :=_gga .ColorStroking .(*_bb .PdfColorDeviceGray );if !_acga {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorStroking );
return nil ;};_bae ,_afb :=_gga .ColorspaceStroking .ColorToRGB (_cdd );if _afb !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorStroking );
return nil ;};_gbfc ,_acga :=_bae .(*_bb .PdfColorDeviceRGB );if !_acga {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bae );return nil ;
};_gec .SetStrokeRGBA (_gbfc .R (),_gbfc .G (),_gbfc .B (),1);case "\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_dfd ,_ede :=_gga .ColorspaceNonStroking .ColorToRGB (_gga .ColorNonStroking );if _ede !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorNonStroking );
return nil ;};_baf ,_gade :=_dfd .(*_bb .PdfColorDeviceRGB );if !_gade {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dfd );return nil ;
};_gec .SetFillRGBA (_baf .R (),_baf .G (),_baf .B (),1);case "\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_fab ,_egf :=_gga .ColorspaceStroking .ColorToRGB (_gga .ColorStroking );if _egf !=nil {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gga .ColorStroking );
return nil ;};_dee ,_caff :=_fab .(*_bb .PdfColorDeviceRGB );if !_caff {_gg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fab );return nil ;
};_gec .SetStrokeRGBA (_dee .R (),_dee .G (),_dee .B (),1);case "\u0044\u006f":if len (_ce .Params )!=1{return _aff ;};_gfc ,_ddad :=_ff .GetName (_ce .Params [0]);if !_ddad {return _fg ;};_ ,_fae :=_ddf .GetXObjectByName (*_gfc );switch _fae {case _bb .XObjectTypeImage :_gg .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_gfc .String ());
_bad ,_dcf :=_ddf .GetXObjectImageByName (*_gfc );if _dcf !=nil {return _dcf ;};_gda ,_dcf :=_bad .ToImage ();if _dcf !=nil {return _dcf ;};if _dbag :=_bad .ColorSpace ;_dbag !=nil {var _egb bool ;switch _dbag .(type ){case *_bb .PdfColorspaceSpecialIndexed :_egb =true ;
};if _egb {if _bgg ,_deef :=_dbag .ImageToRGB (*_gda );_deef !=nil {_gg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
}else {_gda =&_bgg ;};};};_cgc :=_gec .FillPattern ().ColorAt (0,0);var _dedf _df .Image ;if _bad .Mask !=nil {if _dedf ,_dcf =_gce (_bad .Mask ,_cgc );_dcf !=nil {_gg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
};}else if _bad .SMask !=nil {if _dedf ,_dcf =_dag (_bad .SMask ,_cgc );_dcf !=nil {_gg .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};var _deg _df .Image ;if _ecac ,_ :=_ff .GetBoolVal (_bad .ImageMask );_ecac {_deg =_fgae (_gda ,_cgc );}else {_deg ,_dcf =_gda .ToGoImage ();if _dcf !=nil {return _dcf ;};};if _dedf !=nil {_deg =_ccb (_deg ,_dedf );};_ecag :=_deg .Bounds ();_gec .Push ();
_gec .Scale (1.0/float64 (_ecag .Dx ()),-1.0/float64 (_ecag .Dy ()));_gec .DrawImageAnchored (_deg ,0,0,0,1);_gec .Pop ();case _bb .XObjectTypeForm :_gg .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_gfc .String ());
_cfac ,_gac :=_ddf .GetXObjectFormByName (*_gfc );if _gac !=nil {return _gac ;};_gbb ,_gac :=_cfac .GetContentStream ();if _gac !=nil {return _gac ;};_bcff :=_cfac .Resources ;if _bcff ==nil {_bcff =_ddf ;};_gec .Push ();if _cfac .Matrix !=nil {_bbee ,_gag :=_ff .GetArray (_cfac .Matrix );
if !_gag {return _fg ;};_ecc ,_afg :=_ff .GetNumbersAsFloat (_bbee .Elements ());if _afg !=nil {return _afg ;};if len (_ecc )!=6{return _aff ;};_gdee :=_dbb .NewMatrix (_ecc [0],_ecc [1],_ecc [2],_ecc [3],_ecc [4],_ecc [5]);_gec .SetMatrix (_gec .Matrix ().Mult (_gdee ));
};if _cfac .BBox !=nil {_cbe ,_faf :=_ff .GetArray (_cfac .BBox );if !_faf {return _fg ;};_eceb ,_bac :=_ff .GetNumbersAsFloat (_cbe .Elements ());if _bac !=nil {return _bac ;};if len (_eceb )!=4{_gg .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_eceb ));
return _aff ;};_gec .DrawRectangle (_eceb [0],_eceb [1],_eceb [2]-_eceb [0],_eceb [3]-_eceb [1]);_gec .SetRGBA (1,0,0,1);_gec .Clip ();}else {_gg .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");
};_gac =_ggb .renderContentStream (_gec ,string (_gbb ),_bcff );if _gac !=nil {return _gac ;};_gec .Pop ();};case "\u0042\u0049":if len (_ce .Params )!=1{return _aff ;};_cfg ,_cbf :=_ce .Params [0].(*_dbg .ContentStreamInlineImage );if !_cbf {return nil ;
};_faa ,_dfdf :=_cfg .ToImage (_ddf );if _dfdf !=nil {return _dfdf ;};_cc ,_dfdf :=_faa .ToGoImage ();if _dfdf !=nil {return _dfdf ;};_gebb :=_cc .Bounds ();_gec .Push ();_gec .Scale (1.0/float64 (_gebb .Dx ()),-1.0/float64 (_gebb .Dy ()));_gec .DrawImageAnchored (_cc ,0,0,0,1);
_gec .Pop ();case "\u0042\u0054":_ffb .Reset ();case "\u0045\u0054":_ffb .Reset ();case "\u0054\u0072":if len (_ce .Params )!=1{return _aff ;};_adg ,_ecagd :=_ff .GetNumberAsFloat (_ce .Params [0]);if _ecagd !=nil {return _ecagd ;};_ffb .Tr =_gd .TextRenderingMode (_adg );
case "\u0054\u004c":if len (_ce .Params )!=1{return _aff ;};_faad ,_ggfe :=_ff .GetNumberAsFloat (_ce .Params [0]);if _ggfe !=nil {return _ggfe ;};_ffb .Tl =_faad ;case "\u0054\u0063":if len (_ce .Params )!=1{return _aff ;};_afe ,_faee :=_ff .GetNumberAsFloat (_ce .Params [0]);
if _faee !=nil {return _faee ;};_gg .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_afe );_ffb .Tc =_afe ;case "\u0054\u0077":if len (_ce .Params )!=1{return _aff ;};_ddd ,_gadc :=_ff .GetNumberAsFloat (_ce .Params [0]);if _gadc !=nil {return _gadc ;
};_gg .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_ddd );_ffb .Tw =_ddd ;case "\u0054\u007a":if len (_ce .Params )!=1{return _aff ;};_cdec ,_cdf :=_ff .GetNumberAsFloat (_ce .Params [0]);if _cdf !=nil {return _cdf ;};_ffb .Th =_cdec ;case "\u0054\u0073":if len (_ce .Params )!=1{return _aff ;
};_cge ,_aaa :=_ff .GetNumberAsFloat (_ce .Params [0]);if _aaa !=nil {return _aaa ;};_ffb .Ts =_cge ;case "\u0054\u0064":if len (_ce .Params )!=2{return _aff ;};_bgd ,_aeg :=_ff .GetNumbersAsFloat (_ce .Params );if _aeg !=nil {return _aeg ;};_gg .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_bgd );
_ffb .ProcTd (_bgd [0],_bgd [1]);case "\u0054\u0044":if len (_ce .Params )!=2{return _aff ;};_fcc ,_fca :=_ff .GetNumbersAsFloat (_ce .Params );if _fca !=nil {return _fca ;};_gg .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_fcc );_ffb .ProcTD (_fcc [0],_fcc [1]);
case "\u0054\u002a":_ffb .ProcTStar ();case "\u0054\u006d":if len (_ce .Params )!=6{return _aff ;};_fbeb ,_dea :=_ff .GetNumbersAsFloat (_ce .Params );if _dea !=nil {return _dea ;};_gg .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_fbeb );
_ffb .ProcTm (_fbeb [0],_fbeb [1],_fbeb [2],_fbeb [3],_fbeb [4],_fbeb [5]);case "\u0027":if len (_ce .Params )!=1{return _aff ;};_cdeb ,_cdbd :=_ff .GetStringBytes (_ce .Params [0]);if !_cdbd {return _fg ;};_gg .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_cdeb ));
_ffb .ProcQ (_cdeb ,_gec );case "\u0022":if len (_ce .Params )!=3{return _aff ;};_bce ,_dfdd :=_ff .GetNumberAsFloat (_ce .Params [0]);if _dfdd !=nil {return _dfdd ;};_dfbc ,_dfdd :=_ff .GetNumberAsFloat (_ce .Params [1]);if _dfdd !=nil {return _dfdd ;
};_fba ,_afd :=_ff .GetStringBytes (_ce .Params [2]);if !_afd {return _fg ;};_ffb .ProcDQ (_fba ,_bce ,_dfbc ,_gec );case "\u0054\u006a":if len (_ce .Params )!=1{return _aff ;};_ffg ,_bbf :=_ff .GetStringBytes (_ce .Params [0]);if !_bbf {return _fg ;};
_gg .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_ffg ));_ffb .ProcTj (_ffg ,_gec );case "\u0054\u004a":if len (_ce .Params )!=1{return _aff ;};_gggb ,_fbbc :=_ff .GetArray (_ce .Params [0]);if !_fbbc {_gg .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_gggb );
return _fg ;};_gg .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_gggb );for _ ,_ddc :=range _gggb .Elements (){switch _cec :=_ddc .(type ){case *_ff .PdfObjectString :if _cec !=nil {_ffb .ProcTj (_cec .Bytes (),_gec );
};case *_ff .PdfObjectFloat ,*_ff .PdfObjectInteger :_egc ,_dcb :=_ff .GetNumberAsFloat (_cec );if _dcb ==nil {_ffb .Translate (-_egc *0.001*_ffb .Tf .Size *_ffb .Th /100.0,0);};};};case "\u0054\u0066":if len (_ce .Params )!=2{return _aff ;};_gg .Log .Debug ("\u0025\u0023\u0076",_ce .Params );
_dbd ,_bff :=_ff .GetName (_ce .Params [0]);if !_bff ||_dbd ==nil {_gg .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_ce .Params [0]);
return _fg ;};_gg .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_dbd .String ());_fgb ,_aab :=_ff .GetNumberAsFloat (_ce .Params [1]);if _aab !=nil {_gg .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_ce .Params [1]);
return _fg ;};_gg .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_fgb );_abc ,_fdca :=_ddf .GetFontByName (*_dbd );if !_fdca {_gg .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_dbd .String ());
return _b .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_gg .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_abc );_agb ,_bff :=_ff .GetDict (_abc );if !_bff {_gg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");
return _fg ;};_cag ,_aab :=_bb .NewPdfFontFromPdfObject (_agb );if _aab !=nil {_gg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");
return _aab ;};_def :=_cag .BaseFont ();if _def ==""{_def =_dbd .String ();};_bfa ,_bff :=_cfe [_def ];if !_bff {_bfa ,_aab =_gd .NewTextFont (_cag ,_fgb );if _aab !=nil {_gg .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_aab );};};if _bfa ==nil {if len (_def )> 7&&_def [6]=='+'{_def =_def [7:];
};_cef :=[]string {_def ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};for _ ,_gbd :=range _cef {_gg .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_gbd );
if _bfa ,_bff =_cfe [_gbd ];_bff {break ;};_bbg :=_cfa .Match (_gbd );if _bbg ==nil {_gg .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_gbd );continue ;
};_bfa ,_aab =_gd .NewTextFontFromPath (_bbg .Filename ,_fgb );if _aab !=nil {_gg .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_bbg .Filename );
continue ;};_gg .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_def ,_bbg .Name ,_bbg .Filename );_cfe [_gbd ]=_bfa ;
break ;};};if _bfa ==nil {_gg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");
return _b .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_ffb .ProcTf (_bfa .WithSize (_fgb ,_cag ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":case "\u0045\u004d\u0043":default:_gg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_ce .Operand );
};return nil ;});_ebb =_aa .Process (_bca );if _ebb !=nil {return _ebb ;};return nil ;};

// Render converts the specified PDF page into an image and returns the result.
func (_cd *ImageDevice )Render (page *_bb .PdfPage )(_df .Image ,error ){_cda ,_ec :=page .GetMediaBox ();if _ec !=nil {return nil ,_ec ;};_cda .Normalize ();_dfb :=page .CropBox ;var _bfc ,_ecd float64 ;if _dfb !=nil {_dfb .Normalize ();_bfc ,_ecd =_dfb .Width (),_dfb .Height ();
};_ffa :=page .Rotate ;_dc ,_af ,_be ,_bbe :=_cda .Llx ,_cda .Lly ,_cda .Width (),_cda .Height ();_bed :=_dbb .IdentityMatrix ();if _ffa !=nil &&*_ffa %360!=0&&*_ffa %90==0{_ed :=-float64 (*_ffa );_dd :=_fedg (_be ,_bbe ,_ed );_bed =_bed .Translate ((_dd .Width -_be )/2+_be /2,(_dd .Height -_bbe )/2+_bbe /2).Rotate (_ed *_fd .Pi /180).Translate (-_be /2,-_bbe /2);
_be ,_bbe =_dd .Width ,_dd .Height ;if _dfb !=nil {_fdc :=_fedg (_bfc ,_ecd ,_ed );_bfc ,_ecd =_fdc .Width ,_fdc .Height ;};};if _dc !=0||_af !=0{_bed =_bed .Translate (-_dc ,-_af );};_cd ._cf =1.0;if _cd .OutputWidth !=0{_bd :=_be ;if _dfb !=nil {_bd =_bfc ;
};_cd ._cf =float64 (_cd .OutputWidth )/_bd ;_be ,_bbe ,_bfc ,_ecd =_be *_cd ._cf ,_bbe *_cd ._cf ,_bfc *_cd ._cf ,_ecd *_cd ._cf ;_bed =_dbb .ScaleMatrix (_cd ._cf ,_cd ._cf ).Mult (_bed );};_bee :=_bfd .NewContext (int (_be ),int (_bbe ));if _bcf :=_cd .renderPage (_bee ,page ,_bed );
_bcf !=nil {return nil ,_bcf ;};_gb :=_bee .Image ();if _dfb !=nil {_eb ,_gbg :=(_dfb .Llx -_dc )*_cd ._cf ,(_dfb .Lly -_af )*_cd ._cf ;_acg :=_df .Rect (0,0,int (_bfc ),int (_ecd ));_aca :=_df .Pt (int (_eb ),int (_bbe -_gbg -_ecd ));_ab :=_df .NewRGBA (_acg );
_ag .Draw (_ab ,_acg ,_gb ,_aca ,_ag .Src );_gb =_ab ;};return _gb ,nil ;};func _fedg (_ddca ,_dgg ,_gecb float64 )_c .BoundingBox {return _c .Path {Points :[]_c .Point {_c .NewPoint (0,0).Rotate (_gecb ),_c .NewPoint (_ddca ,0).Rotate (_gecb ),_c .NewPoint (0,_dgg ).Rotate (_gecb ),_c .NewPoint (_ddca ,_dgg ).Rotate (_gecb )}}.GetBoundingBox ();
};var (_fg =_b .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_aff =_b .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););
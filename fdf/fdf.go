//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_ab "bufio";_be "bytes";_fg "encoding/hex";_f "errors";_a "fmt";_af "github.com/unidoc/unipdf/v3/common";_d "github.com/unidoc/unipdf/v3/core";_ad "io";_cg "os";_b "regexp";_ca "sort";_cf "strconv";_c "strings";);func (_ddgc *fdfParser )parseIndirectObject ()(_d .PdfObject ,error ){_aede :=_d .PdfIndirectObject {};
_af .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_eff ,_cedc :=_ddgc ._gg .Peek (20);if _cedc !=nil {_af .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_aede ,_cedc ;};_af .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_eff ));_ggd :=_bda .FindStringSubmatchIndex (string (_eff ));if len (_ggd )< 6{_af .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_eff ));
return &_aede ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_ddgc ._gg .Discard (_ggd [0]);_af .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_ggd );_efg :=_ggd [1]-_ggd [0];_gcba :=make ([]byte ,_efg );_ ,_cedc =_ddgc .readAtLeast (_gcba ,_efg );if _cedc !=nil {_af .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_cedc );
return nil ,_cedc ;};_af .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_gcba );_acf :=_bda .FindStringSubmatch (string (_gcba ));if len (_acf )< 3{_af .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gcba ));
return &_aede ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_cfe ,_ :=_cf .Atoi (_acf [1]);_cce ,_ :=_cf .Atoi (_acf [2]);_aede .ObjectNumber =int64 (_cfe );_aede .GenerationNumber =int64 (_cce );for {_bfed ,_gde :=_ddgc ._gg .Peek (2);if _gde !=nil {return &_aede ,_gde ;};_af .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bfed ),string (_bfed ));
if _d .IsWhiteSpace (_bfed [0]){_ddgc .skipSpaces ();}else if _bfed [0]=='%'{_ddgc .skipComments ();}else if (_bfed [0]=='<')&&(_bfed [1]=='<'){_af .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_aede .PdfObject ,_gde =_ddgc .parseDict ();
_af .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_gde );if _gde !=nil {return &_aede ,_gde ;};_af .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_bfed [0]=='/')||(_bfed [0]=='(')||(_bfed [0]=='[')||(_bfed [0]=='<'){_aede .PdfObject ,_gde =_ddgc .parseObject ();if _gde !=nil {return &_aede ,_gde ;};_af .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _bfed [0]=='e'{_dfebf ,_fa :=_ddgc .readTextLine ();if _fa !=nil {return nil ,_fa ;};if len (_dfebf )>=6&&_dfebf [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _bfed [0]=='s'{_bfed ,_ =_ddgc ._gg .Peek (10);if string (_bfed [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_edgf :=6;
if len (_bfed )> 6{if _d .IsWhiteSpace (_bfed [_edgf ])&&_bfed [_edgf ]!='\r'&&_bfed [_edgf ]!='\n'{_af .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_edgf ++;};if _bfed [_edgf ]=='\r'{_edgf ++;if _bfed [_edgf ]=='\n'{_edgf ++;};}else if _bfed [_edgf ]=='\n'{_edgf ++;};};_ddgc ._gg .Discard (_edgf );_bca ,_dea :=_aede .PdfObject .(*_d .PdfObjectDictionary );if !_dea {return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_af .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_bca );_fcd ,_ebc :=_bca .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_d .PdfObjectInteger );if !_ebc {return nil ,_f .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_abc :=*_fcd ;if _abc < 0{return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_abc )> _ddgc ._gd {_af .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_f .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_fcg :=make ([]byte ,_abc );
_ ,_gde =_ddgc .readAtLeast (_fcg ,int (_abc ));if _gde !=nil {_af .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_fcg ),_fcg );_af .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gde );
return nil ,_gde ;};_bgad :=_d .PdfObjectStream {};_bgad .Stream =_fcg ;_bgad .PdfObjectDictionary =_aede .PdfObject .(*_d .PdfObjectDictionary );_bgad .ObjectNumber =_aede .ObjectNumber ;_bgad .GenerationNumber =_aede .GenerationNumber ;_ddgc .skipSpaces ();
_ddgc ._gg .Discard (9);_ddgc .skipSpaces ();return &_bgad ,nil ;};};_aede .PdfObject ,_gde =_ddgc .parseObject ();return &_aede ,_gde ;};};_af .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_aede ,nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_bb ,_ag :=_cg .Open (fdfPath );if _ag !=nil {return nil ,_ag ;};defer _bb .Close ();return Load (_bb );};type fdfParser struct{_dg int ;_eaa int ;_ada map[int64 ]_d .PdfObject ;_acb _ad .ReadSeeker ;_gg *_ab .Reader ;
_gd int64 ;_dfe *_d .PdfObjectDictionary ;};func (_fga *fdfParser )readComment ()(string ,error ){var _dfb _be .Buffer ;_ ,_ec :=_fga .skipSpaces ();if _ec !=nil {return _dfb .String (),_ec ;};_geae :=true ;for {_dgc ,_ee :=_fga ._gg .Peek (1);if _ee !=nil {_af .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ee .Error ());
return _dfb .String (),_ee ;};if _geae &&_dgc [0]!='%'{return _dfb .String (),_f .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_geae =false ;if (_dgc [0]!='\r')&&(_dgc [0]!='\n'){_gee ,_ :=_fga ._gg .ReadByte ();
_dfb .WriteByte (_gee );}else {break ;};};return _dfb .String (),nil ;};func (_gcfd *fdfParser )parseFdfVersion ()(int ,int ,error ){_gcfd ._acb .Seek (0,_ad .SeekStart );_bcg :=20;_bad :=make ([]byte ,_bcg );_gcfd ._acb .Read (_bad );_gce :=_bea .FindStringSubmatch (string (_bad ));
if len (_gce )< 3{_fdb ,_cae ,_fbf :=_gcfd .seekFdfVersionTopDown ();if _fbf !=nil {_af .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_fbf ;};return _fdb ,_cae ,nil ;};_ggf ,_acd :=_cf .Atoi (_gce [1]);if _acd !=nil {return 0,0,_acd ;};_cga ,_acd :=_cf .Atoi (_gce [2]);if _acd !=nil {return 0,0,_acd ;};_af .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_ggf ,_cga );
return _ggf ,_cga ,nil ;};func (_dfa *fdfParser )parseNull ()(_d .PdfObjectNull ,error ){_ ,_cgg :=_dfa ._gg .Discard (4);return _d .PdfObjectNull {},_cgg ;};func (_aea *fdfParser )parseBool ()(_d .PdfObjectBool ,error ){_egg ,_adaf :=_aea ._gg .Peek (4);
if _adaf !=nil {return _d .PdfObjectBool (false ),_adaf ;};if (len (_egg )>=4)&&(string (_egg [:4])=="\u0074\u0072\u0075\u0065"){_aea ._gg .Discard (4);return _d .PdfObjectBool (true ),nil ;};_egg ,_adaf =_aea ._gg .Peek (5);if _adaf !=nil {return _d .PdfObjectBool (false ),_adaf ;
};if (len (_egg )>=5)&&(string (_egg [:5])=="\u0066\u0061\u006cs\u0065"){_aea ._gg .Discard (5);return _d .PdfObjectBool (false ),nil ;};return _d .PdfObjectBool (false ),_f .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_d .PdfObject ,error ){_fd ,_fe :=fdf .FieldDictionaries ();if _fe !=nil {return nil ,_fe ;};var _fbg []string ;for _bf :=range _fd {_fbg =append (_fbg ,_bf );};_ca .Strings (_fbg );_fc :=map[string ]_d .PdfObject {};
for _ ,_da :=range _fbg {_ga :=_fd [_da ];_afc :=_d .TraceToDirectObject (_ga .Get ("\u0056"));_fc [_da ]=_afc ;};return _fc ,nil ;};var _bga =_b .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");
var _bea =_b .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_eae *fdfParser )parseString ()(*_d .PdfObjectString ,error ){_eae ._gg .ReadByte ();var _aab _be .Buffer ;_gcf :=1;for {_beeg ,_fbd :=_eae ._gg .Peek (1);
if _fbd !=nil {return _d .MakeString (_aab .String ()),_fbd ;};if _beeg [0]=='\\'{_eae ._gg .ReadByte ();_dfbe ,_bdc :=_eae ._gg .ReadByte ();if _bdc !=nil {return _d .MakeString (_aab .String ()),_bdc ;};if _d .IsOctalDigit (_dfbe ){_dac ,_bacc :=_eae ._gg .Peek (2);
if _bacc !=nil {return _d .MakeString (_aab .String ()),_bacc ;};var _cd []byte ;_cd =append (_cd ,_dfbe );for _ ,_cbd :=range _dac {if _d .IsOctalDigit (_cbd ){_cd =append (_cd ,_cbd );}else {break ;};};_eae ._gg .Discard (len (_cd )-1);_af .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_cd );
_caa ,_bacc :=_cf .ParseUint (string (_cd ),8,32);if _bacc !=nil {return _d .MakeString (_aab .String ()),_bacc ;};_aab .WriteByte (byte (_caa ));continue ;};switch _dfbe {case 'n':_aab .WriteRune ('\n');case 'r':_aab .WriteRune ('\r');case 't':_aab .WriteRune ('\t');
case 'b':_aab .WriteRune ('\b');case 'f':_aab .WriteRune ('\f');case '(':_aab .WriteRune ('(');case ')':_aab .WriteRune (')');case '\\':_aab .WriteRune ('\\');};continue ;}else if _beeg [0]=='('{_gcf ++;}else if _beeg [0]==')'{_gcf --;if _gcf ==0{_eae ._gg .ReadByte ();
break ;};};_bfe ,_ :=_eae ._gg .ReadByte ();_aab .WriteByte (_bfe );};return _d .MakeString (_aab .String ()),nil ;};func (_egb *fdfParser )parseNumber ()(_d .PdfObject ,error ){return _d .ParseNumber (_egb ._gg )};func _fedc (_gaf _ad .ReadSeeker )(*fdfParser ,error ){_dcbge :=&fdfParser {};
_dcbge ._acb =_gaf ;_dcbge ._ada =map[int64 ]_d .PdfObject {};_fcb ,_cag ,_cebf :=_dcbge .parseFdfVersion ();if _cebf !=nil {_af .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_cebf );
return nil ,_cebf ;};_dcbge ._dg =_fcb ;_dcbge ._eaa =_cag ;_cebf =_dcbge .parse ();return _dcbge ,_cebf ;};var _gbd =_b .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");


// Root returns the Root of the FDF document.
func (_fff *fdfParser )Root ()(*_d .PdfObjectDictionary ,error ){if _fff ._dfe !=nil {if _dbd ,_bcd :=_fff .trace (_fff ._dfe .Get ("\u0052\u006f\u006f\u0074")).(*_d .PdfObjectDictionary );_bcd {if _ffc ,_eee :=_fff .trace (_dbd .Get ("\u0046\u0044\u0046")).(*_d .PdfObjectDictionary );
_eee {return _ffc ,nil ;};};};var _gcdg []int64 ;for _deca :=range _fff ._ada {_gcdg =append (_gcdg ,_deca );};_ca .Slice (_gcdg ,func (_ceb ,_fdd int )bool {return _gcdg [_ceb ]< _gcdg [_fdd ]});for _ ,_gbdb :=range _gcdg {_cgc :=_fff ._ada [_gbdb ];if _fef ,_dfad :=_fff .trace (_cgc ).(*_d .PdfObjectDictionary );
_dfad {if _cfb ,_decb :=_fff .trace (_fef .Get ("\u0046\u0044\u0046")).(*_d .PdfObjectDictionary );_decb {return _cfb ,nil ;};};};return nil ,_f .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};var _bda =_b .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");
func (_dfc *fdfParser )getFileOffset ()int64 {_ed ,_ :=_dfc ._acb .Seek (0,_ad .SeekCurrent );_ed -=int64 (_dfc ._gg .Buffered ());return _ed ;};func (_cec *fdfParser )skipComments ()error {if _ ,_dgg :=_cec .skipSpaces ();_dgg !=nil {return _dgg ;};_dce :=true ;
for {_ef ,_geg :=_cec ._gg .Peek (1);if _geg !=nil {_af .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_geg .Error ());return _geg ;};if _dce &&_ef [0]!='%'{return nil ;};_dce =false ;if (_ef [0]!='\r')&&(_ef [0]!='\n'){_cec ._gg .ReadByte ();
}else {break ;};};return _cec .skipComments ();};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_d .PdfObjectDictionary ,error ){_adf :=map[string ]*_d .PdfObjectDictionary {};for _bee :=0;_bee < fdf ._gf .Len ();_bee ++{_gfg ,_e :=_d .GetDict (fdf ._gf .Get (_bee ));if _e {_cad ,_ :=_d .GetString (_gfg .Get ("\u0054"));
if _cad !=nil {_adf [_cad .Str ()]=_gfg ;};};};return _adf ,nil ;};func (_dc *fdfParser )setFileOffset (_gfb int64 ){_dc ._acb .Seek (_gfb ,_ad .SeekStart );_dc ._gg =_ab .NewReader (_dc ._acb );};func (_aggf *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_aggf ._acb .Seek (0,_ad .SeekStart );
_aggf ._gg =_ab .NewReader (_aggf ._acb );_fdbc :=20;_eag :=make ([]byte ,_fdbc );for {_bbg ,_ffcf :=_aggf ._gg .ReadByte ();if _ffcf !=nil {if _ffcf ==_ad .EOF {break ;}else {return 0,0,_ffcf ;};};if _d .IsDecimalDigit (_bbg )&&_eag [_fdbc -1]=='.'&&_d .IsDecimalDigit (_eag [_fdbc -2])&&_eag [_fdbc -3]=='-'&&_eag [_fdbc -4]=='F'&&_eag [_fdbc -5]=='D'&&_eag [_fdbc -6]=='P'{_bbff :=int (_eag [_fdbc -2]-'0');
_bccd :=int (_bbg -'0');return _bbff ,_bccd ,nil ;};_eag =append (_eag [1:_fdbc ],_bbg );};return 0,0,_f .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func _agbda (_cdd string )(*fdfParser ,error ){_fee :=fdfParser {};
_fbe :=[]byte (_cdd );_adg :=_be .NewReader (_fbe );_fee ._acb =_adg ;_fee ._ada =map[int64 ]_d .PdfObject {};_dbf :=_ab .NewReader (_adg );_fee ._gg =_dbf ;_fee ._gd =int64 (len (_cdd ));return &_fee ,_fee .parse ();};func (_bcf *fdfParser )parseArray ()(*_d .PdfObjectArray ,error ){_dfeb :=_d .MakeArray ();
_bcf ._gg .ReadByte ();for {_bcf .skipSpaces ();_aed ,_afe :=_bcf ._gg .Peek (1);if _afe !=nil {return _dfeb ,_afe ;};if _aed [0]==']'{_bcf ._gg .ReadByte ();break ;};_gfab ,_afe :=_bcf .parseObject ();if _afe !=nil {return _dfeb ,_afe ;};_dfeb .Append (_gfab );
};return _dfeb ,nil ;};func _fda (_ced string )(_d .PdfObjectReference ,error ){_cdg :=_d .PdfObjectReference {};_eaf :=_adfc .FindStringSubmatch (_ced );if len (_eaf )< 3{_af .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _cdg ,_f .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_dfec ,_def :=_cf .Atoi (_eaf [1]);if _def !=nil {_af .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_eaf [1]);
return _cdg ,nil ;};_cdg .ObjectNumber =int64 (_dfec );_ecb ,_def :=_cf .Atoi (_eaf [2]);if _def !=nil {_af .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_eaf [2]);
return _cdg ,nil ;};_cdg .GenerationNumber =int64 (_ecb );return _cdg ,nil ;};var _agb =_b .MustCompile ("\u0025\u0025\u0045O\u0046");func (_ddg *fdfParser )parseObject ()(_d .PdfObject ,error ){_af .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_ddg .skipSpaces ();for {_agg ,_ccc :=_ddg ._gg .Peek (2);if _ccc !=nil {return nil ,_ccc ;};_af .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_agg ));if _agg [0]=='/'{_fed ,_dgd :=_ddg .parseName ();
_af .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_fed );return &_fed ,_dgd ;}else if _agg [0]=='('{_af .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _ddg .parseString ();}else if _agg [0]=='['{_af .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _ddg .parseArray ();}else if (_agg [0]=='<')&&(_agg [1]=='<'){_af .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _ddg .parseDict ();}else if _agg [0]=='<'{_af .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _ddg .parseHexString ();}else if _agg [0]=='%'{_ddg .readComment ();_ddg .skipSpaces ();}else {_af .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_agg ,_ =_ddg ._gg .Peek (15);_gbb :=string (_agg );
_af .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_gbb );if (len (_gbb )> 3)&&(_gbb [:4]=="\u006e\u0075\u006c\u006c"){_gaa ,_dceg :=_ddg .parseNull ();return &_gaa ,_dceg ;}else if (len (_gbb )> 4)&&(_gbb [:5]=="\u0066\u0061\u006cs\u0065"){_ffd ,_eeg :=_ddg .parseBool ();
return &_ffd ,_eeg ;}else if (len (_gbb )> 3)&&(_gbb [:4]=="\u0074\u0072\u0075\u0065"){_aff ,_dda :=_ddg .parseBool ();return &_aff ,_dda ;};_bab :=_adfc .FindStringSubmatch (_gbb );if len (_bab )> 1{_agg ,_ =_ddg ._gg .ReadBytes ('R');_af .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_agg [:]));
_ceg ,_aba :=_fda (string (_agg ));return &_ceg ,_aba ;};_dgf :=_bga .FindStringSubmatch (_gbb );if len (_dgf )> 1{_af .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _ddg .parseNumber ();};_dgf =_gbd .FindStringSubmatch (_gbb );
if len (_dgf )> 1{_af .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_af .Log .Trace ("\u0025\u0020\u0073",_dgf );return _ddg .parseNumber ();};_af .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_gbb );
return nil ,_f .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};func (_eea *fdfParser )parseHexString ()(*_d .PdfObjectString ,error ){_eea ._gg .ReadByte ();var _dfce _be .Buffer ;for {_bcc ,_ccf :=_eea ._gg .Peek (1);if _ccf !=nil {return _d .MakeHexString (""),_ccf ;};if _bcc [0]=='>'{_eea ._gg .ReadByte ();
break ;};_aag ,_ :=_eea ._gg .ReadByte ();if !_d .IsWhiteSpace (_aag ){_dfce .WriteByte (_aag );};};if _dfce .Len ()%2==1{_dfce .WriteRune ('0');};_gbg ,_ebd :=_fg .DecodeString (_dfce .String ());if _ebd !=nil {_af .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_dfce .String ());
return _d .MakeHexString (""),nil ;};return _d .MakeHexString (string (_gbg )),nil ;};func (_cgd *fdfParser )readTextLine ()(string ,error ){var _cb _be .Buffer ;for {_agbd ,_ccg :=_cgd ._gg .Peek (1);if _ccg !=nil {_af .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ccg .Error ());
return _cb .String (),_ccg ;};if (_agbd [0]!='\r')&&(_agbd [0]!='\n'){_eg ,_ :=_cgd ._gg .ReadByte ();_cb .WriteByte (_eg );}else {break ;};};return _cb .String (),nil ;};func (_fdg *fdfParser )trace (_aca _d .PdfObject )_d .PdfObject {switch _bdb :=_aca .(type ){case *_d .PdfObjectReference :_babf ,_acg :=_fdg ._ada [_bdb .ObjectNumber ].(*_d .PdfIndirectObject );
if _acg {return _babf .PdfObject ;};_af .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_d .PdfIndirectObject :return _bdb .PdfObject ;};return _aca ;};func (_gbbg *fdfParser )seekToEOFMarker (_agc int64 )error {_ade :=int64 (0);
_gdd :=int64 (1000);for _ade < _agc {if _agc <=(_gdd +_ade ){_gdd =_agc -_ade ;};_ ,_aga :=_gbbg ._acb .Seek (-_ade -_gdd ,_ad .SeekEnd );if _aga !=nil {return _aga ;};_daa :=make ([]byte ,_gdd );_gbbg ._acb .Read (_daa );_af .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_daa ));
_gcb :=_agb .FindAllStringIndex (string (_daa ),-1);if _gcb !=nil {_bbb :=_gcb [len (_gcb )-1];_af .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_gcb );_gbbg ._acb .Seek (-_ade -_gdd +int64 (_bbb [0]),_ad .SeekEnd );return nil ;};_af .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_ade +=_gdd ;};_af .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _f .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_edg *fdfParser )skipSpaces ()(int ,error ){_gc :=0;for {_fea ,_acbg :=_edg ._gg .ReadByte ();if _acbg !=nil {return 0,_acbg ;};if _d .IsWhiteSpace (_fea ){_gc ++;}else {_edg ._gg .UnreadByte ();break ;};};return _gc ,nil ;};func (_ff *fdfParser )parseName ()(_d .PdfObjectName ,error ){var _bgc _be .Buffer ;
_eb :=false ;for {_gbf ,_ace :=_ff ._gg .Peek (1);if _ace ==_ad .EOF {break ;};if _ace !=nil {return _d .PdfObjectName (_bgc .String ()),_ace ;};if !_eb {if _gbf [0]=='/'{_eb =true ;_ff ._gg .ReadByte ();}else if _gbf [0]=='%'{_ff .readComment ();_ff .skipSpaces ();
}else {_af .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_gbf ,_gbf );return _d .PdfObjectName (_bgc .String ()),_a .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_gbf [0]);
};}else {if _d .IsWhiteSpace (_gbf [0]){break ;}else if (_gbf [0]=='/')||(_gbf [0]=='[')||(_gbf [0]=='(')||(_gbf [0]==']')||(_gbf [0]=='<')||(_gbf [0]=='>'){break ;}else if _gbf [0]=='#'{_ggb ,_aa :=_ff ._gg .Peek (3);if _aa !=nil {return _d .PdfObjectName (_bgc .String ()),_aa ;
};_ff ._gg .Discard (3);_gcd ,_aa :=_fg .DecodeString (string (_ggb [1:3]));if _aa !=nil {return _d .PdfObjectName (_bgc .String ()),_aa ;};_bgc .Write (_gcd );}else {_geb ,_ :=_ff ._gg .ReadByte ();_bgc .WriteByte (_geb );};};};return _d .PdfObjectName (_bgc .String ()),nil ;
};func (_cab *fdfParser )parseDict ()(*_d .PdfObjectDictionary ,error ){_af .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_afb :=_d .MakeDict ();_cgb ,_ :=_cab ._gg .ReadByte ();if _cgb !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};_cgb ,_ =_cab ._gg .ReadByte ();if _cgb !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_cab .skipSpaces ();_cab .skipComments ();_ccca ,_ecc :=_cab ._gg .Peek (2);if _ecc !=nil {return nil ,_ecc ;
};_af .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_ccca ),string (_ccca ));if (_ccca [0]=='>')&&(_ccca [1]=='>'){_af .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");
_cab ._gg .ReadByte ();_cab ._gg .ReadByte ();break ;};_af .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_aac ,_ecc :=_cab .parseName ();_af .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_aac );
if _ecc !=nil {_af .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_ecc );return nil ,_ecc ;};if len (_aac )> 4&&_aac [len (_aac )-4:]=="\u006e\u0075\u006c\u006c"{_caaf :=_aac [0:len (_aac )-4];
_af .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_aac );_af .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_caaf );
_cab .skipSpaces ();_cda ,_ :=_cab ._gg .Peek (1);if _cda [0]=='/'{_afb .Set (_caaf ,_d .MakeNull ());continue ;};};_cab .skipSpaces ();_fgc ,_ecc :=_cab .parseObject ();if _ecc !=nil {return nil ,_ecc ;};_afb .Set (_aac ,_fgc );_af .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_aac ,_fgc .String ());
};_af .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _afb ,nil ;};func (_bbf *fdfParser )parse ()error {_bbf ._acb .Seek (0,_ad .SeekStart );_bbf ._gg =_ab .NewReader (_bbf ._acb );
for {_bbf .skipComments ();_bfg ,_gff :=_bbf ._gg .Peek (20);if _gff !=nil {_af .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _gff ;};if _c .HasPrefix (string (_bfg ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_bbf ._gg .Discard (7);_bbf .skipSpaces ();_bbf .skipComments ();_abae ,_ :=_bbf .parseDict ();_bbf ._dfe =_abae ;break ;};_fgcg :=_bda .FindStringSubmatchIndex (string (_bfg ));
if len (_fgcg )< 6{_af .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bfg ));
return _f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_eggc ,_gff :=_bbf .parseIndirectObject ();if _gff !=nil {return _gff ;};switch _cbdd :=_eggc .(type ){case *_d .PdfIndirectObject :_bbf ._ada [_cbdd .ObjectNumber ]=_cbdd ;case *_d .PdfObjectStream :_bbf ._ada [_cbdd .ObjectNumber ]=_cbdd ;default:return _f .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};

// Data represents forms data format (FDF) file data.
type Data struct{_ae *_d .PdfObjectDictionary ;_gf *_d .PdfObjectArray ;};

// Load loads FDF form data from `r`.
func Load (r _ad .ReadSeeker )(*Data ,error ){_fb ,_bec :=_fedc (r );if _bec !=nil {return nil ,_bec ;};_db ,_bec :=_fb .Root ();if _bec !=nil {return nil ,_bec ;};_ba ,_ge :=_d .GetArray (_db .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_ge {return nil ,_f .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_gf :_ba ,_ae :_db },nil ;};var _adfc =_b .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_gea *fdfParser )readAtLeast (_gfa []byte ,_df int )(int ,error ){_bg :=_df ;
_bd :=0;_aeg :=0;for _bg > 0{_gfgc ,_ce :=_gea ._gg .Read (_gfa [_bd :]);if _ce !=nil {_af .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_gfgc ,_aeg ,_ce .Error ());
return _bd ,_f .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_aeg ++;_bd +=_gfgc ;_bg -=_gfgc ;};return _bd ,nil ;};
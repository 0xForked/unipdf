//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_a "bufio";_fb "bytes";_e "encoding/hex";_gb "errors";_bd "fmt";_dd "github.com/unidoc/unipdf/v3/common";_dg "github.com/unidoc/unipdf/v3/core";_ag "io";_eg "os";_f "regexp";_ec "sort";_b "strconv";_d "strings";);func (_ecg *fdfParser )parseNumber ()(_dg .PdfObject ,error ){return _dg .ParseNumber (_ecg ._eef )};
func (_gee *fdfParser )parseName ()(_dg .PdfObjectName ,error ){var _bbe _fb .Buffer ;_bda :=false ;for {_fc ,_gaa :=_gee ._eef .Peek (1);if _gaa ==_ag .EOF {break ;};if _gaa !=nil {return _dg .PdfObjectName (_bbe .String ()),_gaa ;};if !_bda {if _fc [0]=='/'{_bda =true ;
_gee ._eef .ReadByte ();}else if _fc [0]=='%'{_gee .readComment ();_gee .skipSpaces ();}else {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_fc ,_fc );
return _dg .PdfObjectName (_bbe .String ()),_bd .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_fc [0]);};}else {if _dg .IsWhiteSpace (_fc [0]){break ;}else if (_fc [0]=='/')||(_fc [0]=='[')||(_fc [0]=='(')||(_fc [0]==']')||(_fc [0]=='<')||(_fc [0]=='>'){break ;
}else if _fc [0]=='#'{_dbg ,_gdc :=_gee ._eef .Peek (3);if _gdc !=nil {return _dg .PdfObjectName (_bbe .String ()),_gdc ;};_gee ._eef .Discard (3);_cag ,_gdc :=_e .DecodeString (string (_dbg [1:3]));if _gdc !=nil {return _dg .PdfObjectName (_bbe .String ()),_gdc ;
};_bbe .Write (_cag );}else {_gg ,_ :=_gee ._eef .ReadByte ();_bbe .WriteByte (_gg );};};};return _dg .PdfObjectName (_bbe .String ()),nil ;};func _ebef (_ebc _ag .ReadSeeker )(*fdfParser ,error ){_ecad :=&fdfParser {};_ecad ._ff =_ebc ;_ecad ._bag =map[int64 ]_dg .PdfObject {};
_cab ,_eag ,_bfdg :=_ecad .parseFdfVersion ();if _bfdg !=nil {_dd .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_bfdg );return nil ,_bfdg ;};_ecad ._cg =_cab ;
_ecad ._cf =_eag ;_bfdg =_ecad .parse ();return _ecad ,_bfdg ;};var _gfc =_f .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");var _bfg =_f .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");
func (_egc *fdfParser )readTextLine ()(string ,error ){var _be _fb .Buffer ;for {_gcae ,_fga :=_egc ._eef .Peek (1);if _fga !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fga .Error ());return _be .String (),_fga ;};if (_gcae [0]!='\r')&&(_gcae [0]!='\n'){_bbb ,_ :=_egc ._eef .ReadByte ();
_be .WriteByte (_bbb );}else {break ;};};return _be .String (),nil ;};func (_aagb *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_aagb ._ff .Seek (0,_ag .SeekStart );_aagb ._eef =_a .NewReader (_aagb ._ff );_agbb :=20;_bfga :=make ([]byte ,_agbb );
for {_daf ,_ace :=_aagb ._eef .ReadByte ();if _ace !=nil {if _ace ==_ag .EOF {break ;}else {return 0,0,_ace ;};};if _dg .IsDecimalDigit (_daf )&&_bfga [_agbb -1]=='.'&&_dg .IsDecimalDigit (_bfga [_agbb -2])&&_bfga [_agbb -3]=='-'&&_bfga [_agbb -4]=='F'&&_bfga [_agbb -5]=='D'&&_bfga [_agbb -6]=='P'{_eaf :=int (_bfga [_agbb -2]-'0');
_cca :=int (_daf -'0');return _eaf ,_cca ,nil ;};_bfga =append (_bfga [1:_agbb ],_daf );};return 0,0,_gb .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_bgb *fdfParser )parseIndirectObject ()(_dg .PdfObject ,error ){_gffb :=_dg .PdfIndirectObject {};
_dd .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_gdb ,_gceab :=_bgb ._eef .Peek (20);if _gceab !=nil {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_gffb ,_gceab ;};_dd .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_gdb ));_gceg :=_bfg .FindStringSubmatchIndex (string (_gdb ));if len (_gceg )< 6{_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gdb ));
return &_gffb ,_gb .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bgb ._eef .Discard (_gceg [0]);_dd .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_gceg );_gbed :=_gceg [1]-_gceg [0];_age :=make ([]byte ,_gbed );_ ,_gceab =_bgb .readAtLeast (_age ,_gbed );if _gceab !=nil {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_gceab );
return nil ,_gceab ;};_dd .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_age );_afb :=_bfg .FindStringSubmatch (string (_age ));if len (_afb )< 3{_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_age ));
return &_gffb ,_gb .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_fcc ,_ :=_b .Atoi (_afb [1]);_beg ,_ :=_b .Atoi (_afb [2]);_gffb .ObjectNumber =int64 (_fcc );_gffb .GenerationNumber =int64 (_beg );for {_cgeg ,_bdc :=_bgb ._eef .Peek (2);if _bdc !=nil {return &_gffb ,_bdc ;};_dd .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_cgeg ),string (_cgeg ));
if _dg .IsWhiteSpace (_cgeg [0]){_bgb .skipSpaces ();}else if _cgeg [0]=='%'{_bgb .skipComments ();}else if (_cgeg [0]=='<')&&(_cgeg [1]=='<'){_dd .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_gffb .PdfObject ,_bdc =_bgb .parseDict ();
_dd .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_bdc );if _bdc !=nil {return &_gffb ,_bdc ;};_dd .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_cgeg [0]=='/')||(_cgeg [0]=='(')||(_cgeg [0]=='[')||(_cgeg [0]=='<'){_gffb .PdfObject ,_bdc =_bgb .parseObject ();if _bdc !=nil {return &_gffb ,_bdc ;};_dd .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _cgeg [0]=='e'{_cdf ,_gggc :=_bgb .readTextLine ();if _gggc !=nil {return nil ,_gggc ;};if len (_cdf )>=6&&_cdf [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _cgeg [0]=='s'{_cgeg ,_ =_bgb ._eef .Peek (10);if string (_cgeg [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_cba :=6;
if len (_cgeg )> 6{if _dg .IsWhiteSpace (_cgeg [_cba ])&&_cgeg [_cba ]!='\r'&&_cgeg [_cba ]!='\n'{_dd .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_cba ++;};if _cgeg [_cba ]=='\r'{_cba ++;if _cgeg [_cba ]=='\n'{_cba ++;};}else if _cgeg [_cba ]=='\n'{_cba ++;};};_bgb ._eef .Discard (_cba );_def ,_ffd :=_gffb .PdfObject .(*_dg .PdfObjectDictionary );if !_ffd {return nil ,_gb .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_dd .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_def );_cdeb ,_cada :=_def .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_dg .PdfObjectInteger );if !_cada {return nil ,_gb .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_adb :=*_cdeb ;if _adb < 0{return nil ,_gb .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_adb )> _bgb ._deg {_dd .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_gb .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_bgg :=make ([]byte ,_adb );
_ ,_bdc =_bgb .readAtLeast (_bgg ,int (_adb ));if _bdc !=nil {_dd .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_bgg ),_bgg );_dd .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bdc );
return nil ,_bdc ;};_bfe :=_dg .PdfObjectStream {};_bfe .Stream =_bgg ;_bfe .PdfObjectDictionary =_gffb .PdfObject .(*_dg .PdfObjectDictionary );_bfe .ObjectNumber =_gffb .ObjectNumber ;_bfe .GenerationNumber =_gffb .GenerationNumber ;_bgb .skipSpaces ();
_bgb ._eef .Discard (9);_bgb .skipSpaces ();return &_bfe ,nil ;};};_gffb .PdfObject ,_bdc =_bgb .parseObject ();return &_gffb ,_bdc ;};};_dd .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_gffb ,nil ;};func (_agba *fdfParser )parseHexString ()(*_dg .PdfObjectString ,error ){_agba ._eef .ReadByte ();var _gfg _fb .Buffer ;for {_aaa ,_afd :=_agba ._eef .Peek (1);if _afd !=nil {return _dg .MakeHexString (""),_afd ;};if _aaa [0]=='>'{_agba ._eef .ReadByte ();
break ;};_cda ,_ :=_agba ._eef .ReadByte ();if !_dg .IsWhiteSpace (_cda ){_gfg .WriteByte (_cda );};};if _gfg .Len ()%2==1{_gfg .WriteRune ('0');};_efb ,_gac :=_e .DecodeString (_gfg .String ());if _gac !=nil {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_gfg .String ());
return _dg .MakeHexString (""),nil ;};return _dg .MakeHexString (string (_efb )),nil ;};func (_gca *fdfParser )getFileOffset ()int64 {_eca ,_ :=_gca ._ff .Seek (0,_ag .SeekCurrent );_eca -=int64 (_gca ._eef .Buffered ());return _eca ;};func (_df *fdfParser )skipSpaces ()(int ,error ){_ddd :=0;
for {_cafg ,_dcf :=_df ._eef .ReadByte ();if _dcf !=nil {return 0,_dcf ;};if _dg .IsWhiteSpace (_cafg ){_ddd ++;}else {_df ._eef .UnreadByte ();break ;};};return _ddd ,nil ;};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_dg .PdfObject ,error ){_gbfa ,_eea :=fdf .FieldDictionaries ();if _eea !=nil {return nil ,_eea ;};var _ce []string ;for _gdd :=range _gbfa {_ce =append (_ce ,_gdd );};_ec .Strings (_ce );_agb :=map[string ]_dg .PdfObject {};
for _ ,_gc :=range _ce {_cd :=_gbfa [_gc ];_gcb :=_dg .TraceToDirectObject (_cd .Get ("\u0056"));_agb [_gc ]=_gcb ;};return _agb ,nil ;};func (_geb *fdfParser )parseArray ()(*_dg .PdfObjectArray ,error ){_cfg :=_dg .MakeArray ();_geb ._eef .ReadByte ();
for {_geb .skipSpaces ();_fbf ,_cbb :=_geb ._eef .Peek (1);if _cbb !=nil {return _cfg ,_cbb ;};if _fbf [0]==']'{_geb ._eef .ReadByte ();break ;};_dgf ,_cbb :=_geb .parseObject ();if _cbb !=nil {return _cfg ,_cbb ;};_cfg .Append (_dgf );};return _cfg ,nil ;
};var _cbe =_f .MustCompile ("\u0025\u0025\u0045O\u0046");

// Root returns the Root of the FDF document.
func (_aeg *fdfParser )Root ()(*_dg .PdfObjectDictionary ,error ){if _aeg ._caf !=nil {if _gbab ,_gfe :=_aeg .trace (_aeg ._caf .Get ("\u0052\u006f\u006f\u0074")).(*_dg .PdfObjectDictionary );_gfe {if _bec ,_bfc :=_aeg .trace (_gbab .Get ("\u0046\u0044\u0046")).(*_dg .PdfObjectDictionary );
_bfc {return _bec ,nil ;};};};var _cade []int64 ;for _gbea :=range _aeg ._bag {_cade =append (_cade ,_gbea );};_ec .Slice (_cade ,func (_dbd ,_dab int )bool {return _cade [_dbd ]< _cade [_dab ]});for _ ,_fgd :=range _cade {_aca :=_aeg ._bag [_fgd ];if _cbbc ,_cgf :=_aeg .trace (_aca ).(*_dg .PdfObjectDictionary );
_cgf {if _daed ,_gec :=_aeg .trace (_cbbc .Get ("\u0046\u0044\u0046")).(*_dg .PdfObjectDictionary );_gec {return _daed ,nil ;};};};return nil ,_gb .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_ebe *fdfParser )skipComments ()error {if _ ,_eae :=_ebe .skipSpaces ();
_eae !=nil {return _eae ;};_ge :=true ;for {_ab ,_gcac :=_ebe ._eef .Peek (1);if _gcac !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_gcac .Error ());return _gcac ;};if _ge &&_ab [0]!='%'{return nil ;};_ge =false ;if (_ab [0]!='\r')&&(_ab [0]!='\n'){_ebe ._eef .ReadByte ();
}else {break ;};};return _ebe .skipComments ();};func (_dggg *fdfParser )readComment ()(string ,error ){var _aag _fb .Buffer ;_ ,_cbf :=_dggg .skipSpaces ();if _cbf !=nil {return _aag .String (),_cbf ;};_bcd :=true ;for {_db ,_gbc :=_dggg ._eef .Peek (1);
if _gbc !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_gbc .Error ());return _aag .String (),_gbc ;};if _bcd &&_db [0]!='%'{return _aag .String (),_gb .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_bcd =false ;if (_db [0]!='\r')&&(_db [0]!='\n'){_dcd ,_ :=_dggg ._eef .ReadByte ();_aag .WriteByte (_dcd );}else {break ;};};return _aag .String (),nil ;};func (_bg *fdfParser )parseBool ()(_dg .PdfObjectBool ,error ){_fbe ,_ece :=_bg ._eef .Peek (4);
if _ece !=nil {return _dg .PdfObjectBool (false ),_ece ;};if (len (_fbe )>=4)&&(string (_fbe [:4])=="\u0074\u0072\u0075\u0065"){_bg ._eef .Discard (4);return _dg .PdfObjectBool (true ),nil ;};_fbe ,_ece =_bg ._eef .Peek (5);if _ece !=nil {return _dg .PdfObjectBool (false ),_ece ;
};if (len (_fbe )>=5)&&(string (_fbe [:5])=="\u0066\u0061\u006cs\u0065"){_bg ._eef .Discard (5);return _dg .PdfObjectBool (false ),nil ;};return _dg .PdfObjectBool (false ),_gb .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_dg .PdfObjectDictionary ,error ){_bf :=map[string ]*_dg .PdfObjectDictionary {};for _ef :=0;_ef < fdf ._fbd .Len ();_ef ++{_fg ,_ga :=_dg .GetDict (fdf ._fbd .Get (_ef ));if _ga {_eb ,_ :=_dg .GetString (_fg .Get ("\u0054"));
if _eb !=nil {_bf [_eb .Str ()]=_fg ;};};};return _bf ,nil ;};

// Data represents forms data format (FDF) file data.
type Data struct{_gf *_dg .PdfObjectDictionary ;_fbd *_dg .PdfObjectArray ;};var _ceb =_f .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_de ,_ed :=_eg .Open (fdfPath );if _ed !=nil {return nil ,_ed ;};defer _de .Close ();return Load (_de );};func (_fbeb *fdfParser )parseFdfVersion ()(int ,int ,error ){_fbeb ._ff .Seek (0,_ag .SeekStart );
_ffg :=20;_ddf :=make ([]byte ,_ffg );_fbeb ._ff .Read (_ddf );_gfgc :=_baa .FindStringSubmatch (string (_ddf ));if len (_gfgc )< 3{_bbec ,_gefg ,_fbcf :=_fbeb .seekFdfVersionTopDown ();if _fbcf !=nil {_dd .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_fbcf ;};return _bbec ,_gefg ,nil ;};_cbbf ,_bbbf :=_b .Atoi (_gfgc [1]);if _bbbf !=nil {return 0,0,_bbbf ;};_adf ,_bbbf :=_b .Atoi (_gfgc [2]);if _bbbf !=nil {return 0,0,_bbbf ;};_dd .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_cbbf ,_adf );
return _cbbf ,_adf ,nil ;};func (_dgg *fdfParser )setFileOffset (_ecc int64 ){_dgg ._ff .Seek (_ecc ,_ag .SeekStart );_dgg ._eef =_a .NewReader (_dgg ._ff );};func _dbc (_gce string )(_dg .PdfObjectReference ,error ){_dcfd :=_dg .PdfObjectReference {};
_agg :=_ceb .FindStringSubmatch (_gce );if len (_agg )< 3{_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _dcfd ,_gb .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");
};_cdag ,_dcff :=_b .Atoi (_agg [1]);if _dcff !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_agg [1]);
return _dcfd ,nil ;};_dcfd .ObjectNumber =int64 (_cdag );_fa ,_dcff :=_b .Atoi (_agg [2]);if _dcff !=nil {_dd .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_agg [2]);
return _dcfd ,nil ;};_dcfd .GenerationNumber =int64 (_fa );return _dcfd ,nil ;};func (_gdaf *fdfParser )trace (_ggb _dg .PdfObject )_dg .PdfObject {switch _cgef :=_ggb .(type ){case *_dg .PdfObjectReference :_bef ,_cdae :=_gdaf ._bag [_cgef .ObjectNumber ].(*_dg .PdfIndirectObject );
if _cdae {return _bef .PdfObject ;};_dd .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_dg .PdfIndirectObject :return _cgef .PdfObject ;};return _ggb ;};func (_gcaa *fdfParser )seekToEOFMarker (_decd int64 )error {_eac :=int64 (0);
_bgd :=int64 (1000);for _eac < _decd {if _decd <=(_bgd +_eac ){_bgd =_decd -_eac ;};_ ,_aab :=_gcaa ._ff .Seek (-_eac -_bgd ,_ag .SeekEnd );if _aab !=nil {return _aab ;};_gbca :=make ([]byte ,_bgd );_gcaa ._ff .Read (_gbca );_dd .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_gbca ));
_cef :=_cbe .FindAllStringIndex (string (_gbca ),-1);if _cef !=nil {_dgfa :=_cef [len (_cef )-1];_dd .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_cef );_gcaa ._ff .Seek (-_eac -_bgd +int64 (_dgfa [0]),_ag .SeekEnd );return nil ;};_dd .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_eac +=_bgd ;};_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _gb .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};type fdfParser struct{_cg int ;_cf int ;_bag map[int64 ]_dg .PdfObject ;_ff _ag .ReadSeeker ;_eef *_a .Reader ;_deg int64 ;_caf *_dg .PdfObjectDictionary ;};func _gace (_dfe string )(*fdfParser ,error ){_ae :=fdfParser {};_baab :=[]byte (_dfe );_gaeg :=_fb .NewReader (_baab );
_ae ._ff =_gaeg ;_ae ._bag =map[int64 ]_dg .PdfObject {};_gceb :=_a .NewReader (_gaeg );_ae ._eef =_gceb ;_ae ._deg =int64 (len (_dfe ));return &_ae ,_ae .parse ();};func (_bbbe *fdfParser )parseDict ()(*_dg .PdfObjectDictionary ,error ){_dd .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_gbd :=_dg .MakeDict ();_ccba ,_ :=_bbbe ._eef .ReadByte ();if _ccba !='<'{return nil ,_gb .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_ccba ,_ =_bbbe ._eef .ReadByte ();if _ccba !='<'{return nil ,_gb .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_bbbe .skipSpaces ();_bbbe .skipComments ();_cgd ,_eecf :=_bbbe ._eef .Peek (2);if _eecf !=nil {return nil ,_eecf ;};_dd .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_cgd ),string (_cgd ));
if (_cgd [0]=='>')&&(_cgd [1]=='>'){_dd .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_bbbe ._eef .ReadByte ();_bbbe ._eef .ReadByte ();break ;};_dd .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_dec ,_eecf :=_bbbe .parseName ();_dd .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_dec );if _eecf !=nil {_dd .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_eecf );
return nil ,_eecf ;};if len (_dec )> 4&&_dec [len (_dec )-4:]=="\u006e\u0075\u006c\u006c"{_fcb :=_dec [0:len (_dec )-4];_dd .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_dec );
_dd .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_fcb );_bbbe .skipSpaces ();_agf ,_ :=_bbbe ._eef .Peek (1);if _agf [0]=='/'{_gbd .Set (_fcb ,_dg .MakeNull ());continue ;};};_bbbe .skipSpaces ();
_afc ,_eecf :=_bbbe .parseObject ();if _eecf !=nil {return nil ,_eecf ;};_gbd .Set (_dec ,_afc );_dd .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_dec ,_afc .String ());};_dd .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _gbd ,nil ;};func (_dfce *fdfParser )parse ()error {_dfce ._ff .Seek (0,_ag .SeekStart );_dfce ._eef =_a .NewReader (_dfce ._ff );for {_dfce .skipComments ();_bff ,_eff :=_dfce ._eef .Peek (20);if _eff !=nil {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _eff ;};if _d .HasPrefix (string (_bff ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_dfce ._eef .Discard (7);_dfce .skipSpaces ();_dfce .skipComments ();_bgc ,_ :=_dfce .parseDict ();_dfce ._caf =_bgc ;break ;};_fge :=_bfg .FindStringSubmatchIndex (string (_bff ));
if len (_fge )< 6{_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bff ));
return _gb .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_dge ,_eff :=_dfce .parseIndirectObject ();if _eff !=nil {return _eff ;};switch _dgea :=_dge .(type ){case *_dg .PdfIndirectObject :_dfce ._bag [_dgea .ObjectNumber ]=_dgea ;case *_dg .PdfObjectStream :_dfce ._bag [_dgea .ObjectNumber ]=_dgea ;default:return _gb .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};

// Load loads FDF form data from `r`.
func Load (r _ag .ReadSeeker )(*Data ,error ){_gbf ,_gd :=_ebef (r );if _gd !=nil {return nil ,_gd ;};_dc ,_gd :=_gbf .Root ();if _gd !=nil {return nil ,_gd ;};_af ,_c :=_dg .GetArray (_dc .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_c {return nil ,_gb .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_fbd :_af ,_gf :_dc },nil ;};func (_gcea *fdfParser )parseNull ()(_dg .PdfObjectNull ,error ){_ ,_eaef :=_gcea ._eef .Discard (4);return _dg .PdfObjectNull {},_eaef ;};func (_ba *fdfParser )readAtLeast (_da []byte ,_bfd int )(int ,error ){_dea :=_bfd ;
_ea :=0;_cc :=0;for _dea > 0{_dae ,_bc :=_ba ._eef .Read (_da [_ea :]);if _bc !=nil {_dd .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_dae ,_cc ,_bc .Error ());
return _ea ,_gb .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_cc ++;_ea +=_dae ;_dea -=_dae ;};return _ea ,nil ;};var _baa =_f .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");
var _aa =_f .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");func (_fe *fdfParser )parseString ()(*_dg .PdfObjectString ,error ){_fe ._eef .ReadByte ();
var _dcg _fb .Buffer ;_cge :=1;for {_bfae ,_bae :=_fe ._eef .Peek (1);if _bae !=nil {return _dg .MakeString (_dcg .String ()),_bae ;};if _bfae [0]=='\\'{_fe ._eef .ReadByte ();_bcb ,_ad :=_fe ._eef .ReadByte ();if _ad !=nil {return _dg .MakeString (_dcg .String ()),_ad ;
};if _dg .IsOctalDigit (_bcb ){_eec ,_cgeb :=_fe ._eef .Peek (2);if _cgeb !=nil {return _dg .MakeString (_dcg .String ()),_cgeb ;};var _gdf []byte ;_gdf =append (_gdf ,_bcb );for _ ,_cfc :=range _eec {if _dg .IsOctalDigit (_cfc ){_gdf =append (_gdf ,_cfc );
}else {break ;};};_fe ._eef .Discard (len (_gdf )-1);_dd .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_gdf );_gfcd ,_cgeb :=_b .ParseUint (string (_gdf ),8,32);if _cgeb !=nil {return _dg .MakeString (_dcg .String ()),_cgeb ;
};_dcg .WriteByte (byte (_gfcd ));continue ;};switch _bcb {case 'n':_dcg .WriteRune ('\n');case 'r':_dcg .WriteRune ('\r');case 't':_dcg .WriteRune ('\t');case 'b':_dcg .WriteRune ('\b');case 'f':_dcg .WriteRune ('\f');case '(':_dcg .WriteRune ('(');case ')':_dcg .WriteRune (')');
case '\\':_dcg .WriteRune ('\\');};continue ;}else if _bfae [0]=='('{_cge ++;}else if _bfae [0]==')'{_cge --;if _cge ==0{_fe ._eef .ReadByte ();break ;};};_aff ,_ :=_fe ._eef .ReadByte ();_dcg .WriteByte (_aff );};return _dg .MakeString (_dcg .String ()),nil ;
};func (_ccb *fdfParser )parseObject ()(_dg .PdfObject ,error ){_dd .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_ccb .skipSpaces ();for {_gba ,_cde :=_ccb ._eef .Peek (2);if _cde !=nil {return nil ,_cde ;
};_dd .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_gba ));if _gba [0]=='/'{_ac ,_cgg :=_ccb .parseName ();_dd .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_ac );
return &_ac ,_cgg ;}else if _gba [0]=='('{_dd .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _ccb .parseString ();}else if _gba [0]=='['{_dd .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _ccb .parseArray ();
}else if (_gba [0]=='<')&&(_gba [1]=='<'){_dd .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _ccb .parseDict ();}else if _gba [0]=='<'{_dd .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _ccb .parseHexString ();
}else if _gba [0]=='%'{_ccb .readComment ();_ccb .skipSpaces ();}else {_dd .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_gba ,_ =_ccb ._eef .Peek (15);_cad :=string (_gba );_dd .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_cad );
if (len (_cad )> 3)&&(_cad [:4]=="\u006e\u0075\u006c\u006c"){_fbc ,_eab :=_ccb .parseNull ();return &_fbc ,_eab ;}else if (len (_cad )> 4)&&(_cad [:5]=="\u0066\u0061\u006cs\u0065"){_fae ,_gae :=_ccb .parseBool ();return &_fae ,_gae ;}else if (len (_cad )> 3)&&(_cad [:4]=="\u0074\u0072\u0075\u0065"){_dega ,_cbc :=_ccb .parseBool ();
return &_dega ,_cbc ;};_fed :=_ceb .FindStringSubmatch (_cad );if len (_fed )> 1{_gba ,_ =_ccb ._eef .ReadBytes ('R');_dd .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_gba [:]));_fd ,_gfb :=_dbc (string (_gba ));
return &_fd ,_gfb ;};_gbe :=_gfc .FindStringSubmatch (_cad );if len (_gbe )> 1{_dd .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _ccb .parseNumber ();};_gbe =_aa .FindStringSubmatch (_cad );if len (_gbe )> 1{_dd .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");
_dd .Log .Trace ("\u0025\u0020\u0073",_gbe );return _ccb .parseNumber ();};_dd .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_cad );return nil ,_gb .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};
//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_aa "bufio";_dc "bytes";_a "encoding/hex";_f "errors";_c "fmt";_ggd "github.com/unidoc/unipdf/v3/common";_gg "github.com/unidoc/unipdf/v3/core";_bd "io";_bf "os";_e "regexp";_ba "sort";_d "strconv";_b "strings";);type fdfParser struct{_cbd int ;
_dbe int ;_ed map[int64 ]_gg .PdfObject ;_bad _bd .ReadSeeker ;_bb *_aa .Reader ;_cg int64 ;_aag *_gg .PdfObjectDictionary ;};var _bde =_e .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
var _dad =_e .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_fdb *fdfParser )parseString ()(*_gg .PdfObjectString ,error ){_fdb ._bb .ReadByte ();var _eea _dc .Buffer ;_bac :=1;
for {_bca ,_ccg :=_fdb ._bb .Peek (1);if _ccg !=nil {return _gg .MakeString (_eea .String ()),_ccg ;};if _bca [0]=='\\'{_fdb ._bb .ReadByte ();_gdb ,_edgb :=_fdb ._bb .ReadByte ();if _edgb !=nil {return _gg .MakeString (_eea .String ()),_edgb ;};if _gg .IsOctalDigit (_gdb ){_aab ,_gcd :=_fdb ._bb .Peek (2);
if _gcd !=nil {return _gg .MakeString (_eea .String ()),_gcd ;};var _gfb []byte ;_gfb =append (_gfb ,_gdb );for _ ,_ded :=range _aab {if _gg .IsOctalDigit (_ded ){_gfb =append (_gfb ,_ded );}else {break ;};};_fdb ._bb .Discard (len (_gfb )-1);_ggd .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_gfb );
_beg ,_gcd :=_d .ParseUint (string (_gfb ),8,32);if _gcd !=nil {return _gg .MakeString (_eea .String ()),_gcd ;};_eea .WriteByte (byte (_beg ));continue ;};switch _gdb {case 'n':_eea .WriteRune ('\n');case 'r':_eea .WriteRune ('\r');case 't':_eea .WriteRune ('\t');
case 'b':_eea .WriteRune ('\b');case 'f':_eea .WriteRune ('\f');case '(':_eea .WriteRune ('(');case ')':_eea .WriteRune (')');case '\\':_eea .WriteRune ('\\');};continue ;}else if _bca [0]=='('{_bac ++;}else if _bca [0]==')'{_bac --;if _bac ==0{_fdb ._bb .ReadByte ();
break ;};};_bce ,_ :=_fdb ._bb .ReadByte ();_eea .WriteByte (_bce );};return _gg .MakeString (_eea .String ()),nil ;};func (_cbb *fdfParser )skipComments ()error {if _ ,_gce :=_cbb .skipSpaces ();_gce !=nil {return _gce ;};_bff :=true ;for {_dfd ,_dag :=_cbb ._bb .Peek (1);
if _dag !=nil {_ggd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_dag .Error ());return _dag ;};if _bff &&_dfd [0]!='%'{return nil ;};_bff =false ;if (_dfd [0]!='\r')&&(_dfd [0]!='\n'){_cbb ._bb .ReadByte ();}else {break ;};};return _cbb .skipComments ();
};func (_cec *fdfParser )parseDict ()(*_gg .PdfObjectDictionary ,error ){_ggd .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_bfc :=_gg .MakeDict ();_fbb ,_ :=_cec ._bb .ReadByte ();if _fbb !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};_fbb ,_ =_cec ._bb .ReadByte ();if _fbb !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_cec .skipSpaces ();_cec .skipComments ();_bfe ,_aec :=_cec ._bb .Peek (2);if _aec !=nil {return nil ,_aec ;
};_ggd .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bfe ),string (_bfe ));if (_bfe [0]=='>')&&(_bfe [1]=='>'){_ggd .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");
_cec ._bb .ReadByte ();_cec ._bb .ReadByte ();break ;};_ggd .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_ede ,_aec :=_cec .parseName ();_ggd .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_ede );
if _aec !=nil {_ggd .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_aec );return nil ,_aec ;};if len (_ede )> 4&&_ede [len (_ede )-4:]=="\u006e\u0075\u006c\u006c"{_dage :=_ede [0:len (_ede )-4];
_ggd .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_ede );_ggd .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_dage );
_cec .skipSpaces ();_deaa ,_ :=_cec ._bb .Peek (1);if _deaa [0]=='/'{_bfc .Set (_dage ,_gg .MakeNull ());continue ;};};_cec .skipSpaces ();_beb ,_aec :=_cec .parseObject ();if _aec !=nil {return nil ,_aec ;};_bfc .Set (_ede ,_beb );_ggd .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_ede ,_beb .String ());
};_ggd .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _bfc ,nil ;};func (_ac *fdfParser )readAtLeast (_gc []byte ,_cd int )(int ,error ){_ggb :=_cd ;_cfc :=0;_ae :=0;for _ggb > 0{_eee ,_add :=_ac ._bb .Read (_gc [_cfc :]);
if _add !=nil {_ggd .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_eee ,_ae ,_add .Error ());return _cfc ,_f .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");
};_ae ++;_cfc +=_eee ;_ggb -=_eee ;};return _cfc ,nil ;};func (_cde *fdfParser )parseNull ()(_gg .PdfObjectNull ,error ){_ ,_gcc :=_cde ._bb .Discard (4);return _gg .PdfObjectNull {},_gcc ;};func (_ccea *fdfParser )trace (_edf _gg .PdfObject )_gg .PdfObject {switch _geg :=_edf .(type ){case *_gg .PdfObjectReference :_dga ,_fdbd :=_ccea ._ed [_geg .ObjectNumber ].(*_gg .PdfIndirectObject );
if _fdbd {return _dga .PdfObject ;};_ggd .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_gg .PdfIndirectObject :return _geg .PdfObject ;};return _edf ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_eca ,_ff :=_bf .Open (fdfPath );if _ff !=nil {return nil ,_ff ;};defer _eca .Close ();return Load (_eca );};func (_agf *fdfParser )seekToEOFMarker (_efc int64 )error {_gedd :=int64 (0);_begb :=int64 (1000);
for _gedd < _efc {if _efc <=(_begb +_gedd ){_begb =_efc -_gedd ;};_ ,_bbc :=_agf ._bad .Seek (-_gedd -_begb ,_bd .SeekEnd );if _bbc !=nil {return _bbc ;};_aee :=make ([]byte ,_begb );_agf ._bad .Read (_aee );_ggd .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_aee ));
_ceb :=_fg .FindAllStringIndex (string (_aee ),-1);if _ceb !=nil {_efa :=_ceb [len (_ceb )-1];_ggd .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_ceb );_agf ._bad .Seek (-_gedd -_begb +int64 (_efa [0]),_bd .SeekEnd );return nil ;};_ggd .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_gedd +=_begb ;};_ggd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _f .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func _fff (_af string )(_gg .PdfObjectReference ,error ){_cffc :=_gg .PdfObjectReference {};_gac :=_gf .FindStringSubmatch (_af );if len (_gac )< 3{_ggd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _cffc ,_f .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_dead ,_edd :=_d .Atoi (_gac [1]);if _edd !=nil {_ggd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_gac [1]);
return _cffc ,nil ;};_cffc .ObjectNumber =int64 (_dead );_aaef ,_edd :=_d .Atoi (_gac [2]);if _edd !=nil {_ggd .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_gac [2]);
return _cffc ,nil ;};_cffc .GenerationNumber =int64 (_aaef );return _cffc ,nil ;};func (_ggg *fdfParser )getFileOffset ()int64 {_ccb ,_ :=_ggg ._bad .Seek (0,_bd .SeekCurrent );_ccb -=int64 (_ggg ._bb .Buffered ());return _ccb ;};func (_dge *fdfParser )parseBool ()(_gg .PdfObjectBool ,error ){_ccbd ,_caf :=_dge ._bb .Peek (4);
if _caf !=nil {return _gg .PdfObjectBool (false ),_caf ;};if (len (_ccbd )>=4)&&(string (_ccbd [:4])=="\u0074\u0072\u0075\u0065"){_dge ._bb .Discard (4);return _gg .PdfObjectBool (true ),nil ;};_ccbd ,_caf =_dge ._bb .Peek (5);if _caf !=nil {return _gg .PdfObjectBool (false ),_caf ;
};if (len (_ccbd )>=5)&&(string (_ccbd [:5])=="\u0066\u0061\u006cs\u0065"){_dge ._bb .Discard (5);return _gg .PdfObjectBool (false ),nil ;};return _gg .PdfObjectBool (false ),_f .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};var _fg =_e .MustCompile ("\u0025\u0025\u0045O\u0046");func (_eed *fdfParser )parse ()error {_eed ._bad .Seek (0,_bd .SeekStart );_eed ._bb =_aa .NewReader (_eed ._bad );for {_eed .skipComments ();_afb ,_afa :=_eed ._bb .Peek (20);if _afa !=nil {_ggd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _afa ;};if _b .HasPrefix (string (_afb ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_eed ._bb .Discard (7);_eed .skipSpaces ();_eed .skipComments ();_ggf ,_ :=_eed .parseDict ();_eed ._aag =_ggf ;break ;};_caa :=_dad .FindStringSubmatchIndex (string (_afb ));
if len (_caa )< 6{_ggd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_afb ));
return _f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_aaf ,_afa :=_eed .parseIndirectObject ();if _afa !=nil {return _afa ;};switch _fcag :=_aaf .(type ){case *_gg .PdfIndirectObject :_eed ._ed [_fcag .ObjectNumber ]=_fcag ;case *_gg .PdfObjectStream :_eed ._ed [_fcag .ObjectNumber ]=_fcag ;default:return _f .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_cbe *fdfParser )parseIndirectObject ()(_gg .PdfObject ,error ){_gbff :=_gg .PdfIndirectObject {};_ggd .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_gbc ,_gbga :=_cbe ._bb .Peek (20);
if _gbga !=nil {_ggd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_gbff ,_gbga ;};_ggd .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_gbc ));
_addb :=_dad .FindStringSubmatchIndex (string (_gbc ));if len (_addb )< 6{_ggd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gbc ));
return &_gbff ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_cbe ._bb .Discard (_addb [0]);_ggd .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_addb );_fbc :=_addb [1]-_addb [0];_dgd :=make ([]byte ,_fbc );_ ,_gbga =_cbe .readAtLeast (_dgd ,_fbc );if _gbga !=nil {_ggd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_gbga );
return nil ,_gbga ;};_ggd .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_dgd );_gdd :=_dad .FindStringSubmatch (string (_dgd ));if len (_gdd )< 3{_ggd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_dgd ));
return &_gbff ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_ggc ,_ :=_d .Atoi (_gdd [1]);_fffa ,_ :=_d .Atoi (_gdd [2]);_gbff .ObjectNumber =int64 (_ggc );_gbff .GenerationNumber =int64 (_fffa );for {_age ,_cecf :=_cbe ._bb .Peek (2);if _cecf !=nil {return &_gbff ,_cecf ;};_ggd .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_age ),string (_age ));
if _gg .IsWhiteSpace (_age [0]){_cbe .skipSpaces ();}else if _age [0]=='%'{_cbe .skipComments ();}else if (_age [0]=='<')&&(_age [1]=='<'){_ggd .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_gbff .PdfObject ,_cecf =_cbe .parseDict ();
_ggd .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_cecf );if _cecf !=nil {return &_gbff ,_cecf ;};_ggd .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_age [0]=='/')||(_age [0]=='(')||(_age [0]=='[')||(_age [0]=='<'){_gbff .PdfObject ,_cecf =_cbe .parseObject ();if _cecf !=nil {return &_gbff ,_cecf ;};_ggd .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _age [0]=='e'{_bbbf ,_efcc :=_cbe .readTextLine ();if _efcc !=nil {return nil ,_efcc ;};if len (_bbbf )>=6&&_bbbf [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _age [0]=='s'{_age ,_ =_cbe ._bb .Peek (10);if string (_age [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_aaefa :=6;
if len (_age )> 6{if _gg .IsWhiteSpace (_age [_aaefa ])&&_age [_aaefa ]!='\r'&&_age [_aaefa ]!='\n'{_ggd .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_aaefa ++;};if _age [_aaefa ]=='\r'{_aaefa ++;if _age [_aaefa ]=='\n'{_aaefa ++;};}else if _age [_aaefa ]=='\n'{_aaefa ++;};};_cbe ._bb .Discard (_aaefa );_eab ,_adg :=_gbff .PdfObject .(*_gg .PdfObjectDictionary );if !_adg {return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_ggd .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_eab );_aed ,_cgc :=_eab .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_gg .PdfObjectInteger );if !_cgc {return nil ,_f .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_fca :=*_aed ;if _fca < 0{return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_fca )> _cbe ._cg {_ggd .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_f .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_dfce :=make ([]byte ,_fca );
_ ,_cecf =_cbe .readAtLeast (_dfce ,int (_fca ));if _cecf !=nil {_ggd .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_dfce ),_dfce );_ggd .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cecf );
return nil ,_cecf ;};_ecf :=_gg .PdfObjectStream {};_ecf .Stream =_dfce ;_ecf .PdfObjectDictionary =_gbff .PdfObject .(*_gg .PdfObjectDictionary );_ecf .ObjectNumber =_gbff .ObjectNumber ;_ecf .GenerationNumber =_gbff .GenerationNumber ;_cbe .skipSpaces ();
_cbe ._bb .Discard (9);_cbe .skipSpaces ();return &_ecf ,nil ;};};_gbff .PdfObject ,_cecf =_cbe .parseObject ();return &_gbff ,_cecf ;};};_ggd .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_gbff ,nil ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_gg .PdfObjectDictionary ,error ){_fe :=map[string ]*_gg .PdfObjectDictionary {};for _fd :=0;_fd < fdf ._ec .Len ();_fd ++{_ga ,_gb :=_gg .GetDict (fdf ._ec .Get (_fd ));if _gb {_ecg ,_ :=_gg .GetString (_ga .Get ("\u0054"));
if _ecg !=nil {_fe [_ecg .Str ()]=_ga ;};};};return _fe ,nil ;};func (_bee *fdfParser )parseNumber ()(_gg .PdfObject ,error ){return _gg .ParseNumber (_bee ._bb )};func (_cfca *fdfParser )parseHexString ()(*_gg .PdfObjectString ,error ){_cfca ._bb .ReadByte ();
var _daa _dc .Buffer ;for {_dcc ,_cba :=_cfca ._bb .Peek (1);if _cba !=nil {return _gg .MakeHexString (""),_cba ;};if _dcc [0]=='>'{_cfca ._bb .ReadByte ();break ;};_ecc ,_ :=_cfca ._bb .ReadByte ();if !_gg .IsWhiteSpace (_ecc ){_daa .WriteByte (_ecc );
};};if _daa .Len ()%2==1{_daa .WriteRune ('0');};_aceg ,_gdc :=_a .DecodeString (_daa .String ());if _gdc !=nil {_ggd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_daa .String ());
return _gg .MakeHexString (""),nil ;};return _gg .MakeHexString (string (_aceg )),nil ;};func _dac (_bg string )(*fdfParser ,error ){_dae :=fdfParser {};_fac :=[]byte (_bg );_cbea :=_dc .NewReader (_fac );_dae ._bad =_cbea ;_dae ._ed =map[int64 ]_gg .PdfObject {};
_gad :=_aa .NewReader (_cbea );_dae ._bb =_gad ;_dae ._cg =int64 (len (_bg ));return &_dae ,_dae .parse ();};func (_cbg *fdfParser )parseFdfVersion ()(int ,int ,error ){_cbg ._bad .Seek (0,_bd .SeekStart );_afd :=20;_ged :=make ([]byte ,_afd );_cbg ._bad .Read (_ged );
_ebb :=_dcg .FindStringSubmatch (string (_ged ));if len (_ebb )< 3{_cddg ,_ag ,_dbec :=_cbg .seekFdfVersionTopDown ();if _dbec !=nil {_ggd .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_dbec ;};return _cddg ,_ag ,nil ;};_fedg ,_feg :=_d .Atoi (_ebb [1]);if _feg !=nil {return 0,0,_feg ;};_ccga ,_feg :=_d .Atoi (_ebb [2]);if _feg !=nil {return 0,0,_feg ;};_ggd .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_fedg ,_ccga );
return _fedg ,_ccga ,nil ;};func (_de *fdfParser )readTextLine ()(string ,error ){var _edga _dc .Buffer ;for {_cfe ,_ge :=_de ._bb .Peek (1);if _ge !=nil {_ggd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ge .Error ());return _edga .String (),_ge ;
};if (_cfe [0]!='\r')&&(_cfe [0]!='\n'){_gd ,_ :=_de ._bb .ReadByte ();_edga .WriteByte (_gd );}else {break ;};};return _edga .String (),nil ;};func (_fdda *fdfParser )parseArray ()(*_gg .PdfObjectArray ,error ){_gfa :=_gg .MakeArray ();_fdda ._bb .ReadByte ();
for {_fdda .skipSpaces ();_bbb ,_eff :=_fdda ._bb .Peek (1);if _eff !=nil {return _gfa ,_eff ;};if _bbb [0]==']'{_fdda ._bb .ReadByte ();break ;};_fge ,_eff :=_fdda .parseObject ();if _eff !=nil {return _gfa ,_eff ;};_gfa .Append (_fge );};return _gfa ,nil ;
};var _dcg =_e .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");var _db =_e .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");var _gf =_e .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");


// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_gg .PdfObject ,error ){_gbf ,_aae :=fdf .FieldDictionaries ();if _aae !=nil {return nil ,_aae ;};var _fc []string ;for _da :=range _gbf {_fc =append (_fc ,_da );};_ba .Strings (_fc );_cc :=map[string ]_gg .PdfObject {};
for _ ,_eeg :=range _fc {_fdd :=_gbf [_eeg ];_ffe :=_gg .TraceToDirectObject (_fdd .Get ("\u0056"));_cc [_eeg ]=_ffe ;};return _cc ,nil ;};func (_eega *fdfParser )parseName ()(_gg .PdfObjectName ,error ){var _ffge _dc .Buffer ;_be :=false ;for {_bfd ,_acc :=_eega ._bb .Peek (1);
if _acc ==_bd .EOF {break ;};if _acc !=nil {return _gg .PdfObjectName (_ffge .String ()),_acc ;};if !_be {if _bfd [0]=='/'{_be =true ;_eega ._bb .ReadByte ();}else if _bfd [0]=='%'{_eega .readComment ();_eega .skipSpaces ();}else {_ggd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_bfd ,_bfd );
return _gg .PdfObjectName (_ffge .String ()),_c .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_bfd [0]);};}else {if _gg .IsWhiteSpace (_bfd [0]){break ;}else if (_bfd [0]=='/')||(_bfd [0]=='[')||(_bfd [0]=='(')||(_bfd [0]==']')||(_bfd [0]=='<')||(_bfd [0]=='>'){break ;
}else if _bfd [0]=='#'{_dea ,_aad :=_eega ._bb .Peek (3);if _aad !=nil {return _gg .PdfObjectName (_ffge .String ()),_aad ;};_eega ._bb .Discard (3);_bed ,_aad :=_a .DecodeString (string (_dea [1:3]));if _aad !=nil {return _gg .PdfObjectName (_ffge .String ()),_aad ;
};_ffge .Write (_bed );}else {_fga ,_ :=_eega ._bb .ReadByte ();_ffge .WriteByte (_fga );};};};return _gg .PdfObjectName (_ffge .String ()),nil ;};func _adge (_cce _bd .ReadSeeker )(*fdfParser ,error ){_adcg :=&fdfParser {};_adcg ._bad =_cce ;_adcg ._ed =map[int64 ]_gg .PdfObject {};
_cdg ,_cbdd ,_cgg :=_adcg .parseFdfVersion ();if _cgg !=nil {_ggd .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_cgg );return nil ,_cgg ;};_adcg ._cbd =_cdg ;
_adcg ._dbe =_cbdd ;_cgg =_adcg .parse ();return _adcg ,_cgg ;};func (_ca *fdfParser )setFileOffset (_ada int64 ){_ca ._bad .Seek (_ada ,_bd .SeekStart );_ca ._bb =_aa .NewReader (_ca ._bad );};func (_dcb *fdfParser )readComment ()(string ,error ){var _fa _dc .Buffer ;
_ ,_ace :=_dcb .skipSpaces ();if _ace !=nil {return _fa .String (),_ace ;};_dfc :=true ;for {_ef ,_cff :=_dcb ._bb .Peek (1);if _cff !=nil {_ggd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_cff .Error ());return _fa .String (),_cff ;
};if _dfc &&_ef [0]!='%'{return _fa .String (),_f .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_dfc =false ;if (_ef [0]!='\r')&&(_ef [0]!='\n'){_cgd ,_ :=_dcb ._bb .ReadByte ();
_fa .WriteByte (_cgd );}else {break ;};};return _fa .String (),nil ;};func (_eg *fdfParser )skipSpaces ()(int ,error ){_ecaf :=0;for {_cab ,_edg :=_eg ._bb .ReadByte ();if _edg !=nil {return 0,_edg ;};if _gg .IsWhiteSpace (_cab ){_ecaf ++;}else {_eg ._bb .UnreadByte ();
break ;};};return _ecaf ,nil ;};

// Root returns the Root of the FDF document.
func (_ebbf *fdfParser )Root ()(*_gg .PdfObjectDictionary ,error ){if _ebbf ._aag !=nil {if _ddb ,_bea :=_ebbf .trace (_ebbf ._aag .Get ("\u0052\u006f\u006f\u0074")).(*_gg .PdfObjectDictionary );_bea {if _ggcg ,_dgf :=_ebbf .trace (_ddb .Get ("\u0046\u0044\u0046")).(*_gg .PdfObjectDictionary );
_dgf {return _ggcg ,nil ;};};};var _adc []int64 ;for _ddbc :=range _ebbf ._ed {_adc =append (_adc ,_ddbc );};_ba .Slice (_adc ,func (_fcd ,_gbd int )bool {return _adc [_fcd ]< _adc [_gbd ]});for _ ,_gef :=range _adc {_cbeg :=_ebbf ._ed [_gef ];if _egg ,_ccgb :=_ebbf .trace (_cbeg ).(*_gg .PdfObjectDictionary );
_ccgb {if _egc ,_bdge :=_ebbf .trace (_egg .Get ("\u0046\u0044\u0046")).(*_gg .PdfObjectDictionary );_bdge {return _egc ,nil ;};};};return nil ,_f .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_bfb *fdfParser )parseObject ()(_gg .PdfObject ,error ){_ggd .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_bfb .skipSpaces ();for {_afc ,_bdg :=_bfb ._bb .Peek (2);if _bdg !=nil {return nil ,_bdg ;};_ggd .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_afc ));if _afc [0]=='/'{_ab ,_bcb :=_bfb .parseName ();
_ggd .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_ab );return &_ab ,_bcb ;}else if _afc [0]=='('{_ggd .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _bfb .parseString ();}else if _afc [0]=='['{_ggd .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _bfb .parseArray ();}else if (_afc [0]=='<')&&(_afc [1]=='<'){_ggd .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _bfb .parseDict ();}else if _afc [0]=='<'{_ggd .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _bfb .parseHexString ();}else if _afc [0]=='%'{_bfb .readComment ();_bfb .skipSpaces ();}else {_ggd .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_afc ,_ =_bfb ._bb .Peek (15);_cbdb :=string (_afc );
_ggd .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_cbdb );if (len (_cbdb )> 3)&&(_cbdb [:4]=="\u006e\u0075\u006c\u006c"){_fed ,_efb :=_bfb .parseNull ();return &_fed ,_efb ;}else if (len (_cbdb )> 4)&&(_cbdb [:5]=="\u0066\u0061\u006cs\u0065"){_gde ,_eb :=_bfb .parseBool ();
return &_gde ,_eb ;}else if (len (_cbdb )> 3)&&(_cbdb [:4]=="\u0074\u0072\u0075\u0065"){_ggbb ,_cef :=_bfb .parseBool ();return &_ggbb ,_cef ;};_ccf :=_gf .FindStringSubmatch (_cbdb );if len (_ccf )> 1{_afc ,_ =_bfb ._bb .ReadBytes ('R');_ggd .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_afc [:]));
_egb ,_cabe :=_fff (string (_afc ));return &_egb ,_cabe ;};_gfd :=_db .FindStringSubmatch (_cbdb );if len (_gfd )> 1{_ggd .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _bfb .parseNumber ();};_gfd =_bde .FindStringSubmatch (_cbdb );
if len (_gfd )> 1{_ggd .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_ggd .Log .Trace ("\u0025\u0020\u0073",_gfd );return _bfb .parseNumber ();};_ggd .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_cbdb );
return nil ,_f .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};

// Load loads FDF form data from `r`.
func Load (r _bd .ReadSeeker )(*Data ,error ){_ea ,_df :=_adge (r );if _df !=nil {return nil ,_df ;};_fb ,_df :=_ea .Root ();if _df !=nil {return nil ,_df ;};_cb ,_dd :=_gg .GetArray (_fb .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_dd {return nil ,_f .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_ec :_cb ,_cf :_fb },nil ;};func (_afg *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_afg ._bad .Seek (0,_bd .SeekStart );_afg ._bb =_aa .NewReader (_afg ._bad );_efag :=20;_geb :=make ([]byte ,_efag );for {_daf ,_cdc :=_afg ._bb .ReadByte ();
if _cdc !=nil {if _cdc ==_bd .EOF {break ;}else {return 0,0,_cdc ;};};if _gg .IsDecimalDigit (_daf )&&_geb [_efag -1]=='.'&&_gg .IsDecimalDigit (_geb [_efag -2])&&_geb [_efag -3]=='-'&&_geb [_efag -4]=='F'&&_geb [_efag -5]=='D'&&_geb [_efag -6]=='P'{_cfcc :=int (_geb [_efag -2]-'0');
_cfec :=int (_daf -'0');return _cfcc ,_cfec ,nil ;};_geb =append (_geb [1:_efag ],_daf );};return 0,0,_f .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};

// Data represents forms data format (FDF) file data.
type Data struct{_cf *_gg .PdfObjectDictionary ;_ec *_gg .PdfObjectArray ;};
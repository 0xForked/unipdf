//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_g "bufio";_bc "bytes";_ag "encoding/hex";_b "errors";_fcc "fmt";_e "github.com/unidoc/unipdf/v3/common";_ff "github.com/unidoc/unipdf/v3/core";_bg "io";_bb "os";_ad "regexp";_af "sort";_fc "strconv";_f "strings";);func (_fff *fdfParser )parseFdfVersion ()(int ,int ,error ){_fff ._ced .Seek (0,_bg .SeekStart );
_bbc :=20;_agg :=make ([]byte ,_bbc );_fff ._ced .Read (_agg );_bgf :=_eeef .FindStringSubmatch (string (_agg ));if len (_bgf )< 3{_adf ,_cdf ,_cede :=_fff .seekFdfVersionTopDown ();if _cede !=nil {_e .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_cede ;};return _adf ,_cdf ,nil ;};_egf ,_ddf :=_fc .Atoi (_bgf [1]);if _ddf !=nil {return 0,0,_ddf ;};_defd ,_ddf :=_fc .Atoi (_bgf [2]);if _ddf !=nil {return 0,0,_ddf ;};_e .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_egf ,_defd );
return _egf ,_defd ,nil ;};func (_bef *fdfParser )parseName ()(_ff .PdfObjectName ,error ){var _dbd _bc .Buffer ;_gc :=false ;for {_fcg ,_cee :=_bef ._cae .Peek (1);if _cee ==_bg .EOF {break ;};if _cee !=nil {return _ff .PdfObjectName (_dbd .String ()),_cee ;
};if !_gc {if _fcg [0]=='/'{_gc =true ;_bef ._cae .ReadByte ();}else if _fcg [0]=='%'{_bef .readComment ();_bef .skipSpaces ();}else {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_fcg ,_fcg );
return _ff .PdfObjectName (_dbd .String ()),_fcc .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_fcg [0]);};}else {if _ff .IsWhiteSpace (_fcg [0]){break ;}else if (_fcg [0]=='/')||(_fcg [0]=='[')||(_fcg [0]=='(')||(_fcg [0]==']')||(_fcg [0]=='<')||(_fcg [0]=='>'){break ;
}else if _fcg [0]=='#'{_ccd ,_cgg :=_bef ._cae .Peek (3);if _cgg !=nil {return _ff .PdfObjectName (_dbd .String ()),_cgg ;};_bef ._cae .Discard (3);_cgff ,_cgg :=_ag .DecodeString (string (_ccd [1:3]));if _cgg !=nil {return _ff .PdfObjectName (_dbd .String ()),_cgg ;
};_dbd .Write (_cgff );}else {_dge ,_ :=_bef ._cae .ReadByte ();_dbd .WriteByte (_dge );};};};return _ff .PdfObjectName (_dbd .String ()),nil ;};var _ge =_ad .MustCompile ("\u0025\u0025\u0045O\u0046");

// Data represents forms data format (FDF) file data.
type Data struct{_ee *_ff .PdfObjectDictionary ;_aa *_ff .PdfObjectArray ;};func (_caeb *fdfParser )parseHexString ()(*_ff .PdfObjectString ,error ){_caeb ._cae .ReadByte ();var _abc _bc .Buffer ;for {_bde ,_gfg :=_caeb ._cae .Peek (1);if _gfg !=nil {return _ff .MakeHexString (""),_gfg ;
};if _bde [0]=='>'{_caeb ._cae .ReadByte ();break ;};_adb ,_ :=_caeb ._cae .ReadByte ();if !_ff .IsWhiteSpace (_adb ){_abc .WriteByte (_adb );};};if _abc .Len ()%2==1{_abc .WriteRune ('0');};_bae ,_eeff :=_ag .DecodeString (_abc .String ());if _eeff !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_abc .String ());
return _ff .MakeHexString (""),nil ;};return _ff .MakeHexString (string (_bae )),nil ;};func (_fgb *fdfParser )setFileOffset (_eee int64 ){_fgb ._ced .Seek (_eee ,_bg .SeekStart );_fgb ._cae =_g .NewReader (_fgb ._ced );};func (_def *fdfParser )readComment ()(string ,error ){var _cef _bc .Buffer ;
_ ,_ead :=_def .skipSpaces ();if _ead !=nil {return _cef .String (),_ead ;};_bdg :=true ;for {_bga ,_fgbg :=_def ._cae .Peek (1);if _fgbg !=nil {_e .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fgbg .Error ());return _cef .String (),_fgbg ;
};if _bdg &&_bga [0]!='%'{return _cef .String (),_b .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_bdg =false ;if (_bga [0]!='\r')&&(_bga [0]!='\n'){_ccb ,_ :=_def ._cae .ReadByte ();
_cef .WriteByte (_ccb );}else {break ;};};return _cef .String (),nil ;};func (_gdf *fdfParser )parseDict ()(*_ff .PdfObjectDictionary ,error ){_e .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_fgfc :=_ff .MakeDict ();_cec ,_ :=_gdf ._cae .ReadByte ();if _cec !='<'{return nil ,_b .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_cec ,_ =_gdf ._cae .ReadByte ();if _cec !='<'{return nil ,_b .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_gdf .skipSpaces ();_gdf .skipComments ();_cfe ,_ecc :=_gdf ._cae .Peek (2);if _ecc !=nil {return nil ,_ecc ;};_e .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_cfe ),string (_cfe ));
if (_cfe [0]=='>')&&(_cfe [1]=='>'){_e .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_gdf ._cae .ReadByte ();_gdf ._cae .ReadByte ();break ;};_e .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_efd ,_ecc :=_gdf .parseName ();_e .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_efd );if _ecc !=nil {_e .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_ecc );
return nil ,_ecc ;};if len (_efd )> 4&&_efd [len (_efd )-4:]=="\u006e\u0075\u006c\u006c"{_eg :=_efd [0:len (_efd )-4];_e .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_efd );
_e .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_eg );_gdf .skipSpaces ();_dbde ,_ :=_gdf ._cae .Peek (1);if _dbde [0]=='/'{_fgfc .Set (_eg ,_ff .MakeNull ());continue ;};};_gdf .skipSpaces ();
_eca ,_ecc :=_gdf .parseObject ();if _ecc !=nil {return nil ,_ecc ;};_fgfc .Set (_efd ,_eca );_e .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_efd ,_eca .String ());};_e .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _fgfc ,nil ;};var _abe =_ad .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_ff .PdfObjectDictionary ,error ){_ba :=map[string ]*_ff .PdfObjectDictionary {};for _ca :=0;_ca < fdf ._aa .Len ();_ca ++{_cac ,_gf :=_ff .GetDict (fdf ._aa .Get (_ca ));if _gf {_be ,_ :=_ff .GetString (_cac .Get ("\u0054"));
if _be !=nil {_ba [_be .Str ()]=_cac ;};};};return _ba ,nil ;};func (_bec *fdfParser )parseNull ()(_ff .PdfObjectNull ,error ){_ ,_cde :=_bec ._cae .Discard (4);return _ff .PdfObjectNull {},_cde ;};var _eeef =_ad .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");
func (_gfb *fdfParser )parseNumber ()(_ff .PdfObject ,error ){return _ff .ParseNumber (_gfb ._cae )};func (_eef *fdfParser )skipComments ()error {if _ ,_bdb :=_eef .skipSpaces ();_bdb !=nil {return _bdb ;};_eb :=true ;for {_cgd ,_fba :=_eef ._cae .Peek (1);
if _fba !=nil {_e .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fba .Error ());return _fba ;};if _eb &&_cgd [0]!='%'{return nil ;};_eb =false ;if (_cgd [0]!='\r')&&(_cgd [0]!='\n'){_eef ._cae .ReadByte ();}else {break ;};};return _eef .skipComments ();
};func (_ffc *fdfParser )skipSpaces ()(int ,error ){_dag :=0;for {_cb ,_cbg :=_ffc ._cae .ReadByte ();if _cbg !=nil {return 0,_cbg ;};if _ff .IsWhiteSpace (_cb ){_dag ++;}else {_ffc ._cae .UnreadByte ();break ;};};return _dag ,nil ;};func (_aga *fdfParser )parseIndirectObject ()(_ff .PdfObject ,error ){_ccf :=_ff .PdfIndirectObject {};
_e .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_aca ,_gad :=_aga ._cae .Peek (20);if _gad !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_ccf ,_gad ;};_e .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_aca ));_ffb :=_eeg .FindStringSubmatchIndex (string (_aca ));if len (_ffb )< 6{_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_aca ));
return &_ccf ,_b .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_aga ._cae .Discard (_ffb [0]);_e .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_ffb );_bgc :=_ffb [1]-_ffb [0];_fcd :=make ([]byte ,_bgc );_ ,_gad =_aga .readAtLeast (_fcd ,_bgc );if _gad !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_gad );
return nil ,_gad ;};_e .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_fcd );_bcc :=_eeg .FindStringSubmatch (string (_fcd ));if len (_bcc )< 3{_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_fcd ));
return &_ccf ,_b .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_feec ,_ :=_fc .Atoi (_bcc [1]);_ffed ,_ :=_fc .Atoi (_bcc [2]);_ccf .ObjectNumber =int64 (_feec );_ccf .GenerationNumber =int64 (_ffed );for {_cbf ,_afg :=_aga ._cae .Peek (2);if _afg !=nil {return &_ccf ,_afg ;};_e .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_cbf ),string (_cbf ));
if _ff .IsWhiteSpace (_cbf [0]){_aga .skipSpaces ();}else if _cbf [0]=='%'{_aga .skipComments ();}else if (_cbf [0]=='<')&&(_cbf [1]=='<'){_e .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_ccf .PdfObject ,_afg =_aga .parseDict ();
_e .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_afg );if _afg !=nil {return &_ccf ,_afg ;};_e .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_cbf [0]=='/')||(_cbf [0]=='(')||(_cbf [0]=='[')||(_cbf [0]=='<'){_ccf .PdfObject ,_afg =_aga .parseObject ();if _afg !=nil {return &_ccf ,_afg ;};_e .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _cbf [0]=='e'{_ecca ,_dbce :=_aga .readTextLine ();if _dbce !=nil {return nil ,_dbce ;};if len (_ecca )>=6&&_ecca [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _cbf [0]=='s'{_cbf ,_ =_aga ._cae .Peek (10);if string (_cbf [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_cbee :=6;
if len (_cbf )> 6{if _ff .IsWhiteSpace (_cbf [_cbee ])&&_cbf [_cbee ]!='\r'&&_cbf [_cbee ]!='\n'{_e .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_cbee ++;};if _cbf [_cbee ]=='\r'{_cbee ++;if _cbf [_cbee ]=='\n'{_cbee ++;};}else if _cbf [_cbee ]=='\n'{_cbee ++;};};_aga ._cae .Discard (_cbee );_dad ,_bgee :=_ccf .PdfObject .(*_ff .PdfObjectDictionary );if !_bgee {return nil ,_b .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_e .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_dad );_gedf ,_eeab :=_dad .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_ff .PdfObjectInteger );if !_eeab {return nil ,_b .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_baag :=*_gedf ;if _baag < 0{return nil ,_b .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_baag )> _aga ._df {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_b .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_ace :=make ([]byte ,_baag );
_ ,_afg =_aga .readAtLeast (_ace ,int (_baag ));if _afg !=nil {_e .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_ace ),_ace );_e .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_afg );
return nil ,_afg ;};_cga :=_ff .PdfObjectStream {};_cga .Stream =_ace ;_cga .PdfObjectDictionary =_ccf .PdfObject .(*_ff .PdfObjectDictionary );_cga .ObjectNumber =_ccf .ObjectNumber ;_cga .GenerationNumber =_ccf .GenerationNumber ;_aga .skipSpaces ();
_aga ._cae .Discard (9);_aga .skipSpaces ();return &_cga ,nil ;};};_ccf .PdfObject ,_afg =_aga .parseObject ();return &_ccf ,_afg ;};};_e .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_ccf ,nil ;};func (_fge *fdfParser )trace (_efa _ff .PdfObject )_ff .PdfObject {switch _fgge :=_efa .(type ){case *_ff .PdfObjectReference :_accb ,_gde :=_fge ._fgg [_fgge .ObjectNumber ].(*_ff .PdfIndirectObject );if _gde {return _accb .PdfObject ;
};_e .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_ff .PdfIndirectObject :return _fgge .PdfObject ;};return _efa ;};func (_ddb *fdfParser )parseArray ()(*_ff .PdfObjectArray ,error ){_dbc :=_ff .MakeArray ();
_ddb ._cae .ReadByte ();for {_ddb .skipSpaces ();_ece ,_gaa :=_ddb ._cae .Peek (1);if _gaa !=nil {return _dbc ,_gaa ;};if _ece [0]==']'{_ddb ._cae .ReadByte ();break ;};_ecg ,_gaa :=_ddb .parseObject ();if _gaa !=nil {return _dbc ,_gaa ;};_dbc .Append (_ecg );
};return _dbc ,nil ;};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_ff .PdfObject ,error ){_ec ,_ce :=fdf .FieldDictionaries ();if _ce !=nil {return nil ,_ce ;};var _cd []string ;for _gb :=range _ec {_cd =append (_cd ,_gb );};_af .Strings (_cd );_cc :=map[string ]_ff .PdfObject {};
for _ ,_ffa :=range _cd {_gbd :=_ec [_ffa ];_de :=_ff .TraceToDirectObject (_gbd .Get ("\u0056"));_cc [_ffa ]=_de ;};return _cc ,nil ;};var _db =_ad .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");
func (_dfg *fdfParser )parseBool ()(_ff .PdfObjectBool ,error ){_gfe ,_cad :=_dfg ._cae .Peek (4);if _cad !=nil {return _ff .PdfObjectBool (false ),_cad ;};if (len (_gfe )>=4)&&(string (_gfe [:4])=="\u0074\u0072\u0075\u0065"){_dfg ._cae .Discard (4);return _ff .PdfObjectBool (true ),nil ;
};_gfe ,_cad =_dfg ._cae .Peek (5);if _cad !=nil {return _ff .PdfObjectBool (false ),_cad ;};if (len (_gfe )>=5)&&(string (_gfe [:5])=="\u0066\u0061\u006cs\u0065"){_dfg ._cae .Discard (5);return _ff .PdfObjectBool (false ),nil ;};return _ff .PdfObjectBool (false ),_b .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};func (_gec *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_gec ._ced .Seek (0,_bg .SeekStart );_gec ._cae =_g .NewReader (_gec ._ced );_bgaa :=20;_daa :=make ([]byte ,_bgaa );for {_cdeg ,_efdg :=_gec ._cae .ReadByte ();if _efdg !=nil {if _efdg ==_bg .EOF {break ;
}else {return 0,0,_efdg ;};};if _ff .IsDecimalDigit (_cdeg )&&_daa [_bgaa -1]=='.'&&_ff .IsDecimalDigit (_daa [_bgaa -2])&&_daa [_bgaa -3]=='-'&&_daa [_bgaa -4]=='F'&&_daa [_bgaa -5]=='D'&&_daa [_bgaa -6]=='P'{_ddea :=int (_daa [_bgaa -2]-'0');_ega :=int (_cdeg -'0');
return _ddea ,_ega ,nil ;};_daa =append (_daa [1:_bgaa ],_cdeg );};return 0,0,_b .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_dgd *fdfParser )getFileOffset ()int64 {_ded ,_ :=_dgd ._ced .Seek (0,_bg .SeekCurrent );
_ded -=int64 (_dgd ._cae .Buffered ());return _ded ;};func (_bcd *fdfParser )readAtLeast (_fee []byte ,_dg int )(int ,error ){_fb :=_dg ;_cg :=0;_fgf :=0;for _fb > 0{_bd ,_ade :=_bcd ._cae .Read (_fee [_cg :]);if _ade !=nil {_e .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_bd ,_fgf ,_ade .Error ());
return _cg ,_b .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_fgf ++;_cg +=_bd ;_fb -=_bd ;};return _cg ,nil ;};func (_eafb *fdfParser )seekToEOFMarker (_cbe int64 )error {_ed :=int64 (0);_dcdc :=int64 (1000);
for _ed < _cbe {if _cbe <=(_dcdc +_ed ){_dcdc =_cbe -_ed ;};_ ,_bge :=_eafb ._ced .Seek (-_ed -_dcdc ,_bg .SeekEnd );if _bge !=nil {return _bge ;};_gdd :=make ([]byte ,_dcdc );_eafb ._ced .Read (_gdd );_e .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_gdd ));
_gga :=_ge .FindAllStringIndex (string (_gdd ),-1);if _gga !=nil {_gbg :=_gga [len (_gga )-1];_e .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_gga );_eafb ._ced .Seek (-_ed -_dcdc +int64 (_gbg [0]),_bg .SeekEnd );return nil ;};_e .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_ed +=_dcdc ;};_e .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _b .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};

// Root returns the Root of the FDF document.
func (_agb *fdfParser )Root ()(*_ff .PdfObjectDictionary ,error ){if _agb ._bbg !=nil {if _aaf ,_daef :=_agb .trace (_agb ._bbg .Get ("\u0052\u006f\u006f\u0074")).(*_ff .PdfObjectDictionary );_daef {if _befc ,_ecb :=_agb .trace (_aaf .Get ("\u0046\u0044\u0046")).(*_ff .PdfObjectDictionary );
_ecb {return _befc ,nil ;};};};var _fdg []int64 ;for _dcb :=range _agb ._fgg {_fdg =append (_fdg ,_dcb );};_af .Slice (_fdg ,func (_fag ,_ccff int )bool {return _fdg [_fag ]< _fdg [_ccff ]});for _ ,_dbg :=range _fdg {_aded :=_agb ._fgg [_dbg ];if _ceg ,_aged :=_agb .trace (_aded ).(*_ff .PdfObjectDictionary );
_aged {if _ae ,_beda :=_agb .trace (_ceg .Get ("\u0046\u0044\u0046")).(*_ff .PdfObjectDictionary );_beda {return _ae ,nil ;};};};return nil ,_b .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_bdbb *fdfParser )readTextLine ()(string ,error ){var _abg _bc .Buffer ;
for {_bcf ,_aaa :=_bdbb ._cae .Peek (1);if _aaa !=nil {_e .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_aaa .Error ());return _abg .String (),_aaa ;};if (_bcf [0]!='\r')&&(_bcf [0]!='\n'){_dff ,_ :=_bdbb ._cae .ReadByte ();_abg .WriteByte (_dff );
}else {break ;};};return _abg .String (),nil ;};func (_dc *fdfParser )parseString ()(*_ff .PdfObjectString ,error ){_dc ._cae .ReadByte ();var _aag _bc .Buffer ;_baa :=1;for {_dde ,_dac :=_dc ._cae .Peek (1);if _dac !=nil {return _ff .MakeString (_aag .String ()),_dac ;
};if _dde [0]=='\\'{_dc ._cae .ReadByte ();_gg ,_bed :=_dc ._cae .ReadByte ();if _bed !=nil {return _ff .MakeString (_aag .String ()),_bed ;};if _ff .IsOctalDigit (_gg ){_dae ,_fgd :=_dc ._cae .Peek (2);if _fgd !=nil {return _ff .MakeString (_aag .String ()),_fgd ;
};var _aab []byte ;_aab =append (_aab ,_gg );for _ ,_beff :=range _dae {if _ff .IsOctalDigit (_beff ){_aab =append (_aab ,_beff );}else {break ;};};_dc ._cae .Discard (len (_aab )-1);_e .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_aab );
_feg ,_fgd :=_fc .ParseUint (string (_aab ),8,32);if _fgd !=nil {return _ff .MakeString (_aag .String ()),_fgd ;};_aag .WriteByte (byte (_feg ));continue ;};switch _gg {case 'n':_aag .WriteRune ('\n');case 'r':_aag .WriteRune ('\r');case 't':_aag .WriteRune ('\t');
case 'b':_aag .WriteRune ('\b');case 'f':_aag .WriteRune ('\f');case '(':_aag .WriteRune ('(');case ')':_aag .WriteRune (')');case '\\':_aag .WriteRune ('\\');};continue ;}else if _dde [0]=='('{_baa ++;}else if _dde [0]==')'{_baa --;if _baa ==0{_dc ._cae .ReadByte ();
break ;};};_bca ,_ :=_dc ._cae .ReadByte ();_aag .WriteByte (_bca );};return _ff .MakeString (_aag .String ()),nil ;};type fdfParser struct{_eaa int ;_dab int ;_fgg map[int64 ]_ff .PdfObject ;_ced _bg .ReadSeeker ;_cae *_g .Reader ;_df int64 ;_bbg *_ff .PdfObjectDictionary ;
};

// Load loads FDF form data from `r`.
func Load (r _bg .ReadSeeker )(*Data ,error ){_ea ,_fe :=_bf (r );if _fe !=nil {return nil ,_fe ;};_fed ,_fe :=_ea .Root ();if _fe !=nil {return nil ,_fe ;};_c ,_cf :=_ff .GetArray (_fed .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_cf {return nil ,_b .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_aa :_c ,_ee :_fed },nil ;};func (_bgec *fdfParser )parse ()error {_bgec ._ced .Seek (0,_bg .SeekStart );_bgec ._cae =_g .NewReader (_bgec ._ced );for {_bgec .skipComments ();_bdd ,_befcf :=_bgec ._cae .Peek (20);if _befcf !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _befcf ;};if _f .HasPrefix (string (_bdd ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_bgec ._cae .Discard (7);_bgec .skipSpaces ();_bgec .skipComments ();_fbc ,_ :=_bgec .parseDict ();_bgec ._bbg =_fbc ;break ;};_gea :=_eeg .FindStringSubmatchIndex (string (_bdd ));
if len (_gea )< 6{_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bdd ));
return _b .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_ggb ,_befcf :=_bgec .parseIndirectObject ();if _befcf !=nil {return _befcf ;};switch _abd :=_ggb .(type ){case *_ff .PdfIndirectObject :_bgec ._fgg [_abd .ObjectNumber ]=_abd ;case *_ff .PdfObjectStream :_bgec ._fgg [_abd .ObjectNumber ]=_abd ;default:return _b .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};var _da =_ad .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");var _eeg =_ad .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");
func _bf (_bfg _bg .ReadSeeker )(*fdfParser ,error ){_cegc :=&fdfParser {};_cegc ._ced =_bfg ;_cegc ._fgg =map[int64 ]_ff .PdfObject {};_bcagd ,_cded ,_egg :=_cegc .parseFdfVersion ();if _egg !=nil {_e .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_egg );
return nil ,_egg ;};_cegc ._eaa =_bcagd ;_cegc ._dab =_cded ;_egg =_cegc .parse ();return _cegc ,_egg ;};func _cag (_agd string )(_ff .PdfObjectReference ,error ){_baaa :=_ff .PdfObjectReference {};_bcag :=_abe .FindStringSubmatch (_agd );if len (_bcag )< 3{_e .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _baaa ,_b .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_ac ,_ffdg :=_fc .Atoi (_bcag [1]);if _ffdg !=nil {_e .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_bcag [1]);
return _baaa ,nil ;};_baaa .ObjectNumber =int64 (_ac );_cfd ,_ffdg :=_fc .Atoi (_bcag [2]);if _ffdg !=nil {_e .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_bcag [2]);
return _baaa ,nil ;};_baaa .GenerationNumber =int64 (_cfd );return _baaa ,nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_d ,_gd :=_bb .Open (fdfPath );if _gd !=nil {return nil ,_gd ;};defer _d .Close ();return Load (_d );};func _gbae (_dda string )(*fdfParser ,error ){_bdeg :=fdfParser {};_gdb :=[]byte (_dda );_acc :=_bc .NewReader (_gdb );
_bdeg ._ced =_acc ;_bdeg ._fgg =map[int64 ]_ff .PdfObject {};_beg :=_g .NewReader (_acc );_bdeg ._cae =_beg ;_bdeg ._df =int64 (len (_dda ));return &_bdeg ,_bdeg .parse ();};func (_ddc *fdfParser )parseObject ()(_ff .PdfObject ,error ){_e .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_ddc .skipSpaces ();for {_fga ,_gcb :=_ddc ._cae .Peek (2);if _gcb !=nil {return nil ,_gcb ;};_e .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_fga ));if _fga [0]=='/'{_ged ,_dcd :=_ddc .parseName ();
_e .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_ged );return &_ged ,_dcd ;}else if _fga [0]=='('{_e .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _ddc .parseString ();}else if _fga [0]=='['{_e .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _ddc .parseArray ();}else if (_fga [0]=='<')&&(_fga [1]=='<'){_e .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _ddc .parseDict ();}else if _fga [0]=='<'{_e .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _ddc .parseHexString ();}else if _fga [0]=='%'{_ddc .readComment ();_ddc .skipSpaces ();}else {_e .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_fga ,_ =_ddc ._cae .Peek (15);_acd :=string (_fga );
_e .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_acd );if (len (_acd )> 3)&&(_acd [:4]=="\u006e\u0075\u006c\u006c"){_fd ,_dgf :=_ddc .parseNull ();return &_fd ,_dgf ;}else if (len (_acd )> 4)&&(_acd [:5]=="\u0066\u0061\u006cs\u0065"){_caeg ,_gca :=_ddc .parseBool ();
return &_caeg ,_gca ;}else if (len (_acd )> 3)&&(_acd [:4]=="\u0074\u0072\u0075\u0065"){_bbe ,_bbf :=_ddc .parseBool ();return &_bbe ,_bbf ;};_cfbe :=_abe .FindStringSubmatch (_acd );if len (_cfbe )> 1{_fga ,_ =_ddc ._cae .ReadBytes ('R');_e .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_fga [:]));
_eaf ,_cadc :=_cag (string (_fga ));return &_eaf ,_cadc ;};_age :=_db .FindStringSubmatch (_acd );if len (_age )> 1{_e .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _ddc .parseNumber ();};_age =_da .FindStringSubmatch (_acd );
if len (_age )> 1{_e .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_e .Log .Trace ("\u0025\u0020\u0073",_age );return _ddc .parseNumber ();};_e .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_acd );
return nil ,_b .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};
//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_db "bufio";_ca "bytes";_f "encoding/hex";_c "errors";_ed "fmt";_eb "github.com/unidoc/unipdf/v3/common";_cc "github.com/unidoc/unipdf/v3/core";_fa "io";_g "os";_bg "regexp";_eg "sort";_e "strconv";_b "strings";);func (_aeb *fdfParser )parseDict ()(*_cc .PdfObjectDictionary ,error ){_eb .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_bdg :=_cc .MakeDict ();_aag ,_ :=_aeb ._egc .ReadByte ();if _aag !='<'{return nil ,_c .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_aag ,_ =_aeb ._egc .ReadByte ();if _aag !='<'{return nil ,_c .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_aeb .skipSpaces ();_aeb .skipComments ();_dcab ,_ecd :=_aeb ._egc .Peek (2);if _ecd !=nil {return nil ,_ecd ;};_eb .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_dcab ),string (_dcab ));
if (_dcab [0]=='>')&&(_dcab [1]=='>'){_eb .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_aeb ._egc .ReadByte ();_aeb ._egc .ReadByte ();break ;};_eb .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_gbee ,_ecd :=_aeb .parseName ();_eb .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_gbee );if _ecd !=nil {_eb .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_ecd );
return nil ,_ecd ;};if len (_gbee )> 4&&_gbee [len (_gbee )-4:]=="\u006e\u0075\u006c\u006c"{_baf :=_gbee [0:len (_gbee )-4];_eb .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_gbee );
_eb .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_baf );_aeb .skipSpaces ();_aea ,_ :=_aeb ._egc .Peek (1);if _aea [0]=='/'{_bdg .Set (_baf ,_cc .MakeNull ());continue ;};};_aeb .skipSpaces ();
_bdf ,_ecd :=_aeb .parseObject ();if _ecd !=nil {return nil ,_ecd ;};_bdg .Set (_gbee ,_bdf );_eb .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_gbee ,_bdf .String ());};_eb .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _bdg ,nil ;};func (_dbf *fdfParser )seekToEOFMarker (_dgd int64 )error {_fbad :=int64 (0);_dfg :=int64 (1000);for _fbad < _dgd {if _dgd <=(_dfg +_fbad ){_dfg =_dgd -_fbad ;};_ ,_bda :=_dbf ._ag .Seek (-_fbad -_dfg ,_fa .SeekEnd );if _bda !=nil {return _bda ;
};_dagb :=make ([]byte ,_dfg );_dbf ._ag .Read (_dagb );_eb .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_dagb ));_gef :=_cgg .FindAllStringIndex (string (_dagb ),-1);
if _gef !=nil {_ab :=_gef [len (_gef )-1];_eb .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_gef );_dbf ._ag .Seek (-_fbad -_dfg +int64 (_ab [0]),_fa .SeekEnd );return nil ;};_eb .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_fbad +=_dfg ;};_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _c .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_adf *fdfParser )parseNull ()(_cc .PdfObjectNull ,error ){_ ,_fcd :=_adf ._egc .Discard (4);return _cc .PdfObjectNull {},_fcd ;};func (_dea *fdfParser )parseHexString ()(*_cc .PdfObjectString ,error ){_dea ._egc .ReadByte ();var _da _ca .Buffer ;
for {_df ,_dde :=_dea ._egc .Peek (1);if _dde !=nil {return _cc .MakeHexString (""),_dde ;};if _df [0]=='>'{_dea ._egc .ReadByte ();break ;};_agf ,_ :=_dea ._egc .ReadByte ();if !_cc .IsWhiteSpace (_agf ){_da .WriteByte (_agf );};};if _da .Len ()%2==1{_da .WriteRune ('0');
};_dge ,_dag :=_f .DecodeString (_da .String ());if _dag !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_da .String ());
return _cc .MakeHexString (""),nil ;};return _cc .MakeHexString (string (_dge )),nil ;};type fdfParser struct{_bgg int ;_eef int ;_ec map[int64 ]_cc .PdfObject ;_ag _fa .ReadSeeker ;_egc *_db .Reader ;_bb int64 ;_ebe *_cc .PdfObjectDictionary ;};func _bbeg (_cdf string )(*fdfParser ,error ){_daaa :=fdfParser {};
_bgea :=[]byte (_cdf );_cfg :=_ca .NewReader (_bgea );_daaa ._ag =_cfg ;_daaa ._ec =map[int64 ]_cc .PdfObject {};_aca :=_db .NewReader (_cfg );_daaa ._egc =_aca ;_daaa ._bb =int64 (len (_cdf ));return &_daaa ,_daaa .parse ();};func (_faf *fdfParser )parseName ()(_cc .PdfObjectName ,error ){var _cbb _ca .Buffer ;
_aef :=false ;for {_fbf ,_caf :=_faf ._egc .Peek (1);if _caf ==_fa .EOF {break ;};if _caf !=nil {return _cc .PdfObjectName (_cbb .String ()),_caf ;};if !_aef {if _fbf [0]=='/'{_aef =true ;_faf ._egc .ReadByte ();}else if _fbf [0]=='%'{_faf .readComment ();
_faf .skipSpaces ();}else {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_fbf ,_fbf );return _cc .PdfObjectName (_cbb .String ()),_ed .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_fbf [0]);
};}else {if _cc .IsWhiteSpace (_fbf [0]){break ;}else if (_fbf [0]=='/')||(_fbf [0]=='[')||(_fbf [0]=='(')||(_fbf [0]==']')||(_fbf [0]=='<')||(_fbf [0]=='>'){break ;}else if _fbf [0]=='#'{_cef ,_fag :=_faf ._egc .Peek (3);if _fag !=nil {return _cc .PdfObjectName (_cbb .String ()),_fag ;
};_faf ._egc .Discard (3);_acbd ,_fag :=_f .DecodeString (string (_cef [1:3]));if _fag !=nil {return _cc .PdfObjectName (_cbb .String ()),_fag ;};_cbb .Write (_acbd );}else {_edaa ,_ :=_faf ._egc .ReadByte ();_cbb .WriteByte (_edaa );};};};return _cc .PdfObjectName (_cbb .String ()),nil ;
};func (_baa *fdfParser )skipComments ()error {if _ ,_fgc :=_baa .skipSpaces ();_fgc !=nil {return _fgc ;};_edg :=true ;for {_cd ,_ffb :=_baa ._egc .Peek (1);if _ffb !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ffb .Error ());
return _ffb ;};if _edg &&_cd [0]!='%'{return nil ;};_edg =false ;if (_cd [0]!='\r')&&(_cd [0]!='\n'){_baa ._egc .ReadByte ();}else {break ;};};return _baa .skipComments ();};var _cgg =_bg .MustCompile ("\u0025\u0025\u0045O\u0046");func (_bbdf *fdfParser )parseIndirectObject ()(_cc .PdfObject ,error ){_dgc :=_cc .PdfIndirectObject {};
_eb .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_ace ,_fgdb :=_bbdf ._egc .Peek (20);if _fgdb !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_dgc ,_fgdb ;};_eb .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_ace ));_cbbd :=_ce .FindStringSubmatchIndex (string (_ace ));if len (_cbbd )< 6{_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_ace ));
return &_dgc ,_c .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bbdf ._egc .Discard (_cbbd [0]);_eb .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_cbbd );_ffc :=_cbbd [1]-_cbbd [0];_bfe :=make ([]byte ,_ffc );_ ,_fgdb =_bbdf .readAtLeast (_bfe ,_ffc );if _fgdb !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_fgdb );
return nil ,_fgdb ;};_eb .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_bfe );_ced :=_ce .FindStringSubmatch (string (_bfe ));if len (_ced )< 3{_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bfe ));
return &_dgc ,_c .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_deae ,_ :=_e .Atoi (_ced [1]);_eed ,_ :=_e .Atoi (_ced [2]);_dgc .ObjectNumber =int64 (_deae );_dgc .GenerationNumber =int64 (_eed );for {_fbe ,_dec :=_bbdf ._egc .Peek (2);if _dec !=nil {return &_dgc ,_dec ;};_eb .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_fbe ),string (_fbe ));
if _cc .IsWhiteSpace (_fbe [0]){_bbdf .skipSpaces ();}else if _fbe [0]=='%'{_bbdf .skipComments ();}else if (_fbe [0]=='<')&&(_fbe [1]=='<'){_eb .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_dgc .PdfObject ,_dec =_bbdf .parseDict ();
_eb .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_dec );if _dec !=nil {return &_dgc ,_dec ;};_eb .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_fbe [0]=='/')||(_fbe [0]=='(')||(_fbe [0]=='[')||(_fbe [0]=='<'){_dgc .PdfObject ,_dec =_bbdf .parseObject ();if _dec !=nil {return &_dgc ,_dec ;};_eb .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _fbe [0]=='e'{_dbb ,_bdd :=_bbdf .readTextLine ();if _bdd !=nil {return nil ,_bdd ;};if len (_dbb )>=6&&_dbb [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _fbe [0]=='s'{_fbe ,_ =_bbdf ._egc .Peek (10);if string (_fbe [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_beca :=6;
if len (_fbe )> 6{if _cc .IsWhiteSpace (_fbe [_beca ])&&_fbe [_beca ]!='\r'&&_fbe [_beca ]!='\n'{_eb .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_beca ++;};if _fbe [_beca ]=='\r'{_beca ++;if _fbe [_beca ]=='\n'{_beca ++;};}else if _fbe [_beca ]=='\n'{_beca ++;};};_bbdf ._egc .Discard (_beca );_eee ,_bag :=_dgc .PdfObject .(*_cc .PdfObjectDictionary );if !_bag {return nil ,_c .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_eb .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_eee );_aaa ,_fee :=_eee .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_cc .PdfObjectInteger );if !_fee {return nil ,_c .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_efb :=*_aaa ;if _efb < 0{return nil ,_c .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_efb )> _bbdf ._bb {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_c .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_ecc :=make ([]byte ,_efb );
_ ,_dec =_bbdf .readAtLeast (_ecc ,int (_efb ));if _dec !=nil {_eb .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_ecc ),_ecc );_eb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dec );
return nil ,_dec ;};_bga :=_cc .PdfObjectStream {};_bga .Stream =_ecc ;_bga .PdfObjectDictionary =_dgc .PdfObject .(*_cc .PdfObjectDictionary );_bga .ObjectNumber =_dgc .ObjectNumber ;_bga .GenerationNumber =_dgc .GenerationNumber ;_bbdf .skipSpaces ();
_bbdf ._egc .Discard (9);_bbdf .skipSpaces ();return &_bga ,nil ;};};_dgc .PdfObject ,_dec =_bbdf .parseObject ();return &_dgc ,_dec ;};};_eb .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_dgc ,nil ;};func (_fga *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_fga ._ag .Seek (0,_fa .SeekStart );_fga ._egc =_db .NewReader (_fga ._ag );_adbb :=20;_eeef :=make ([]byte ,_adbb );for {_bfb ,_fbc :=_fga ._egc .ReadByte ();if _fbc !=nil {if _fbc ==_fa .EOF {break ;
}else {return 0,0,_fbc ;};};if _cc .IsDecimalDigit (_bfb )&&_eeef [_adbb -1]=='.'&&_cc .IsDecimalDigit (_eeef [_adbb -2])&&_eeef [_adbb -3]=='-'&&_eeef [_adbb -4]=='F'&&_eeef [_adbb -5]=='D'&&_eeef [_adbb -6]=='P'{_cea :=int (_eeef [_adbb -2]-'0');_efec :=int (_bfb -'0');
return _cea ,_efec ,nil ;};_eeef =append (_eeef [1:_adbb ],_bfb );};return 0,0,_c .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};

// Load loads FDF form data from `r`.
func Load (r _fa .ReadSeeker )(*Data ,error ){_a ,_eda :=_degb (r );if _eda !=nil {return nil ,_eda ;};_aa ,_eda :=_a .Root ();if _eda !=nil {return nil ,_eda ;};_gg ,_af :=_cc .GetArray (_aa .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_af {return nil ,_c .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_ef :_gg ,_fg :_aa },nil ;};func (_bbe *fdfParser )parseString ()(*_cc .PdfObjectString ,error ){_bbe ._egc .ReadByte ();var _cac _ca .Buffer ;_acd :=1;for {_eae ,_ccc :=_bbe ._egc .Peek (1);if _ccc !=nil {return _cc .MakeString (_cac .String ()),_ccc ;
};if _eae [0]=='\\'{_bbe ._egc .ReadByte ();_efc ,_dgf :=_bbe ._egc .ReadByte ();if _dgf !=nil {return _cc .MakeString (_cac .String ()),_dgf ;};if _cc .IsOctalDigit (_efc ){_aee ,_cce :=_bbe ._egc .Peek (2);if _cce !=nil {return _cc .MakeString (_cac .String ()),_cce ;
};var _dca []byte ;_dca =append (_dca ,_efc );for _ ,_dga :=range _aee {if _cc .IsOctalDigit (_dga ){_dca =append (_dca ,_dga );}else {break ;};};_bbe ._egc .Discard (len (_dca )-1);_eb .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_dca );
_bba ,_cce :=_e .ParseUint (string (_dca ),8,32);if _cce !=nil {return _cc .MakeString (_cac .String ()),_cce ;};_cac .WriteByte (byte (_bba ));continue ;};switch _efc {case 'n':_cac .WriteRune ('\n');case 'r':_cac .WriteRune ('\r');case 't':_cac .WriteRune ('\t');
case 'b':_cac .WriteRune ('\b');case 'f':_cac .WriteRune ('\f');case '(':_cac .WriteRune ('(');case ')':_cac .WriteRune (')');case '\\':_cac .WriteRune ('\\');};continue ;}else if _eae [0]=='('{_acd ++;}else if _eae [0]==')'{_acd --;if _acd ==0{_bbe ._egc .ReadByte ();
break ;};};_agd ,_ :=_bbe ._egc .ReadByte ();_cac .WriteByte (_agd );};return _cc .MakeString (_cac .String ()),nil ;};var _cgee =_bg .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func (_bef *fdfParser )parseFdfVersion ()(int ,int ,error ){_bef ._ag .Seek (0,_fa .SeekStart );_cfbf :=20;_gdg :=make ([]byte ,_cfbf );_bef ._ag .Read (_gdg );_bbc :=_ad .FindStringSubmatch (string (_gdg ));if len (_bbc )< 3{_cff ,_bec ,_cefa :=_bef .seekFdfVersionTopDown ();
if _cefa !=nil {_eb .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");return 0,0,_cefa ;
};return _cff ,_bec ,nil ;};_ddff ,_acbc :=_e .Atoi (_bbc [1]);if _acbc !=nil {return 0,0,_acbc ;};_edac ,_acbc :=_e .Atoi (_bbc [2]);if _acbc !=nil {return 0,0,_acbc ;};_eb .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_ddff ,_edac );
return _ddff ,_edac ,nil ;};

// Root returns the Root of the FDF document.
func (_dbe *fdfParser )Root ()(*_cc .PdfObjectDictionary ,error ){if _dbe ._ebe !=nil {if _bece ,_eaee :=_dbe .trace (_dbe ._ebe .Get ("\u0052\u006f\u006f\u0074")).(*_cc .PdfObjectDictionary );_eaee {if _gce ,_deg :=_dbe .trace (_bece .Get ("\u0046\u0044\u0046")).(*_cc .PdfObjectDictionary );
_deg {return _gce ,nil ;};};};var _gda []int64 ;for _dbg :=range _dbe ._ec {_gda =append (_gda ,_dbg );};_eg .Slice (_gda ,func (_aefe ,_ddcc int )bool {return _gda [_aefe ]< _gda [_ddcc ]});for _ ,_aec :=range _gda {_ffa :=_dbe ._ec [_aec ];if _dcg ,_afd :=_dbe .trace (_ffa ).(*_cc .PdfObjectDictionary );
_afd {if _gedf ,_dbd :=_dbe .trace (_dcg .Get ("\u0046\u0044\u0046")).(*_cc .PdfObjectDictionary );_dbd {return _gedf ,nil ;};};};return nil ,_c .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_be *fdfParser )setFileOffset (_ddc int64 ){_be ._ag .Seek (_ddc ,_fa .SeekStart );
_be ._egc =_db .NewReader (_be ._ag );};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_cc .PdfObjectDictionary ,error ){_ba :=map[string ]*_cc .PdfObjectDictionary {};for _ee :=0;_ee < fdf ._ef .Len ();_ee ++{_cab ,_ac :=_cc .GetDict (fdf ._ef .Get (_ee ));if _ac {_bf ,_ :=_cc .GetString (_cab .Get ("\u0054"));
if _bf !=nil {_ba [_bf .Str ()]=_cab ;};};};return _ba ,nil ;};var _ce =_bg .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func _eeag (_ebec string )(_cc .PdfObjectReference ,error ){_ade :=_cc .PdfObjectReference {};
_cgec :=_ddaf .FindStringSubmatch (_ebec );if len (_cgec )< 3{_eb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _ade ,_c .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");
};_gag ,_gbg :=_e .Atoi (_cgec [1]);if _gbg !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_cgec [1]);
return _ade ,nil ;};_ade .ObjectNumber =int64 (_gag );_gc ,_gbg :=_e .Atoi (_cgec [2]);if _gbg !=nil {_eb .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_cgec [2]);
return _ade ,nil ;};_ade .GenerationNumber =int64 (_gc );return _ade ,nil ;};func _degb (_bab _fa .ReadSeeker )(*fdfParser ,error ){_cgcc :=&fdfParser {};_cgcc ._ag =_bab ;_cgcc ._ec =map[int64 ]_cc .PdfObject {};_fbab ,_cba ,_dbga :=_cgcc .parseFdfVersion ();
if _dbga !=nil {_eb .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_dbga );return nil ,_dbga ;};_cgcc ._bgg =_fbab ;_cgcc ._eef =_cba ;_dbga =_cgcc .parse ();
return _cgcc ,_dbga ;};func (_ff *fdfParser )readAtLeast (_aadg []byte ,_ddb int )(int ,error ){_cf :=_ddb ;_ddf :=0;_acc :=0;for _cf > 0{_dba ,_fgd :=_ff ._egc .Read (_aadg [_ddf :]);if _fgd !=nil {_eb .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_dba ,_acc ,_fgd .Error ());
return _ddf ,_c .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_acc ++;_ddf +=_dba ;_cf -=_dba ;};return _ddf ,nil ;};func (_cfe *fdfParser )parseNumber ()(_cc .PdfObject ,error ){return _cc .ParseNumber (_cfe ._egc )};
func (_gd *fdfParser )getFileOffset ()int64 {_cge ,_ :=_gd ._ag .Seek (0,_fa .SeekCurrent );_cge -=int64 (_gd ._egc .Buffered ());return _cge ;};func (_ea *fdfParser )readTextLine ()(string ,error ){var _cgc _ca .Buffer ;for {_edd ,_dg :=_ea ._egc .Peek (1);
if _dg !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_dg .Error ());return _cgc .String (),_dg ;};if (_edd [0]!='\r')&&(_edd [0]!='\n'){_gf ,_ :=_ea ._egc .ReadByte ();_cgc .WriteByte (_gf );}else {break ;};};return _cgc .String (),nil ;
};var _ddaf =_bg .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_eeg *fdfParser )parse ()error {_eeg ._ag .Seek (0,_fa .SeekStart );_eeg ._egc =_db .NewReader (_eeg ._ag );for {_eeg .skipComments ();
_aae ,_bfc :=_eeg ._egc .Peek (20);if _bfc !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _bfc ;};if _b .HasPrefix (string (_aae ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_eeg ._egc .Discard (7);_eeg .skipSpaces ();_eeg .skipComments ();_edb ,_ :=_eeg .parseDict ();_eeg ._ebe =_edb ;break ;};_eeea :=_ce .FindStringSubmatchIndex (string (_aae ));
if len (_eeea )< 6{_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_aae ));
return _c .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_cdfg ,_bfc :=_eeg .parseIndirectObject ();if _bfc !=nil {return _bfc ;};switch _cffd :=_cdfg .(type ){case *_cc .PdfIndirectObject :_eeg ._ec [_cffd .ObjectNumber ]=_cffd ;case *_cc .PdfObjectStream :_eeg ._ec [_cffd .ObjectNumber ]=_cffd ;default:return _c .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_fc *fdfParser )readComment ()(string ,error ){var _bc _ca .Buffer ;_ ,_fd :=_fc .skipSpaces ();if _fd !=nil {return _bc .String (),_fd ;};_acb :=true ;for {_dcd ,_aac :=_fc ._egc .Peek (1);if _aac !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_aac .Error ());
return _bc .String (),_aac ;};if _acb &&_dcd [0]!='%'{return _bc .String (),_c .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_acb =false ;if (_dcd [0]!='\r')&&(_dcd [0]!='\n'){_gdc ,_ :=_fc ._egc .ReadByte ();
_bc .WriteByte (_gdc );}else {break ;};};return _bc .String (),nil ;};var _ad =_bg .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");

// Data represents forms data format (FDF) file data.
type Data struct{_fg *_cc .PdfObjectDictionary ;_ef *_cc .PdfObjectArray ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_cb ,_aad :=_g .Open (fdfPath );if _aad !=nil {return nil ,_aad ;};defer _cb .Close ();return Load (_cb );};var _ge =_bg .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");


// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_cc .PdfObject ,error ){_dd ,_ggd :=fdf .FieldDictionaries ();if _ggd !=nil {return nil ,_ggd ;};var _de []string ;for _gb :=range _dd {_de =append (_de ,_gb );};_eg .Strings (_de );_ae :=map[string ]_cc .PdfObject {};
for _ ,_eea :=range _de {_cg :=_dd [_eea ];_dda :=_cc .TraceToDirectObject (_cg .Get ("\u0056"));_ae [_eea ]=_dda ;};return _ae ,nil ;};func (_dbcf *fdfParser )parseObject ()(_cc .PdfObject ,error ){_eb .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_dbcf .skipSpaces ();for {_dac ,_fba :=_dbcf ._egc .Peek (2);if _fba !=nil {return nil ,_fba ;};_eb .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_dac ));if _dac [0]=='/'{_daa ,_efa :=_dbcf .parseName ();
_eb .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_daa );return &_daa ,_efa ;}else if _dac [0]=='('{_eb .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _dbcf .parseString ();}else if _dac [0]=='['{_eb .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _dbcf .parseArray ();}else if (_dac [0]=='<')&&(_dac [1]=='<'){_eb .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _dbcf .parseDict ();}else if _dac [0]=='<'{_eb .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _dbcf .parseHexString ();}else if _dac [0]=='%'{_dbcf .readComment ();_dbcf .skipSpaces ();}else {_eb .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_dac ,_ =_dbcf ._egc .Peek (15);_dgab :=string (_dac );
_eb .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_dgab );if (len (_dgab )> 3)&&(_dgab [:4]=="\u006e\u0075\u006c\u006c"){_cda ,_cbd :=_dbcf .parseNull ();return &_cda ,_cbd ;}else if (len (_dgab )> 4)&&(_dgab [:5]=="\u0066\u0061\u006cs\u0065"){_adb ,_ddce :=_dbcf .parseBool ();
return &_adb ,_ddce ;}else if (len (_dgab )> 3)&&(_dgab [:4]=="\u0074\u0072\u0075\u0065"){_aada ,_add :=_dbcf .parseBool ();return &_aada ,_add ;};_cdd :=_ddaf .FindStringSubmatch (_dgab );if len (_cdd )> 1{_dac ,_ =_dbcf ._egc .ReadBytes ('R');_eb .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_dac [:]));
_gff ,_bfg :=_eeag (string (_dac ));return &_gff ,_bfg ;};_agg :=_ge .FindStringSubmatch (_dgab );if len (_agg )> 1{_eb .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _dbcf .parseNumber ();};_agg =_cgee .FindStringSubmatch (_dgab );
if len (_agg )> 1{_eb .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_eb .Log .Trace ("\u0025\u0020\u0073",_agg );return _dbcf .parseNumber ();};_eb .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_dgab );
return nil ,_c .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};func (_fdc *fdfParser )parseArray ()(*_cc .PdfObjectArray ,error ){_acbg :=_cc .MakeArray ();_fdc ._egc .ReadByte ();for {_fdc .skipSpaces ();_fac ,_cgf :=_fdc ._egc .Peek (1);if _cgf !=nil {return _acbg ,_cgf ;};if _fac [0]==']'{_fdc ._egc .ReadByte ();
break ;};_aed ,_cgf :=_fdc .parseObject ();if _cgf !=nil {return _acbg ,_cgf ;};_acbg .Append (_aed );};return _acbg ,nil ;};func (_fb *fdfParser )skipSpaces ()(int ,error ){_bd :=0;for {_bbd ,_cfb :=_fb ._egc .ReadByte ();if _cfb !=nil {return 0,_cfb ;
};if _cc .IsWhiteSpace (_bbd ){_bd ++;}else {_fb ._egc .UnreadByte ();break ;};};return _bd ,nil ;};func (_eaf *fdfParser )trace (_ceg _cc .PdfObject )_cc .PdfObject {switch _afdd :=_ceg .(type ){case *_cc .PdfObjectReference :_dgaa ,_dae :=_eaf ._ec [_afdd .ObjectNumber ].(*_cc .PdfIndirectObject );
if _dae {return _dgaa .PdfObject ;};_eb .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_cc .PdfIndirectObject :return _afdd .PdfObject ;};return _ceg ;};func (_baad *fdfParser )parseBool ()(_cc .PdfObjectBool ,error ){_fe ,_aff :=_baad ._egc .Peek (4);
if _aff !=nil {return _cc .PdfObjectBool (false ),_aff ;};if (len (_fe )>=4)&&(string (_fe [:4])=="\u0074\u0072\u0075\u0065"){_baad ._egc .Discard (4);return _cc .PdfObjectBool (true ),nil ;};_fe ,_aff =_baad ._egc .Peek (5);if _aff !=nil {return _cc .PdfObjectBool (false ),_aff ;
};if (len (_fe )>=5)&&(string (_fe [:5])=="\u0066\u0061\u006cs\u0065"){_baad ._egc .Discard (5);return _cc .PdfObjectBool (false ),nil ;};return _cc .PdfObjectBool (false ),_c .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};
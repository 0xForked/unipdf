//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_ba "bufio";_b "bytes";_eca "encoding/hex";_d "errors";_gd "fmt";_bc "github.com/unidoc/unipdf/v3/common";_ac "github.com/unidoc/unipdf/v3/core";_ad "io";_cb "os";_c "regexp";_a "sort";_g "strconv";_ec "strings";);var _adg =_c .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func (_fee *fdfParser )parseHexString ()(*_ac .PdfObjectString ,error ){_fee ._gab .ReadByte ();var _ceb _b .Buffer ;for {_dae ,_egd :=_fee ._gab .Peek (1);if _egd !=nil {return _ac .MakeHexString (""),_egd ;};if _dae [0]=='>'{_fee ._gab .ReadByte ();break ;
};_bcg ,_ :=_fee ._gab .ReadByte ();if !_ac .IsWhiteSpace (_bcg ){_ceb .WriteByte (_bcg );};};if _ceb .Len ()%2==1{_ceb .WriteRune ('0');};_cfg ,_bgf :=_eca .DecodeString (_ceb .String ());if _bgf !=nil {_bc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_ceb .String ());
return _ac .MakeHexString (""),nil ;};return _ac .MakeHexString (string (_cfg )),nil ;};func _aaac (_dcg _ad .ReadSeeker )(*fdfParser ,error ){_ddc :=&fdfParser {};_ddc ._dgg =_dcg ;_ddc ._fbb =map[int64 ]_ac .PdfObject {};_egef ,_cgdd ,_gfg :=_ddc .parseFdfVersion ();
if _gfg !=nil {_bc .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_gfg );return nil ,_gfg ;};_ddc ._cd =_egef ;_ddc ._fdc =_cgdd ;_gfg =_ddc .parse ();
return _ddc ,_gfg ;};func (_dgd *fdfParser )parseString ()(*_ac .PdfObjectString ,error ){_dgd ._gab .ReadByte ();var _ab _b .Buffer ;_gdg :=1;for {_fff ,_eba :=_dgd ._gab .Peek (1);if _eba !=nil {return _ac .MakeString (_ab .String ()),_eba ;};if _fff [0]=='\\'{_dgd ._gab .ReadByte ();
_ce ,_cfe :=_dgd ._gab .ReadByte ();if _cfe !=nil {return _ac .MakeString (_ab .String ()),_cfe ;};if _ac .IsOctalDigit (_ce ){_cfdd ,_efd :=_dgd ._gab .Peek (2);if _efd !=nil {return _ac .MakeString (_ab .String ()),_efd ;};var _de []byte ;_de =append (_de ,_ce );
for _ ,_dee :=range _cfdd {if _ac .IsOctalDigit (_dee ){_de =append (_de ,_dee );}else {break ;};};_dgd ._gab .Discard (len (_de )-1);_bc .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_de );
_dag ,_efd :=_g .ParseUint (string (_de ),8,32);if _efd !=nil {return _ac .MakeString (_ab .String ()),_efd ;};_ab .WriteByte (byte (_dag ));continue ;};switch _ce {case 'n':_ab .WriteRune ('\n');case 'r':_ab .WriteRune ('\r');case 't':_ab .WriteRune ('\t');
case 'b':_ab .WriteRune ('\b');case 'f':_ab .WriteRune ('\f');case '(':_ab .WriteRune ('(');case ')':_ab .WriteRune (')');case '\\':_ab .WriteRune ('\\');};continue ;}else if _fff [0]=='('{_gdg ++;}else if _fff [0]==')'{_gdg --;if _gdg ==0{_dgd ._gab .ReadByte ();
break ;};};_gcb ,_ :=_dgd ._gab .ReadByte ();_ab .WriteByte (_gcb );};return _ac .MakeString (_ab .String ()),nil ;};var _aec =_c .MustCompile ("\u0025\u0025\u0045O\u0046");func (_edg *fdfParser )readComment ()(string ,error ){var _gdf _b .Buffer ;_ ,_bgb :=_edg .skipSpaces ();
if _bgb !=nil {return _gdf .String (),_bgb ;};_bb :=true ;for {_aeb ,_bcc :=_edg ._gab .Peek (1);if _bcc !=nil {_bc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_bcc .Error ());return _gdf .String (),_bcc ;};if _bb &&_aeb [0]!='%'{return _gdf .String (),_d .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_bb =false ;if (_aeb [0]!='\r')&&(_aeb [0]!='\n'){_aee ,_ :=_edg ._gab .ReadByte ();_gdf .WriteByte (_aee );}else {break ;};};return _gdf .String (),nil ;};func _dcbf (_cfbe string )(_ac .PdfObjectReference ,error ){_fffb :=_ac .PdfObjectReference {};
_fge :=_agf .FindStringSubmatch (_cfbe );if len (_fge )< 3{_bc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _fffb ,_d .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");
};_cfa ,_ecf :=_g .Atoi (_fge [1]);if _ecf !=nil {_bc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_fge [1]);
return _fffb ,nil ;};_fffb .ObjectNumber =int64 (_cfa );_caf ,_ecf :=_g .Atoi (_fge [2]);if _ecf !=nil {_bc .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_fge [2]);
return _fffb ,nil ;};_fffb .GenerationNumber =int64 (_caf );return _fffb ,nil ;};func (_gabc *fdfParser )parseFdfVersion ()(int ,int ,error ){_gabc ._dgg .Seek (0,_ad .SeekStart );_ebb :=20;_dec :=make ([]byte ,_ebb );_gabc ._dgg .Read (_dec );_fec :=_cg .FindStringSubmatch (string (_dec ));
if len (_fec )< 3{_cdf ,_egec ,_eaa :=_gabc .seekFdfVersionTopDown ();if _eaa !=nil {_bc .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_eaa ;};return _cdf ,_egec ,nil ;};_aaa ,_ged :=_g .Atoi (_fec [1]);if _ged !=nil {return 0,0,_ged ;};_dcfe ,_ged :=_g .Atoi (_fec [2]);if _ged !=nil {return 0,0,_ged ;};_bc .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_aaa ,_dcfe );
return _aaa ,_dcfe ,nil ;};func (_ffbb *fdfParser )parseName ()(_ac .PdfObjectName ,error ){var _gde _b .Buffer ;_bdb :=false ;for {_bba ,_gcef :=_ffbb ._gab .Peek (1);if _gcef ==_ad .EOF {break ;};if _gcef !=nil {return _ac .PdfObjectName (_gde .String ()),_gcef ;
};if !_bdb {if _bba [0]=='/'{_bdb =true ;_ffbb ._gab .ReadByte ();}else if _bba [0]=='%'{_ffbb .readComment ();_ffbb .skipSpaces ();}else {_bc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_bba ,_bba );
return _ac .PdfObjectName (_gde .String ()),_gd .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_bba [0]);};}else {if _ac .IsWhiteSpace (_bba [0]){break ;}else if (_bba [0]=='/')||(_bba [0]=='[')||(_bba [0]=='(')||(_bba [0]==']')||(_bba [0]=='<')||(_bba [0]=='>'){break ;
}else if _bba [0]=='#'{_cc ,_bab :=_ffbb ._gab .Peek (3);if _bab !=nil {return _ac .PdfObjectName (_gde .String ()),_bab ;};_ffbb ._gab .Discard (3);_cdd ,_bab :=_eca .DecodeString (string (_cc [1:3]));if _bab !=nil {return _ac .PdfObjectName (_gde .String ()),_bab ;
};_gde .Write (_cdd );}else {_ege ,_ :=_ffbb ._gab .ReadByte ();_gde .WriteByte (_ege );};};};return _ac .PdfObjectName (_gde .String ()),nil ;};

// Data represents forms data format (FDF) file data.
type Data struct{_dc *_ac .PdfObjectDictionary ;_ag *_ac .PdfObjectArray ;};func (_cf *fdfParser )skipComments ()error {if _ ,_gf :=_cf .skipSpaces ();_gf !=nil {return _gf ;};_gfe :=true ;for {_ffd ,_cbg :=_cf ._gab .Peek (1);if _cbg !=nil {_bc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_cbg .Error ());
return _cbg ;};if _gfe &&_ffd [0]!='%'{return nil ;};_gfe =false ;if (_ffd [0]!='\r')&&(_ffd [0]!='\n'){_cf ._gab .ReadByte ();}else {break ;};};return _cf .skipComments ();};

// Root returns the Root of the FDF document.
func (_dad *fdfParser )Root ()(*_ac .PdfObjectDictionary ,error ){if _dad ._fe !=nil {if _dbc ,_gbb :=_dad .trace (_dad ._fe .Get ("\u0052\u006f\u006f\u0074")).(*_ac .PdfObjectDictionary );_gbb {if _dea ,_gea :=_dad .trace (_dbc .Get ("\u0046\u0044\u0046")).(*_ac .PdfObjectDictionary );
_gea {return _dea ,nil ;};};};var _fgdb []int64 ;for _acd :=range _dad ._fbb {_fgdb =append (_fgdb ,_acd );};_a .Slice (_fgdb ,func (_cbcf ,_ece int )bool {return _fgdb [_cbcf ]< _fgdb [_ece ]});for _ ,_fad :=range _fgdb {_fae :=_dad ._fbb [_fad ];if _cea ,_afc :=_dad .trace (_fae ).(*_ac .PdfObjectDictionary );
_afc {if _edgb ,_gca :=_dad .trace (_cea .Get ("\u0046\u0044\u0046")).(*_ac .PdfObjectDictionary );_gca {return _edgb ,nil ;};};};return nil ,_d .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};var _aecf =_c .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");
func (_bgbf *fdfParser )parseIndirectObject ()(_ac .PdfObject ,error ){_gaab :=_ac .PdfIndirectObject {};_bc .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_ecg ,_bee :=_bgbf ._gab .Peek (20);if _bee !=nil {_bc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_gaab ,_bee ;};_bc .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_ecg ));_fca :=_cgc .FindStringSubmatchIndex (string (_ecg ));if len (_fca )< 6{_bc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_ecg ));
return &_gaab ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bgbf ._gab .Discard (_fca [0]);_bc .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_fca );_efde :=_fca [1]-_fca [0];_gbf :=make ([]byte ,_efde );_ ,_bee =_bgbf .readAtLeast (_gbf ,_efde );if _bee !=nil {_bc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_bee );
return nil ,_bee ;};_bc .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_gbf );_gbd :=_cgc .FindStringSubmatch (string (_gbf ));if len (_gbd )< 3{_bc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gbf ));
return &_gaab ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_gff ,_ :=_g .Atoi (_gbd [1]);_deg ,_ :=_g .Atoi (_gbd [2]);_gaab .ObjectNumber =int64 (_gff );_gaab .GenerationNumber =int64 (_deg );for {_bcgc ,_ebf :=_bgbf ._gab .Peek (2);if _ebf !=nil {return &_gaab ,_ebf ;};_bc .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bcgc ),string (_bcgc ));
if _ac .IsWhiteSpace (_bcgc [0]){_bgbf .skipSpaces ();}else if _bcgc [0]=='%'{_bgbf .skipComments ();}else if (_bcgc [0]=='<')&&(_bcgc [1]=='<'){_bc .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_gaab .PdfObject ,_ebf =_bgbf .parseDict ();
_bc .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_ebf );if _ebf !=nil {return &_gaab ,_ebf ;};_bc .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_bcgc [0]=='/')||(_bcgc [0]=='(')||(_bcgc [0]=='[')||(_bcgc [0]=='<'){_gaab .PdfObject ,_ebf =_bgbf .parseObject ();if _ebf !=nil {return &_gaab ,_ebf ;};_bc .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _bcgc [0]=='e'{_ecab ,_bbg :=_bgbf .readTextLine ();if _bbg !=nil {return nil ,_bbg ;};if len (_ecab )>=6&&_ecab [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _bcgc [0]=='s'{_bcgc ,_ =_bgbf ._gab .Peek (10);if string (_bcgc [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_cgd :=6;
if len (_bcgc )> 6{if _ac .IsWhiteSpace (_bcgc [_cgd ])&&_bcgc [_cgd ]!='\r'&&_bcgc [_cgd ]!='\n'{_bc .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_cgd ++;};if _bcgc [_cgd ]=='\r'{_cgd ++;if _bcgc [_cgd ]=='\n'{_cgd ++;};}else if _bcgc [_cgd ]=='\n'{_cgd ++;};};_bgbf ._gab .Discard (_cgd );_ebc ,_age :=_gaab .PdfObject .(*_ac .PdfObjectDictionary );if !_age {return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_bc .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_ebc );_fcc ,_cgf :=_ebc .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_ac .PdfObjectInteger );if !_cgf {return nil ,_d .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_efcf :=*_fcc ;if _efcf < 0{return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_efcf )> _bgbf ._cab {_bc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_d .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_cbc :=make ([]byte ,_efcf );
_ ,_ebf =_bgbf .readAtLeast (_cbc ,int (_efcf ));if _ebf !=nil {_bc .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_cbc ),_cbc );_bc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_ebf );
return nil ,_ebf ;};_fbbd :=_ac .PdfObjectStream {};_fbbd .Stream =_cbc ;_fbbd .PdfObjectDictionary =_gaab .PdfObject .(*_ac .PdfObjectDictionary );_fbbd .ObjectNumber =_gaab .ObjectNumber ;_fbbd .GenerationNumber =_gaab .GenerationNumber ;_bgbf .skipSpaces ();
_bgbf ._gab .Discard (9);_bgbf .skipSpaces ();return &_fbbd ,nil ;};};_gaab .PdfObject ,_ebf =_bgbf .parseObject ();return &_gaab ,_ebf ;};};_bc .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_gaab ,nil ;};func (_bbga *fdfParser )parse ()error {_bbga ._dgg .Seek (0,_ad .SeekStart );_bbga ._gab =_ba .NewReader (_bbga ._dgg );for {_bbga .skipComments ();_fgeb ,_dbdgb :=_bbga ._gab .Peek (20);if _dbdgb !=nil {_bc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _dbdgb ;};if _ec .HasPrefix (string (_fgeb ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_bbga ._gab .Discard (7);_bbga .skipSpaces ();_bbga .skipComments ();_ebce ,_ :=_bbga .parseDict ();_bbga ._fe =_ebce ;break ;};_agb :=_cgc .FindStringSubmatchIndex (string (_fgeb ));
if len (_agb )< 6{_bc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_fgeb ));
return _d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bdf ,_dbdgb :=_bbga .parseIndirectObject ();if _dbdgb !=nil {return _dbdgb ;};switch _ecgc :=_bdf .(type ){case *_ac .PdfIndirectObject :_bbga ._fbb [_ecgc .ObjectNumber ]=_ecgc ;case *_ac .PdfObjectStream :_bbga ._fbb [_ecgc .ObjectNumber ]=_ecgc ;
default:return _d .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");};};return nil ;};func (_dga *fdfParser )readAtLeast (_egc []byte ,_db int )(int ,error ){_ca :=_db ;_ff :=0;_fb :=0;for _ca > 0{_bdg ,_afb :=_dga ._gab .Read (_egc [_ff :]);
if _afb !=nil {_bc .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_bdg ,_fb ,_afb .Error ());return _ff ,_d .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");
};_fb ++;_ff +=_bdg ;_ca -=_bdg ;};return _ff ,nil ;};var _cgc =_c .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_fgda *fdfParser )trace (_feb _ac .PdfObject )_ac .PdfObject {switch _egb :=_feb .(type ){case *_ac .PdfObjectReference :_bbb ,_geb :=_fgda ._fbb [_egb .ObjectNumber ].(*_ac .PdfIndirectObject );
if _geb {return _bbb .PdfObject ;};_bc .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_ac .PdfIndirectObject :return _egb .PdfObject ;};return _feb ;};func (_afd *fdfParser )parseArray ()(*_ac .PdfObjectArray ,error ){_agdb :=_ac .MakeArray ();
_afd ._gab .ReadByte ();for {_afd .skipSpaces ();_babc ,_dbdg :=_afd ._gab .Peek (1);if _dbdg !=nil {return _agdb ,_dbdg ;};if _babc [0]==']'{_afd ._gab .ReadByte ();break ;};_gb ,_dbdg :=_afd .parseObject ();if _dbdg !=nil {return _agdb ,_dbdg ;};_agdb .Append (_gb );
};return _agdb ,nil ;};func (_gcd *fdfParser )parseDict ()(*_ac .PdfObjectDictionary ,error ){_bc .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_gaa :=_ac .MakeDict ();_fc ,_ :=_gcd ._gab .ReadByte ();
if _fc !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_fc ,_ =_gcd ._gab .ReadByte ();if _fc !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_gcd .skipSpaces ();
_gcd .skipComments ();_eac ,_cee :=_gcd ._gab .Peek (2);if _cee !=nil {return nil ,_cee ;};_bc .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_eac ),string (_eac ));if (_eac [0]=='>')&&(_eac [1]=='>'){_bc .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");
_gcd ._gab .ReadByte ();_gcd ._gab .ReadByte ();break ;};_bc .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_adef ,_cee :=_gcd .parseName ();_bc .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_adef );
if _cee !=nil {_bc .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_cee );return nil ,_cee ;};if len (_adef )> 4&&_adef [len (_adef )-4:]=="\u006e\u0075\u006c\u006c"{_bcf :=_adef [0:len (_adef )-4];
_bc .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_adef );_bc .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_bcf );
_gcd .skipSpaces ();_be ,_ :=_gcd ._gab .Peek (1);if _be [0]=='/'{_gaa .Set (_bcf ,_ac .MakeNull ());continue ;};};_gcd .skipSpaces ();_cacc ,_cee :=_gcd .parseObject ();if _cee !=nil {return nil ,_cee ;};_gaa .Set (_adef ,_cacc );_bc .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_adef ,_cacc .String ());
};_bc .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _gaa ,nil ;};func (_add *fdfParser )parseBool ()(_ac .PdfObjectBool ,error ){_ead ,_bff :=_add ._gab .Peek (4);if _bff !=nil {return _ac .PdfObjectBool (false ),_bff ;
};if (len (_ead )>=4)&&(string (_ead [:4])=="\u0074\u0072\u0075\u0065"){_add ._gab .Discard (4);return _ac .PdfObjectBool (true ),nil ;};_ead ,_bff =_add ._gab .Peek (5);if _bff !=nil {return _ac .PdfObjectBool (false ),_bff ;};if (len (_ead )>=5)&&(string (_ead [:5])=="\u0066\u0061\u006cs\u0065"){_add ._gab .Discard (5);
return _ac .PdfObjectBool (false ),nil ;};return _ac .PdfObjectBool (false ),_d .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};func (_ffb *fdfParser )setFileOffset (_acb int64 ){_ffb ._dgg .Seek (_acb ,_ad .SeekStart );
_ffb ._gab =_ba .NewReader (_ffb ._dgg );};var _agf =_c .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_acbf *fdfParser )parseObject ()(_ac .PdfObject ,error ){_bc .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_acbf .skipSpaces ();for {_aef ,_cca :=_acbf ._gab .Peek (2);if _cca !=nil {return nil ,_cca ;};_bc .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_aef ));if _aef [0]=='/'{_ada ,_bdc :=_acbf .parseName ();
_bc .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_ada );return &_ada ,_bdc ;}else if _aef [0]=='('{_bc .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _acbf .parseString ();}else if _aef [0]=='['{_bc .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _acbf .parseArray ();}else if (_aef [0]=='<')&&(_aef [1]=='<'){_bc .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _acbf .parseDict ();}else if _aef [0]=='<'{_bc .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _acbf .parseHexString ();}else if _aef [0]=='%'{_acbf .readComment ();_acbf .skipSpaces ();}else {_bc .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_aef ,_ =_acbf ._gab .Peek (15);_ddf :=string (_aef );
_bc .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_ddf );if (len (_ddf )> 3)&&(_ddf [:4]=="\u006e\u0075\u006c\u006c"){_cce ,_dbdc :=_acbf .parseNull ();return &_cce ,_dbdc ;}else if (len (_ddf )> 4)&&(_ddf [:5]=="\u0066\u0061\u006cs\u0065"){_aff ,_daa :=_acbf .parseBool ();
return &_aff ,_daa ;}else if (len (_ddf )> 3)&&(_ddf [:4]=="\u0074\u0072\u0075\u0065"){_abe ,_ade :=_acbf .parseBool ();return &_abe ,_ade ;};_bcb :=_agf .FindStringSubmatch (_ddf );if len (_bcb )> 1{_aef ,_ =_acbf ._gab .ReadBytes ('R');_bc .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_aef [:]));
_fgcb ,_gef :=_dcbf (string (_aef ));return &_fgcb ,_gef ;};_daf :=_aecf .FindStringSubmatch (_ddf );if len (_daf )> 1{_bc .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _acbf .parseNumber ();};_daf =_adg .FindStringSubmatch (_ddf );
if len (_daf )> 1{_bc .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_bc .Log .Trace ("\u0025\u0020\u0073",_daf );return _acbf .parseNumber ();};_bc .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_ddf );
return nil ,_d .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};func (_afbb *fdfParser )getFileOffset ()int64 {_dbd ,_ :=_afbb ._dgg .Seek (0,_ad .SeekCurrent );_dbd -=int64 (_afbb ._gab .Buffered ());return _dbd ;};func (_dcf *fdfParser )parseNull ()(_ac .PdfObjectNull ,error ){_ ,_cad :=_dcf ._gab .Discard (4);
return _ac .PdfObjectNull {},_cad ;};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_ac .PdfObject ,error ){_ga ,_fd :=fdf .FieldDictionaries ();if _fd !=nil {return nil ,_fd ;};var _aaf []string ;for _af :=range _ga {_aaf =append (_aaf ,_af );};_a .Strings (_aaf );_bg :=map[string ]_ac .PdfObject {};
for _ ,_ddd :=range _aaf {_agd :=_ga [_ddd ];_cbf :=_ac .TraceToDirectObject (_agd .Get ("\u0056"));_bg [_ddd ]=_cbf ;};return _bg ,nil ;};func (_efc *fdfParser )seekToEOFMarker (_aca int64 )error {_dafb :=int64 (0);_bfa :=int64 (1000);for _dafb < _aca {if _aca <=(_bfa +_dafb ){_bfa =_aca -_dafb ;
};_ ,_ee :=_efc ._dgg .Seek (-_dafb -_bfa ,_ad .SeekEnd );if _ee !=nil {return _ee ;};_afbf :=make ([]byte ,_bfa );_efc ._dgg .Read (_afbf );_bc .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_afbf ));
_gg :=_aec .FindAllStringIndex (string (_afbf ),-1);if _gg !=nil {_dcc :=_gg [len (_gg )-1];_bc .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_gg );_efc ._dgg .Seek (-_dafb -_bfa +int64 (_dcc [0]),_ad .SeekEnd );return nil ;};_bc .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_dafb +=_bfa ;};_bc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _d .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_def *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_def ._dgg .Seek (0,_ad .SeekStart );_def ._gab =_ba .NewReader (_def ._dgg );_ddcf :=20;_fgf :=make ([]byte ,_ddcf );for {_adbc ,_cgb :=_def ._gab .ReadByte ();if _cgb !=nil {if _cgb ==_ad .EOF {break ;
}else {return 0,0,_cgb ;};};if _ac .IsDecimalDigit (_adbc )&&_fgf [_ddcf -1]=='.'&&_ac .IsDecimalDigit (_fgf [_ddcf -2])&&_fgf [_ddcf -3]=='-'&&_fgf [_ddcf -4]=='F'&&_fgf [_ddcf -5]=='D'&&_fgf [_ddcf -6]=='P'{_febg :=int (_fgf [_ddcf -2]-'0');_fgdc :=int (_adbc -'0');
return _febg ,_fgdc ,nil ;};_fgf =append (_fgf [1:_ddcf ],_adbc );};return 0,0,_d .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};

// Load loads FDF form data from `r`.
func Load (r _ad .ReadSeeker )(*Data ,error ){_f ,_aa :=_aaac (r );if _aa !=nil {return nil ,_aa ;};_cbd ,_aa :=_f .Root ();if _aa !=nil {return nil ,_aa ;};_ge ,_eg :=_ac .GetArray (_cbd .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_eg {return nil ,_d .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_ag :_ge ,_dc :_cbd },nil ;};func _gfeg (_eec string )(*fdfParser ,error ){_fa :=fdfParser {};_ffc :=[]byte (_eec );_egce :=_b .NewReader (_ffc );_fa ._dgg =_egce ;_fa ._fbb =map[int64 ]_ac .PdfObject {};_eab :=_ba .NewReader (_egce );_fa ._gab =_eab ;
_fa ._cab =int64 (len (_eec ));return &_fa ,_fa .parse ();};func (_cfb *fdfParser )readTextLine ()(string ,error ){var _bce _b .Buffer ;for {_eb ,_cfd :=_cfb ._gab .Peek (1);if _cfd !=nil {_bc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_cfd .Error ());
return _bce .String (),_cfd ;};if (_eb [0]!='\r')&&(_eb [0]!='\n'){_dggb ,_ :=_cfb ._gab .ReadByte ();_bce .WriteByte (_dggb );}else {break ;};};return _bce .String (),nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_gdc ,_dg :=_cb .Open (fdfPath );if _dg !=nil {return nil ,_dg ;};defer _gdc .Close ();return Load (_gdc );};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_ac .PdfObjectDictionary ,error ){_dcb :=map[string ]*_ac .PdfObjectDictionary {};for _ed :=0;_ed < fdf ._ag .Len ();_ed ++{_adb ,_bd :=_ac .GetDict (fdf ._ag .Get (_ed ));if _bd {_dd ,_ :=_ac .GetString (_adb .Get ("\u0054"));
if _dd !=nil {_dcb [_dd .Str ()]=_adb ;};};};return _dcb ,nil ;};func (_dge *fdfParser )parseNumber ()(_ac .PdfObject ,error ){return _ac .ParseNumber (_dge ._gab )};var _cg =_c .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");
type fdfParser struct{_cd int ;_fdc int ;_fbb map[int64 ]_ac .PdfObject ;_dgg _ad .ReadSeeker ;_gab *_ba .Reader ;_cab int64 ;_fe *_ac .PdfObjectDictionary ;};func (_eda *fdfParser )skipSpaces ()(int ,error ){_gce :=0;for {_fgc ,_bf :=_eda ._gab .ReadByte ();
if _bf !=nil {return 0,_bf ;};if _ac .IsWhiteSpace (_fgc ){_gce ++;}else {_eda ._gab .UnreadByte ();break ;};};return _gce ,nil ;};
//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

//
// Package extractor is used for quickly extracting PDF content through a simple interface.
// Currently offers functionality for extracting textual content.
//
package extractor ;import (_dge "bytes";_g "errors";_cf "fmt";_e "github.com/unidoc/unipdf/v3/common";_bf "github.com/unidoc/unipdf/v3/contentstream";_fb "github.com/unidoc/unipdf/v3/core";_a "github.com/unidoc/unipdf/v3/internal/license";_fbd "github.com/unidoc/unipdf/v3/internal/textencoding";
_gf "github.com/unidoc/unipdf/v3/internal/transform";_eg "github.com/unidoc/unipdf/v3/model";_be "golang.org/x/text/unicode/norm";_eb "golang.org/x/xerrors";_fff "image/color";_d "io";_ff "math";_gb "regexp";_c "sort";_b "strings";_dg "unicode";_fd "unicode/utf8";
);func (_agbb rulingList )secMinMax ()(float64 ,float64 ){_abbd ,_bfedb :=_agbb [0]._agdg ,_agbb [0]._eggd ;for _ ,_fafd :=range _agbb [1:]{if _fafd ._agdg < _abbd {_abbd =_fafd ._agdg ;};if _fafd ._eggd > _bfedb {_bfedb =_fafd ._eggd ;};};return _abbd ,_bfedb ;
};func (_gfaf paraList )findTables (_gedfe []gridTiling )[]*textTable {_gfaf .addNeighbours ();_c .Slice (_gfaf ,func (_abddb ,_bdgba int )bool {return _fac (_gfaf [_abddb ],_gfaf [_bdgba ])< 0});var _dade []*textTable ;if _cfcc {_gffa :=_gfaf .findGridTables (_gedfe );
_dade =append (_dade ,_gffa ...);};if _afad {_eggga :=_gfaf .findTextTables ();_dade =append (_dade ,_eggga ...);};return _dade ;};func (_beabc *ruling )gridIntersecting (_dedab *ruling )bool {return _aaeda (_beabc ._agdg ,_dedab ._agdg )&&_aaeda (_beabc ._eggd ,_dedab ._eggd );
};func (_aedc *shapesState )clearPath (){_aedc ._eea =nil ;_aedc ._gea =false ;if _aca {_e .Log .Info ("\u0043\u004c\u0045A\u0052\u003a\u0020\u0073\u0073\u003d\u0025\u0073",_aedc );};};func (_cfcg *textObject )getFillColor ()_fff .Color {return _bfca (_cfcg ._eggf .ColorspaceNonStroking ,_cfcg ._eggf .ColorNonStroking );
};func _gfba (_dabe ,_aeba *textPara )bool {return _dccf (_dabe ._bacf ,_aeba ._bacf )};const (RenderModeStroke RenderMode =1<<iota ;RenderModeFill ;RenderModeClip ;);func (_ffcac *subpath )makeRectRuling (_bdda _fff .Color )(*ruling ,bool ){if _gcded {_e .Log .Info ("\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0070\u0061\u0074\u0068\u003d\u0025\u0076",_ffcac );
};_egcab :=_ffcac ._cfgf [:4];_ffba :=make (map[int ]rulingKind ,len (_egcab ));for _fafa ,_degb :=range _egcab {_bbde :=_ffcac ._cfgf [(_fafa +1)%4];_ffba [_fafa ]=_eeag (_degb ,_bbde );if _gcded {_cf .Printf ("\u0025\u0034\u0064: \u0025\u0073\u0020\u003d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066",_fafa ,_ffba [_fafa ],_degb ,_bbde );
};};if _gcded {_cf .Printf ("\u0020\u0020\u0020\u006b\u0069\u006e\u0064\u0073\u003d\u0025\u002b\u0076\u000a",_ffba );};var _bbec ,_dcgb []int ;for _cgeb ,_ddcfe :=range _ffba {switch _ddcfe {case _cgeg :_dcgb =append (_dcgb ,_cgeb );case _daag :_bbec =append (_bbec ,_cgeb );
};};if _gcded {_cf .Printf ("\u0020\u0020 \u0068\u006f\u0072z\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_dcgb ),_dcgb );_cf .Printf ("\u0020\u0020 \u0076\u0065\u0072t\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_bbec ),_bbec );
};_fabe :=(len (_dcgb )==2&&len (_bbec )==2)||(len (_dcgb )==2&&len (_bbec )==0&&_cbda (_egcab [_dcgb [0]],_egcab [_dcgb [1]]))||(len (_bbec )==2&&len (_dcgb )==0&&_gecg (_egcab [_bbec [0]],_egcab [_bbec [1]]));if _gcded {_cf .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_dcgb ),len (_bbec ),_fabe );
};if !_fabe {if _gcded {_e .Log .Error ("\u0021!\u006d\u0061\u006b\u0065R\u0065\u0063\u0074\u0052\u0075l\u0069n\u0067:\u0020\u0070\u0061\u0074\u0068\u003d\u0025v",_ffcac );_cf .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_dcgb ),len (_bbec ),_fabe );
};return &ruling {},false ;};if len (_bbec )==0{for _degf ,_fbac :=range _ffba {if _fbac !=_cgeg {_bbec =append (_bbec ,_degf );};};};if len (_dcgb )==0{for _ffgbe ,_afba :=range _ffba {if _afba !=_daag {_dcgb =append (_dcgb ,_ffgbe );};};};if _gcded {_e .Log .Info ("\u006da\u006b\u0065R\u0065\u0063\u0074\u0052u\u006c\u0069\u006eg\u003a\u0020\u0068\u006f\u0072\u007a\u0073\u003d\u0025d \u0076\u0065\u0072t\u0073\u003d%\u0064\u0020\u0070\u006f\u0069\u006et\u0073\u003d%\u0064\u000a"+"\u0009\u0020\u0068o\u0072\u007a\u0073\u003d\u0025\u002b\u0076\u000a"+"\u0009\u0020\u0076e\u0072\u0074\u0073\u003d\u0025\u002b\u0076\u000a"+"\t\u0070\u006f\u0069\u006e\u0074\u0073\u003d\u0025\u002b\u0076",len (_dcgb ),len (_bbec ),len (_egcab ),_dcgb ,_bbec ,_egcab );
};var _fcaca ,_cgca ,_acfg ,_acdgd _gf .Point ;if _egcab [_dcgb [0]].Y > _egcab [_dcgb [1]].Y {_acfg ,_acdgd =_egcab [_dcgb [0]],_egcab [_dcgb [1]];}else {_acfg ,_acdgd =_egcab [_dcgb [1]],_egcab [_dcgb [0]];};if _egcab [_bbec [0]].X > _egcab [_bbec [1]].X {_fcaca ,_cgca =_egcab [_bbec [0]],_egcab [_bbec [1]];
}else {_fcaca ,_cgca =_egcab [_bbec [1]],_egcab [_bbec [0]];};_ebeb :=_eg .PdfRectangle {Llx :_fcaca .X ,Urx :_cgca .X ,Lly :_acdgd .Y ,Ury :_acfg .Y };if _ebeb .Llx > _ebeb .Urx {_ebeb .Llx ,_ebeb .Urx =_ebeb .Urx ,_ebeb .Llx ;};if _ebeb .Lly > _ebeb .Ury {_ebeb .Lly ,_ebeb .Ury =_ebeb .Ury ,_ebeb .Lly ;
};_bfga :=rectRuling {PdfRectangle :_ebeb ,_ababa :_adbd (_ebeb ),Color :_bdda };if _bfga ._ababa ==_dafe {if _gcded {_e .Log .Error ("\u006da\u006b\u0065\u0052\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006eg\u003a\u0020\u006b\u0069\u006e\u0064\u003d\u006e\u0069\u006c");
};return nil ,false ;};_gacab ,_bcfg :=_bfga .asRuling ();if !_bcfg {if _gcded {_e .Log .Error ("\u006da\u006b\u0065\u0052\u0065c\u0074\u0052\u0075\u006c\u0069n\u0067:\u0020!\u0069\u0073\u0052\u0075\u006c\u0069\u006eg");};return nil ,false ;};if _gec {_cf .Printf ("\u0020\u0020\u0020\u0072\u003d\u0025\u0073\u000a",_gacab .String ());
};return _gacab ,true ;};func _gegac (_fcgf float64 )bool {return _ff .Abs (_fcgf )< _bfgf };func (_eeec *shapesState )lastpointEstablished ()(_gf .Point ,bool ){if _eeec ._gea {return _eeec ._dec ,false ;};_cefg :=len (_eeec ._eea );if _cefg > 0&&_eeec ._eea [_cefg -1]._cdeg {return _eeec ._eea [_cefg -1].last (),false ;
};return _gf .Point {},true ;};

// TextMarkArray is a collection of TextMarks.
type TextMarkArray struct{_ggbc []TextMark };const (_bgg =1.0e-6;_agb =1.0e-4;_gada =10;_gadb =6;_ced =0.5;_bfgb =0.12;_acgb =0.19;_cdea =0.04;_bfcg =0.04;_cfda =1.0;_caaae =0.04;_eecee =0.4;_cdcg =0.7;_accb =1.0;_gaef =0.1;_fae =1.4;_eeba =0.46;_abeb =0.02;
_aagd =0.2;_aagg =0.5;_bfce =4;_bdca =4.0;_adac =6;_dabf =0.3;_eccd =0.01;_fcce =0.02;_cfccb =2;_begf =2;_gcec =500;_gecb =4.0;_aafc =4.0;_dcca =0.05;_deagd =0.1;_cdcd =2.0;_bfgf =2.0;_gdcg =1.5;_fbgd =3.0;_dacbc =0.25;);func _gfeg (_gcage int ,_aabde func (int ,int )bool )[]int {_ccgbb :=make ([]int ,_gcage );
for _eggeb :=range _ccgbb {_ccgbb [_eggeb ]=_eggeb ;};_c .Slice (_ccgbb ,func (_efdb ,_afcf int )bool {return _aabde (_ccgbb [_efdb ],_ccgbb [_afcf ])});return _ccgbb ;};

// String returns a human readable description of `path`.
func (_dbe *subpath )String ()string {_cfee :=_dbe ._cfgf ;_gbgff :=len (_cfee );if _gbgff <=5{return _cf .Sprintf ("\u0025d\u003a\u0020\u0025\u0036\u002e\u0032f",_gbgff ,_cfee );};return _cf .Sprintf ("\u0025d\u003a\u0020\u0025\u0036.\u0032\u0066\u0020\u0025\u0036.\u0032f\u0020.\u002e\u002e\u0020\u0025\u0036\u002e\u0032f",_gbgff ,_cfee [0],_cfee [1],_cfee [_gbgff -1]);
};func (_eaad gridTile )contains (_ggde _eg .PdfRectangle )bool {if _eaad .numBorders ()< 3{return false ;};if _eaad ._eegc &&_ggde .Llx < _eaad .Llx -_gdcg {return false ;};if _eaad ._dbabc &&_ggde .Urx > _eaad .Urx +_gdcg {return false ;};if _eaad ._gccc &&_ggde .Lly < _eaad .Lly -_gdcg {return false ;
};if _eaad ._bbdbb &&_ggde .Ury > _eaad .Ury +_gdcg {return false ;};return true ;};func (_bea *stateStack )pop ()*textState {if _bea .empty (){return nil ;};_abed :=*(*_bea )[len (*_bea )-1];*_bea =(*_bea )[:len (*_bea )-1];return &_abed ;};func (_edbbg gridTile )numBorders ()int {_aebc :=0;
if _edbbg ._eegc {_aebc ++;};if _edbbg ._dbabc {_aebc ++;};if _edbbg ._gccc {_aebc ++;};if _edbbg ._bbdbb {_aebc ++;};return _aebc ;};func (_aefgb rulingList )snapToGroupsDirection ()rulingList {_aefgb .sortStrict ();_bgebc :=make (map[*ruling ]rulingList ,len (_aefgb ));
_fcea :=_aefgb [0];_accca :=func (_aacad *ruling ){_fcea =_aacad ;_bgebc [_fcea ]=rulingList {_aacad }};_accca (_aefgb [0]);for _ ,_gcgb :=range _aefgb [1:]{if _gcgb ._daba < _fcea ._daba -_bgg {_e .Log .Error ("\u0073\u006e\u0061\u0070T\u006f\u0047\u0072\u006f\u0075\u0070\u0073\u0044\u0069r\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0057\u0072\u006f\u006e\u0067\u0020\u0070\u0072\u0069\u006da\u0072\u0079\u0020\u006f\u0072d\u0065\u0072\u002e\u000a\u0009\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0020\u0076\u003d\u0025\u0073",_fcea ,_gcgb );
};if _gcgb ._daba > _fcea ._daba +_bfgf {_accca (_gcgb );}else {_bgebc [_fcea ]=append (_bgebc [_fcea ],_gcgb );};};_gcagf :=make (map[*ruling ]float64 ,len (_bgebc ));_bebgc :=make (map[*ruling ]*ruling ,len (_aefgb ));for _bafb ,_cbbfe :=range _bgebc {_gcagf [_bafb ]=_cbbfe .mergePrimary ();
for _ ,_dacbg :=range _cbbfe {_bebgc [_dacbg ]=_bafb ;};};for _ ,_aacg :=range _aefgb {_aacg ._daba =_gcagf [_bebgc [_aacg ]];};_cegca :=make (rulingList ,0,len (_aefgb ));for _ ,_ebdgb :=range _bgebc {_cffc :=_ebdgb .splitSec ();for _cfdcae ,_fggd :=range _cffc {_eebfd :=_fggd .merge ();
if len (_cegca )> 0{_eeagf :=_cegca [len (_cegca )-1];if _eeagf .alignsPrimary (_eebfd )&&_eeagf .alignsSec (_eebfd ){_e .Log .Error ("\u0073\u006e\u0061\u0070\u0054\u006fG\u0072\u006f\u0075\u0070\u0073\u0044\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0044\u0075\u0070\u006ci\u0063\u0061\u0074\u0065\u0020\u0069\u003d\u0025\u0064\u000a\u0009\u0077\u003d\u0025s\u000a\t\u0076\u003d\u0025\u0073",_cfdcae ,_eeagf ,_eebfd );
continue ;};};_cegca =append (_cegca ,_eebfd );};};_cegca .sortStrict ();return _cegca ;};func (_adb pathSection )bbox ()_eg .PdfRectangle {_edf :=_adb ._fdf [0]._cfgf [0];_cbbb :=_eg .PdfRectangle {Llx :_edf .X ,Urx :_edf .X ,Lly :_edf .Y ,Ury :_edf .Y };
_accc :=func (_cbdfa _gf .Point ){if _cbdfa .X < _cbbb .Llx {_cbbb .Llx =_cbdfa .X ;}else if _cbdfa .X > _cbbb .Urx {_cbbb .Urx =_cbdfa .X ;};if _cbdfa .Y < _cbbb .Lly {_cbbb .Lly =_cbdfa .Y ;}else if _cbdfa .Y > _cbbb .Ury {_cbbb .Ury =_cbdfa .Y ;};};
for _ ,_caabc :=range _adb ._fdf [0]._cfgf [1:]{_accc (_caabc );};for _ ,_becdb :=range _adb ._fdf [1:]{for _ ,_beg :=range _becdb ._cfgf {_accc (_beg );};};return _cbbb ;};func (_egdd *compositeCell )updateBBox (){for _ ,_efgaa :=range _egdd .paraList {_egdd .PdfRectangle =_ebba (_egdd .PdfRectangle ,_efgaa .PdfRectangle );
};};type cachedImage struct{_gc *_eg .Image ;_eff _eg .PdfColorspace ;};

// ApplyArea processes the page text only within the specified area `bbox`.
// Each time ApplyArea is called, it updates the result set in `pt`.
// Can be called multiple times in a row with different bounding boxes.
func (_dgde *PageText )ApplyArea (bbox _eg .PdfRectangle ){_afde :=make ([]*textMark ,0,len (_dgde ._gba ));for _ ,_eab :=range _dgde ._gba {if _gbcf (_eab .bbox (),bbox ){_afde =append (_afde ,_eab );};};var _dgfb paraList ;_ddfd :=len (_afde );for _ccc :=0;
_ccc < 360&&_ddfd > 0;_ccc +=90{_dcag :=make ([]*textMark ,0,len (_afde )-_ddfd );for _ ,_aed :=range _afde {if _aed ._ceee ==_ccc {_dcag =append (_dcag ,_aed );};};if len (_dcag )> 0{_bga :=_ffaba (_dcag ,_dgde ._feb ,nil ,nil );_dgfb =append (_dgfb ,_bga ...);
_ddfd -=len (_dcag );};};_cbgg :=new (_dge .Buffer );_dgfb .writeText (_cbgg );_dgde ._afef =_cbgg .String ();_dgde ._dac =_dgfb .toTextMarks ();_dgde ._cfea =_dgfb .tables ();};func (_gbdg *wordBag )maxDepth ()float64 {return _gbdg ._gaf -_gbdg .Lly };
func _bgcg (_bdb _eg .PdfRectangle )*ruling {return &ruling {_bdcb :_cgeg ,_daba :_bdb .Lly ,_agdg :_bdb .Llx ,_eggd :_bdb .Urx };};func _cead (_deag func (*wordBag ,*textWord ,float64 )bool ,_caaa float64 )func (*wordBag ,*textWord )bool {return func (_bddd *wordBag ,_ebed *textWord )bool {return _deag (_bddd ,_ebed ,_caaa )};
};func (_cccf rulingList )toTilings ()(rulingList ,[]gridTiling ){_cccf .log ("\u0074o\u0054\u0069\u006c\u0069\u006e\u0067s");if len (_cccf )==0{return nil ,nil ;};_cccf =_cccf .tidied ("\u0061\u006c\u006c");_cccf .log ("\u0074\u0069\u0064\u0069\u0065\u0064");
_abdf :=_cccf .toGrids ();_gbfa :=make ([]gridTiling ,len (_abdf ));for _adee ,_bfgfd :=range _abdf {_gbfa [_adee ]=_bfgfd .asTiling ();};return _cccf ,_gbfa ;};func (_ceaa compositeCell )split (_eagg ,_gddg []float64 )*textTable {_dgbc :=len (_eagg )+1;
_gead :=len (_gddg )+1;if _dgdd {_e .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0043\u0065l\u006c\u002e\u0073\u0070l\u0069\u0074\u003a\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a\u0009\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025\u0073\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073=\u0025\u0036\u002e\u0032\u0066\u000a\t\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d%\u0036\u002e\u0032\u0066",_gead ,_dgbc ,_ceaa ,_eagg ,_gddg );
_cf .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073\u000a",len (_ceaa .paraList ));for _abbf ,_bdad :=range _ceaa .paraList {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_abbf ,_bdad .String ());};_cf .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",len (_ceaa .lines ()));
for _abdd ,_bgbf :=range _ceaa .lines (){_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_abdd ,_bgbf );};};_eagg =_ddbb (_eagg ,_ceaa .Ury ,_ceaa .Lly );_gddg =_ddbb (_gddg ,_ceaa .Llx ,_ceaa .Urx );_fgba :=make (map[uint64 ]*textPara ,_gead *_dgbc );
_eeeb :=textTable {_ccff :_gead ,_eggcc :_dgbc ,_cabbe :_fgba };_fgad :=_ceaa .paraList ;_c .Slice (_fgad ,func (_dgaac ,_cgcc int )bool {_bfda ,_acef :=_fgad [_dgaac ],_fgad [_cgcc ];_bfgd ,_fab :=_bfda .Lly ,_acef .Lly ;if _bfgd !=_fab {return _bfgd < _fab ;
};return _bfda .Llx < _acef .Llx ;});_adffa :=make (map[uint64 ]_eg .PdfRectangle ,_gead *_dgbc );for _dbcc ,_dggf :=range _eagg [1:]{_gccf :=_eagg [_dbcc ];for _cfaa ,_fcbd :=range _gddg [1:]{_ggbd :=_gddg [_cfaa ];_adffa [_gcdf (_cfaa ,_dbcc )]=_eg .PdfRectangle {Llx :_ggbd ,Urx :_fcbd ,Lly :_dggf ,Ury :_gccf };
};};if _dgdd {_e .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0043\u0065l\u006c\u002e\u0073\u0070\u006c\u0069\u0074\u003a\u0020\u0072e\u0063\u0074\u0073");_cf .Printf ("\u0020\u0020\u0020\u0020");for _aeag :=0;_aeag < _gead ;_aeag ++{_cf .Printf ("\u0025\u0033\u0030\u0064\u002c\u0020",_aeag );
};_cf .Println ();for _efca :=0;_efca < _dgbc ;_efca ++{_cf .Printf ("\u0020\u0020\u0025\u0032\u0064\u003a",_efca );for _dfcf :=0;_dfcf < _gead ;_dfcf ++{_cf .Printf ("\u00256\u002e\u0032\u0066\u002c\u0020",_adffa [_gcdf (_dfcf ,_efca )]);};_cf .Println ();
};};_fgae :=func (_feff *textLine )(int ,int ){for _abga :=0;_abga < _dgbc ;_abga ++{for _aabae :=0;_aabae < _gead ;_aabae ++{if _cgfb (_adffa [_gcdf (_aabae ,_abga )],_feff .PdfRectangle ){return _aabae ,_abga ;};};};return -1,-1;};_fbga :=make (map[uint64 ][]*textLine ,_gead *_dgbc );
for _ ,_fce :=range _fgad .lines (){_ggfe ,_gdcb :=_fgae (_fce );if _ggfe < 0{continue ;};_fbga [_gcdf (_ggfe ,_gdcb )]=append (_fbga [_gcdf (_ggfe ,_gdcb )],_fce );};for _bfcd :=0;_bfcd < len (_eagg )-1;_bfcd ++{_adabg :=_eagg [_bfcd ];_edbe :=_eagg [_bfcd +1];
for _bdddaf :=0;_bdddaf < len (_gddg )-1;_bdddaf ++{_aceg :=_gddg [_bdddaf ];_cfdf :=_gddg [_bdddaf +1];_edcc :=_eg .PdfRectangle {Llx :_aceg ,Urx :_cfdf ,Lly :_edbe ,Ury :_adabg };_egee :=_fbga [_gcdf (_bdddaf ,_bfcd )];if len (_egee )==0{continue ;};
_dbaa :=_cgadc (_edcc ,_egee );_eeeb .put (_bdddaf ,_bfcd ,_dbaa );};};return &_eeeb ;};func (_efc *textLine )markWordBoundaries (){_bbdb :=_abeb *_efc ._geea ;for _bade ,_gacc :=range _efc ._ecdad [1:]{if _geabf (_gacc ,_efc ._ecdad [_bade ])>=_bbdb {_gacc ._bbcc =true ;
};};};const _fbdg =20;

// String returns a human readable description of `ss`.
func (_aeab *shapesState )String ()string {return _cf .Sprintf ("\u007b\u0025\u0064\u0020su\u0062\u0070\u0061\u0074\u0068\u0073\u0020\u0066\u0072\u0065\u0073\u0068\u003d\u0025t\u007d",len (_aeab ._eea ),_aeab ._gea );};type rectRuling struct{_ababa rulingKind ;
_geeb markKind ;_fff .Color ;_eg .PdfRectangle ;};type textMark struct{_eg .PdfRectangle ;_ceee int ;_acaf string ;_fgaa string ;_adceg *_eg .PdfFont ;_befdg float64 ;_fcbc float64 ;_bgf _gf .Matrix ;_beee _gf .Point ;_dbfg _eg .PdfRectangle ;_ffdc _fff .Color ;
_effde _fff .Color ;};type compositeCell struct{_eg .PdfRectangle ;paraList ;};func (_cbad paraList )findTextTables ()[]*textTable {var _bgged []*textTable ;for _ ,_bfccc :=range _cbad {if _bfccc .taken ()||_bfccc .Width ()==0{continue ;};_cedc :=_bfccc .isAtom ();
if _cedc ==nil {continue ;};_cedc .growTable ();if _cedc ._ccff *_cedc ._eggcc < _adac {continue ;};_cedc .markCells ();_cedc .log ("\u0067\u0072\u006fw\u006e");_bgged =append (_bgged ,_cedc );};return _bgged ;};func (_adc *wordBag )pullWord (_cdcb *textWord ,_efb int ,_bbc map[int ]map[*textWord ]struct{}){_adc .PdfRectangle =_ebba (_adc .PdfRectangle ,_cdcb .PdfRectangle );
if _cdcb ._eggccf > _adc ._efga {_adc ._efga =_cdcb ._eggccf ;};_adc ._ffgbb [_efb ]=append (_adc ._ffgbb [_efb ],_cdcb );_bbc [_efb ][_cdcb ]=struct{}{};};func _dccf (_ddaff ,_cccc _eg .PdfRectangle )bool {return _cccc .Llx <=_ddaff .Urx &&_ddaff .Llx <=_cccc .Urx ;
};func (_dfa *stateStack )top ()*textState {if _dfa .empty (){return nil ;};return (*_dfa )[_dfa .size ()-1];};func (_gcab *textLine )appendWord (_fdab *textWord ){_gcab ._ecdad =append (_gcab ._ecdad ,_fdab );_gcab .PdfRectangle =_ebba (_gcab .PdfRectangle ,_fdab .PdfRectangle );
if _fdab ._eggccf > _gcab ._geea {_gcab ._geea =_fdab ._eggccf ;};if _fdab ._dbca > _gcab ._ccdb {_gcab ._ccdb =_fdab ._dbca ;};};func (_cedf *textObject )newTextMark (_cfcf string ,_gfae _gf .Matrix ,_daaae _gf .Point ,_eafd float64 ,_ggcb *_eg .PdfFont ,_ebgc float64 ,_fdee ,_debe _fff .Color )(textMark ,bool ){_afac :=_gfae .Angle ();
_ecdada :=_fded (_afac ,_gada );var _gdcd float64 ;if _ecdada %180!=90{_gdcd =_gfae .ScalingFactorY ();}else {_gdcd =_gfae .ScalingFactorX ();};_ddda :=_dfffb (_gfae );_debd :=_eg .PdfRectangle {Llx :_ddda .X ,Lly :_ddda .Y ,Urx :_daaae .X ,Ury :_daaae .Y };
switch _ecdada %360{case 90:_debd .Urx -=_gdcd ;case 180:_debd .Ury -=_gdcd ;case 270:_debd .Urx +=_gdcd ;case 0:_debd .Ury +=_gdcd ;default:_ecdada =0;_debd .Ury +=_gdcd ;};if _debd .Llx > _debd .Urx {_debd .Llx ,_debd .Urx =_debd .Urx ,_debd .Llx ;};
if _debd .Lly > _debd .Ury {_debd .Lly ,_debd .Ury =_debd .Ury ,_debd .Lly ;};_fbbb ,_geeaa :=_feed (_debd ,_cedf ._eggg ._ebe );if !_geeaa {_e .Log .Debug ("\u0054\u0065\u0078\u0074\u0020m\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u0070a\u0067\u0065\u002e\u0020\u0062\u0062\u006f\u0078\u003d\u0025\u0067\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u003d\u0025\u0067\u0020\u0074\u0065\u0078\u0074\u003d\u0025q",_debd ,_cedf ._eggg ._ebe ,_cfcf );
};_debd =_fbbb ;_aac :=_debd ;_fede :=_cedf ._eggg ._ebe ;switch _ecdada %360{case 90:_fede .Urx ,_fede .Ury =_fede .Ury ,_fede .Urx ;_aac =_eg .PdfRectangle {Llx :_fede .Urx -_debd .Ury ,Urx :_fede .Urx -_debd .Lly ,Lly :_debd .Llx ,Ury :_debd .Urx };
case 180:_aac =_eg .PdfRectangle {Llx :_fede .Urx -_debd .Llx ,Urx :_fede .Urx -_debd .Urx ,Lly :_fede .Ury -_debd .Lly ,Ury :_fede .Ury -_debd .Ury };case 270:_fede .Urx ,_fede .Ury =_fede .Ury ,_fede .Urx ;_aac =_eg .PdfRectangle {Llx :_debd .Ury ,Urx :_debd .Lly ,Lly :_fede .Ury -_debd .Llx ,Ury :_fede .Ury -_debd .Urx };
};if _aac .Llx > _aac .Urx {_aac .Llx ,_aac .Urx =_aac .Urx ,_aac .Llx ;};if _aac .Lly > _aac .Ury {_aac .Lly ,_aac .Ury =_aac .Ury ,_aac .Lly ;};_eagd :=textMark {_acaf :_cfcf ,PdfRectangle :_aac ,_dbfg :_debd ,_adceg :_ggcb ,_befdg :_gdcd ,_fcbc :_ebgc ,_bgf :_gfae ,_beee :_daaae ,_ceee :_ecdada ,_ffdc :_fdee ,_effde :_debe };
if _ddce {_e .Log .Info ("n\u0065\u0077\u0054\u0065\u0078\u0074M\u0061\u0072\u006b\u003a\u0020\u0073t\u0061\u0072\u0074\u003d\u0025\u002e\u0032f\u0020\u0065\u006e\u0064\u003d\u0025\u002e\u0032\u0066\u0020%\u0073",_ddda ,_daaae ,_eagd .String ());};return _eagd ,_geeaa ;
};func (_ccgb *textLine )toTextMarks (_aadf *int )[]TextMark {var _bdee []TextMark ;for _ ,_cgee :=range _ccgb ._ecdad {if _cgee ._bbcc {_bdee =_agba (_bdee ,_aadf ,"\u0020");};_baee :=_cgee .toTextMarks (_aadf );_bdee =append (_bdee ,_baee ...);};return _bdee ;
};func (_abbcc *textPara )writeCellText (_ffdce _d .Writer ){for _gdag ,_gbacb :=range _abbcc ._bca {_dacg :=_gbacb .text ();_gdac :=_dgdf &&_gbacb .endsInHyphen ()&&_gdag !=len (_abbcc ._bca )-1;if _gdac {_dacg =_ffgfd (_dacg );};_ffdce .Write ([]byte (_dacg ));
if !(_gdac ||_gdag ==len (_abbcc ._bca )-1){_ffdce .Write ([]byte (_fccg (_gbacb ._ccdb ,_abbcc ._bca [_gdag +1]._ccdb )));};};};func (_egde *ruling )intersects (_geebb *ruling )bool {_ddcc :=(_egde ._bdcb ==_daag &&_geebb ._bdcb ==_cgeg )||(_geebb ._bdcb ==_daag &&_egde ._bdcb ==_cgeg );
_bgdcc :=func (_beeb ,_acfc *ruling )bool {return _beeb ._agdg -_cdcd <=_acfc ._daba &&_acfc ._daba <=_beeb ._eggd +_cdcd ;};_bfdd :=_bgdcc (_egde ,_geebb );_bdgd :=_bgdcc (_geebb ,_egde );if _gec {_cf .Printf ("\u0020\u0020\u0020\u0020\u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003a\u0020\u0020\u006fr\u0074\u0068\u006f\u0067\u006f\u006e\u0061l\u003d\u0025\u0074\u0020\u006f\u0031\u003d\u0025\u0074\u0020\u006f2\u003d\u0025\u0074\u0020\u2192\u0020\u0025\u0074\u000a"+"\u0020\u0020\u0020 \u0020\u0020\u0020\u0076\u003d\u0025\u0073\u000a"+" \u0020\u0020\u0020\u0020\u0020\u0077\u003d\u0025\u0073\u000a",_ddcc ,_bfdd ,_bdgd ,_ddcc &&_bfdd &&_bdgd ,_egde ,_geebb );
};return _ddcc &&_bfdd &&_bdgd ;};func (_cegd paraList )toTextMarks ()[]TextMark {_eaebb :=0;var _fegb []TextMark ;for _bff ,_ggfa :=range _cegd {if _ggfa ._fgbf {continue ;};_ggfg :=_ggfa .toTextMarks (&_eaebb );_fegb =append (_fegb ,_ggfg ...);if _bff !=len (_cegd )-1{if _ecfbb (_ggfa ,_cegd [_bff +1]){_fegb =_agba (_fegb ,&_eaebb ,"\u0020");
}else {_fegb =_agba (_fegb ,&_eaebb ,"\u000a");_fegb =_agba (_fegb ,&_eaebb ,"\u000a");};};};_fegb =_agba (_fegb ,&_eaebb ,"\u000a");_fegb =_agba (_fegb ,&_eaebb ,"\u000a");return _fegb ;};func _gedd (_fafca _eg .PdfRectangle )*ruling {return &ruling {_bdcb :_daag ,_daba :_fafca .Urx ,_agdg :_fafca .Lly ,_eggd :_fafca .Ury };
};func (_efa *textObject )nextLine (){_efa .moveLP (0,-_efa ._cgc ._dab )};func _fced (_edbc []pathSection )rulingList {_ddgaa (_edbc );if _gec {_e .Log .Info ("\u006da\u006b\u0065\u0046\u0069l\u006c\u0052\u0075\u006c\u0069n\u0067s\u003a \u0025\u0064\u0020\u0066\u0069\u006c\u006cs",len (_edbc ));
};var _ebca rulingList ;for _ ,_ccgd :=range _edbc {for _ ,_egcb :=range _ccgd ._fdf {if !_egcb .isQuadrilateral (){if _gec {_e .Log .Error ("!\u0069s\u0051\u0075\u0061\u0064\u0072\u0069\u006c\u0061t\u0065\u0072\u0061\u006c: \u0025\u0073",_egcb );};continue ;
};if _cagf ,_eafdg :=_egcb .makeRectRuling (_ccgd .Color );_eafdg {_ebca =append (_ebca ,_cagf );}else {if _gcded {_e .Log .Error ("\u0021\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0073",_egcb );};};};
};if _gec {_e .Log .Info ("\u006d\u0061\u006b\u0065Fi\u006c\u006c\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0073",_ebca .String ());};return _ebca ;};func (_dbfe *textTable )newTablePara ()*textPara {_fbec :=_dbfe .computeBbox ();_eedd :=&textPara {PdfRectangle :_fbec ,_bacf :_fbec ,_cdce :_dbfe };
if _dgdd {_e .Log .Info ("\u006e\u0065w\u0054\u0061\u0062l\u0065\u0050\u0061\u0072\u0061\u003a\u0020\u0025\u0073",_eedd );};return _eedd ;};

// TableCell is a cell in a TextTable.
type TableCell struct{

// Text is the extracted text.
Text string ;

// Marks returns the TextMarks corresponding to the text in Text.
Marks TextMarkArray ;};func (_egfgb rulingList )isActualGrid ()(rulingList ,bool ){_abbe ,_agfc :=_egfgb .augmentGrid ();if !(len (_abbe )>=_cfccb +1&&len (_agfc )>=_begf +1){if _gec {_e .Log .Info ("\u0069s\u0041\u0063t\u0075\u0061\u006c\u0047r\u0069\u0064\u003a \u004e\u006f\u0074\u0020\u0061\u006c\u0069\u0067\u006eed\u002e\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u003c\u0020\u0025d\u0020\u0078 \u0025\u0064",len (_abbe ),len (_agfc ),_cfccb +1,_begf +1);
};return nil ,false ;};if _gec {_e .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0073\u0020\u003a\u0020\u0025t\u0020\u0026\u0020\u0025\u0074\u0020\u2192 \u0025\u0074",_egfgb ,len (_abbe )>=2,len (_agfc )>=2,len (_abbe )>=2&&len (_agfc )>=2);
for _ebbag ,_deda :=range _egfgb {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0076\u000a",_ebbag ,_deda );};};if _dccb {_cceac ,_ddgacc :=_abbe [0],_abbe [len (_abbe )-1];_dfec ,_fabg :=_agfc [0],_agfc [len (_agfc )-1];if !(_gegac (_cceac ._daba -_dfec ._agdg )&&_gegac (_ddgacc ._daba -_dfec ._eggd )&&_gegac (_dfec ._daba -_cceac ._eggd )&&_gegac (_fabg ._daba -_cceac ._agdg )){if _gec {_e .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069d\u003a\u0020\u0020N\u006f\u0074 \u0061\u006c\u0069\u0067\u006e\u0065d\u002e\n\t\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0076\u0031\u003d\u0025\u0073\u000a\u0009\u0068\u0030\u003d\u0025\u0073\u000a\u0009\u0068\u0031\u003d\u0025\u0073",_cceac ,_ddgacc ,_dfec ,_fabg );
};return nil ,false ;};}else {if !_abbe .aligned (){if _ccea {_e .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0076\u0065\u0072\u0074\u0073\u002e\u0020%\u0064",len (_abbe ));
};return nil ,false ;};if !_agfc .aligned (){if _gec {_e .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0068\u006f\u0072\u007a\u0073\u002e\u0020%\u0064",len (_agfc ));
};return nil ,false ;};};_bfad :=append (_abbe ,_agfc ...);return _bfad ,true ;};func (_ggcf *shapesState )fill (_dgaf *[]pathSection ){_fbcc :=pathSection {_fdf :_ggcf ._eea ,Color :_ggcf ._dea .getFillColor ()};*_dgaf =append (*_dgaf ,_fbcc );if _gec {_gbfg :=_fbcc .bbox ();
_cf .Printf ("\u0020 \u0020\u0020\u0046\u0049\u004c\u004c\u003a %\u0032\u0064\u0020\u0066\u0069\u006c\u006c\u0073\u0020\u0028\u0025\u0064\u0020\u006ee\u0077\u0029 \u0073\u0073\u003d%\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d\u0025\u0033\u0076\u0020\u0025\u0036\u002e\u0032f\u003d\u00256.\u0032\u0066\u0078%\u0036\u002e\u0032\u0066\u000a",len (*_dgaf ),len (_fbcc ._fdf ),_ggcf ,_fbcc .Color ,_gbfg ,_gbfg .Width (),_gbfg .Height ());
if _gef {for _bdcc ,_becd :=range _fbcc ._fdf {_cf .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_bdcc ,_becd );if _bdcc ==10{break ;};};};};};func (_ddg *subpath )add (_cec ..._gf .Point ){_ddg ._cfgf =append (_ddg ._cfgf ,_cec ...)};func (_abb *stateStack )push (_bbb *textState ){_affd :=*_bbb ;
*_abb =append (*_abb ,&_affd )};const (_cgad =false ;_ddce =false ;_addc =false ;_cacgd =false ;_aca =false ;_gbab =false ;_cddb =false ;_dfba =false ;_bfg =false ;_adce =_bfg &&true ;_gged =_adce &&false ;_dedf =_bfg &&true ;_dgdd =false ;_eadeg =_dgdd &&false ;
_cfcgff =_dgdd &&true ;_gec =false ;_gef =_gec &&false ;_ccea =_gec &&false ;_ggab =_gec &&true ;_gcded =_gec &&false ;_dgff =_gec &&false ;);

// ImageMark represents an image drawn on a page and its position in device coordinates.
// All coordinates are in device coordinates.
type ImageMark struct{Image *_eg .Image ;

// Dimensions of the image as displayed in the PDF.
Width float64 ;Height float64 ;

// Position of the image in PDF coordinates (lower left corner).
X float64 ;Y float64 ;

// Angle in degrees, if rotated.
Angle float64 ;};func (_eca rulingList )tidied (_bfgg string )rulingList {_facd :=_eca .removeDuplicates ();_facd .log ("\u0075n\u0069\u0071\u0075\u0065\u0073");_dgdfbd :=_facd .snapToGroups ();if _dgdfbd ==nil {return nil ;};_dgdfbd .sort ();if _gec {_e .Log .Info ("\u0074\u0069\u0064i\u0065\u0064\u003a\u0020\u0025\u0071\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u0075\u006e\u0069\u0071\u0075\u0065\u0073\u003d\u0025\u0064\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0064\u003d\u0025\u0064",_bfgg ,len (_eca ),len (_facd ),len (_dgdfbd ));
};_dgdfbd .log ("\u0063o\u0061\u006c\u0065\u0073\u0063\u0065d");return _dgdfbd ;};func _bcdf (_ebda bounded )float64 {return -_ebda .bbox ().Lly };

// String returns a human readable description of `vecs`.
func (_bcgd rulingList )String ()string {if len (_bcgd )==0{return "\u007b \u0045\u004d\u0050\u0054\u0059\u0020}";};_dfag ,_acfb :=_bcgd .vertsHorzs ();_effdec :=len (_dfag );_eefda :=len (_acfb );if _effdec ==0||_eefda ==0{return _cf .Sprintf ("\u007b%\u0064\u0020\u0078\u0020\u0025\u0064}",_effdec ,_eefda );
};_gddf :=_eg .PdfRectangle {Llx :_dfag [0]._daba ,Urx :_dfag [_effdec -1]._daba ,Lly :_acfb [_eefda -1]._daba ,Ury :_acfb [0]._daba };return _cf .Sprintf ("\u007b\u0025d\u0020\u0078\u0020%\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u007d",_effdec ,_eefda ,_gddf );
};type textPara struct{_eg .PdfRectangle ;_bacf _eg .PdfRectangle ;_bca []*textLine ;_cdce *textTable ;_edeee bool ;_fgbf bool ;_ffaa *textPara ;_fcac *textPara ;_feec *textPara ;_abcb *textPara ;};func _aaeda (_gfbb ,_eecd float64 )bool {return _ff .Abs (_gfbb -_eecd )<=_cdcd };
func _ggebd (_adacd ,_bafa ,_fagc float64 )rulingKind {if _adacd >=_fagc &&_gbfga (_bafa ,_adacd ){return _cgeg ;};if _bafa >=_fagc &&_gbfga (_adacd ,_bafa ){return _daag ;};return _dafe ;};func (_cbde rulingList )sort (){_c .Slice (_cbde ,_cbde .comp )};
func (_gcb compositeCell )hasLines (_ecega []*textLine )bool {for _feee ,_gccg :=range _ecega {_bdfg :=_gbcf (_gcb .PdfRectangle ,_gccg .PdfRectangle );if _dgdd {_cf .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u005e\u005e\u005e\u0069\u006e\u0074\u0065\u0072\u0073e\u0063t\u0073\u003d\u0025\u0074\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u000a",_bdfg ,_feee ,len (_ecega ));
_cf .Printf ("\u0020\u0020\u0020\u0020  \u005e\u005e\u005e\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025s\u000a",_gcb );_cf .Printf ("\u0020 \u0020 \u0020\u0020\u0020\u006c\u0069\u006e\u0065\u003d\u0025\u0073\u000a",_gccg );};if _bdfg {return true ;
};};return false ;};

// String returns a description of `tm`.
func (_baea *textMark )String ()string {return _cf .Sprintf ("\u0025\u002e\u0032f \u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\u0022\u0025\u0073\u0022",_baea .PdfRectangle ,_baea ._befdg ,_baea ._acaf );};func (_bcba *wordBag )depthRange (_gcdg ,_bdf int )[]int {var _eceb []int ;
for _gac :=range _bcba ._ffgbb {if _gcdg <=_gac &&_gac <=_bdf {_eceb =append (_eceb ,_gac );};};if len (_eceb )==0{return nil ;};_c .Ints (_eceb );return _eceb ;};func (_ffee *textObject )getCurrentFont ()*_eg .PdfFont {var _fbde *_eg .PdfFont ;if !_ffee ._egag .empty (){_fbde =_ffee ._egag .top ()._dgab ;
};if _fbde ==nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020U\u0073\u0069\u006e\u0067\u0020d\u0065\u0066a\u0075\u006c\u0074\u002e");return _eg .DefaultFont ();
};return _fbde ;};func (_gagf paraList )merge ()*textPara {_e .Log .Trace ("\u006d\u0065\u0072\u0067\u0065:\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_gagf ));
if len (_gagf )==0{return nil ;};_gagf .sortReadingOrder ();_aafbf :=_gagf [0].PdfRectangle ;_fefc :=_gagf [0]._bca ;for _ ,_gdced :=range _gagf [1:]{_aafbf =_ebba (_aafbf ,_gdced .PdfRectangle );_fefc =append (_fefc ,_gdced ._bca ...);};return _cgadc (_aafbf ,_fefc );
};func (_bad *textObject )reset (){_bad ._abg =_gf .IdentityMatrix ();_bad ._bbbb =_gf .IdentityMatrix ();_bad ._eade =nil ;};func (_cdfdd paraList )findGridTables (_bbcf []gridTiling )[]*textTable {if _dgdd {_e .Log .Info ("\u0066i\u006e\u0064\u0047\u0072\u0069\u0064\u0054\u0061\u0062\u006c\u0065s\u003a\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073",len (_cdfdd ));
for _gafb ,_dfbad :=range _cdfdd {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gafb ,_dfbad );};};var _befaa []*textTable ;for _bdde ,_eadg :=range _bbcf {_geca ,_acgbgg :=_cdfdd .findTableGrid (_eadg );if _geca !=nil {_geca .log (_cf .Sprintf ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0057\u0069\u0074\u0068\u0047\u0072\u0069\u0064\u0073\u003a\u0020%\u0064",_bdde ));
_befaa =append (_befaa ,_geca );_geca .markCells ();};for _gdfcg :=range _acgbgg {_gdfcg ._edeee =true ;};};if _dgdd {_e .Log .Info ("\u0066i\u006e\u0064\u0047\u0072i\u0064\u0054\u0061\u0062\u006ce\u0073:\u0020%\u0064\u0020\u0074\u0061\u0062\u006c\u0065s",len (_befaa ));
};return _befaa ;};func _edca (_cegg ,_afbe bounded )float64 {return _bcdf (_cegg )-_bcdf (_afbe )};func _fcfa (_acfe map[float64 ]map[float64 ]gridTile )[]float64 {_bfbd :=make ([]float64 ,0,len (_acfe ));for _fabad :=range _acfe {_bfbd =append (_bfbd ,_fabad );
};_c .Float64s (_bfbd );_baae :=len (_bfbd );for _dcecc :=0;_dcecc < _baae /2;_dcecc ++{_bfbd [_dcecc ],_bfbd [_baae -1-_dcecc ]=_bfbd [_baae -1-_dcecc ],_bfbd [_dcecc ];};return _bfbd ;};func (_aadfd *textTable )compositeRowCorridors ()map[int ][]float64 {_agafd :=make (map[int ][]float64 ,_aadfd ._eggcc );
if _dgdd {_e .Log .Info ("c\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0052\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073:\u0020h\u003d\u0025\u0064",_aadfd ._eggcc );};for _aedab :=1;_aedab < _aadfd ._eggcc ;_aedab ++{var _eccb []compositeCell ;
for _cfed :=0;_cfed < _aadfd ._ccff ;_cfed ++{if _faag ,_efag :=_aadfd ._dfaa [_gcdf (_cfed ,_aedab )];_efag {_eccb =append (_eccb ,_faag );};};if len (_eccb )==0{continue ;};_gggf :=_bedfc (_eccb );_agafd [_aedab ]=_gggf ;if _dgdd {_cf .Printf ("\u0020\u0020\u0020\u0025\u0032\u0064\u003a\u0020\u00256\u002e\u0032\u0066\u000a",_aedab ,_gggf );
};};return _agafd ;};func (_gde *textObject )renderText (_cca []byte )error {if _gde ._geef {_e .Log .Debug ("\u0072\u0065\u006e\u0064\u0065r\u0054\u0065\u0078\u0074\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u0066\u006f\u006e\u0074\u002e\u0020\u004e\u006f\u0074\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u002e");
return nil ;};_dcfc :=_gde .getCurrentFont ();_ggc :=_dcfc .BytesToCharcodes (_cca );_bbg ,_ecb ,_eae :=_dcfc .CharcodesToStrings (_ggc );if _eae > 0{_e .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_ecb ,_eae );
};_gde ._cgc ._ace +=_ecb ;_gde ._cgc ._dcfed +=_eae ;_cdbg :=_gde ._cgc ;_fbb :=_cdbg ._becc ;_aeff :=_cdbg ._cfa /100.0;_gad :=_cde ;if _dcfc .Subtype ()=="\u0054\u0079\u0070e\u0033"{_gad =1;};_aaba ,_afa :=_dcfc .GetRuneMetrics (' ');if !_afa {_aaba ,_afa =_dcfc .GetCharMetrics (32);
};if !_afa {_aaba ,_ =_eg .DefaultFont ().GetRuneMetrics (' ');};_cga :=_aaba .Wx *_gad ;_e .Log .Trace ("\u0073p\u0061\u0063e\u0057\u0069\u0064t\u0068\u003d\u0025\u002e\u0032\u0066\u0020t\u0065\u0078\u0074\u003d\u0025\u0071 \u0066\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0066\u006f\u006et\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",_cga ,_bbg ,_dcfc ,_fbb );
_eee :=_gf .NewMatrix (_fbb *_aeff ,0,0,_fbb ,0,_cdbg ._ddcb );if _gbab {_e .Log .Info ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0074\u0065\u0078t\u0073\u003d\u0025\u0071",len (_ggc ),_ggc ,_bbg );
};_e .Log .Trace ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0072\u0075\u006ee\u0073\u003d\u0025\u0071",len (_ggc ),_ggc ,len (_bbg ));_gfac :=_gde .getFillColor ();
_gfbd :=_gde .getStrokeColor ();for _feg ,_cdgb :=range _bbg {_bddf :=[]rune (_cdgb );if len (_bddf )==1&&_bddf [0]=='\x00'{continue ;};_fbdc :=_ggc [_feg ];_gfc :=_gde ._eggf .CTM .Mult (_gde ._abg ).Mult (_eee );_aea :=0.0;if len (_bddf )==1&&_bddf [0]==32{_aea =_cdbg ._fgce ;
};_gdc ,_ccg :=_dcfc .GetCharMetrics (_fbdc );if !_ccg {_e .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u004e\u006f \u006d\u0065\u0074r\u0069\u0063\u0020\u0066\u006f\u0072\u0020\u0063\u006fde\u003d\u0025\u0064 \u0072\u003d0\u0078\u0025\u0030\u0034\u0078\u003d%\u002b\u0071 \u0025\u0073",_fbdc ,_bddf ,_bddf ,_dcfc );
return _cf .Errorf ("\u006e\u006f\u0020\u0063\u0068\u0061\u0072\u0020\u006d\u0065\u0074\u0072\u0069\u0063\u0073:\u0020f\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0063\u006f\u0064\u0065\u003d\u0025\u0064",_dcfc .String (),_fbdc );};_bbdc :=_gf .Point {X :_gdc .Wx *_gad ,Y :_gdc .Wy *_gad };
_egfg :=_gf .Point {X :(_bbdc .X *_fbb +_aea )*_aeff };_fcaf :=_gf .Point {X :(_bbdc .X *_fbb +_cdbg ._ffa +_aea )*_aeff };if _gbab {_e .Log .Info ("\u0074\u0066\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0063\u003d\u0025\u002e\u0032f\u0020t\u0077\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_fbb ,_cdbg ._ffa ,_cdbg ._fgce ,_aeff );
_e .Log .Info ("\u0064x\u002c\u0064\u0079\u003d%\u002e\u0033\u0066\u0020\u00740\u003d%\u002e3\u0066\u0020\u0074\u003d\u0025\u002e\u0033f",_bbdc ,_egfg ,_fcaf );};_baf :=_dgd (_egfg );_ebg :=_dgd (_fcaf );_bcd :=_gde ._eggf .CTM .Mult (_gde ._abg ).Mult (_baf );
if _cacgd {_e .Log .Info ("e\u006e\u0064\u003a\u000a\tC\u0054M\u003d\u0025\u0073\u000a\u0009 \u0074\u006d\u003d\u0025\u0073\u000a"+"\u0009\u0020t\u0064\u003d\u0025s\u0020\u0078\u006c\u0061\u0074\u003d\u0025\u0073\u000a"+"\u0009t\u0064\u0030\u003d\u0025s\u000a\u0009\u0020\u0020\u2192 \u0025s\u0020x\u006c\u0061\u0074\u003d\u0025\u0073",_gde ._eggf .CTM ,_gde ._abg ,_ebg ,_dfffb (_gde ._eggf .CTM .Mult (_gde ._abg ).Mult (_ebg )),_baf ,_bcd ,_dfffb (_bcd ));
};_fdb ,_bfba :=_gde .newTextMark (_fbd .ExpandLigatures (_bddf ),_gfc ,_dfffb (_bcd ),_ff .Abs (_cga *_gfc .ScalingFactorX ()),_dcfc ,_gde ._cgc ._ffa ,_gfac ,_gfbd );if !_bfba {_e .Log .Debug ("\u0054\u0065\u0078\u0074\u0020\u006d\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069d\u0065 \u0070\u0061\u0067\u0065\u002e\u0020\u0053\u006b\u0069\u0070\u0070\u0069\u006e\u0067");
continue ;};if _dcfc ==nil {_e .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u002e");}else if _dcfc .Encoder ()==nil {_e .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020N\u006f\u0020\u0065\u006e\u0063\u006f\u0064\u0069\u006eg\u002e\u0020\u0066o\u006et\u003d\u0025\u0073",_dcfc );
}else {if _ccga ,_ebf :=_dcfc .Encoder ().CharcodeToRune (_fbdc );_ebf {_fdb ._fgaa =string (_ccga );};};_e .Log .Trace ("i\u003d\u0025\u0064\u0020\u0063\u006fd\u0065\u003d\u0025\u0064\u0020\u006d\u0061\u0072\u006b=\u0025\u0073\u0020t\u0072m\u003d\u0025\u0073",_feg ,_fbdc ,_fdb ,_gfc );
_gde ._eade =append (_gde ._eade ,&_fdb );_gde ._abg .Concat (_ebg );};return nil ;};func (_debec paraList )tables ()[]TextTable {var _agac []TextTable ;if _dgdd {_e .Log .Info ("\u0070\u0061\u0072\u0061\u0073\u002e\u0074\u0061\u0062\u006c\u0065\u0073\u003a");
};for _ ,_cacgg :=range _debec {_bgca :=_cacgg ._cdce ;if _bgca !=nil &&_bgca .isExportable (){_agac =append (_agac ,_bgca .toTextTable ());};};return _agac ;};func (_ebcd *wordBag )highestWord (_ddaf int ,_afaa ,_cgdc float64 )*textWord {for _ ,_cecc :=range _ebcd ._ffgbb [_ddaf ]{if _afaa <=_cecc ._dbca &&_cecc ._dbca <=_cgdc {return _cecc ;
};};return nil ;};func (_gbg *imageExtractContext )extractContentStreamImages (_ffc string ,_db *_eg .PdfPageResources )error {_gbcg :=_bf .NewContentStreamParser (_ffc );_cb ,_fdd :=_gbcg .Parse ();if _fdd !=nil {return _fdd ;};if _gbg ._fc ==nil {_gbg ._fc =map[*_fb .PdfObjectStream ]*cachedImage {};
};if _gbg ._eba ==nil {_gbg ._eba =&ImageExtractOptions {};};_ggg :=_bf .NewContentStreamProcessor (*_cb );_ggg .AddHandler (_bf .HandlerConditionEnumAllOperands ,"",_gbg .processOperand );return _ggg .Process (_db );};func (_acg *shapesState )lineTo (_eaec ,_ffga float64 ){if _aca {_e .Log .Info ("\u006c\u0069\u006eeT\u006f\u0028\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0070\u003d\u0025\u002e\u0032\u0066",_eaec ,_ffga ,_acg .devicePoint (_eaec ,_ffga ));
};_acg .addPoint (_eaec ,_ffga );};func (_bdgbc *textTable )emptyRow (_ddebg int )bool {for _acdbg :=0;_acdbg < _bdgbc ._ccff ;_acdbg ++{_cabg :=_bdgbc .get (_acdbg ,_ddebg );if _cabg !=nil &&_cabg .text ()!=""{return false ;};};return true ;};func _geabf (_daf ,_beag bounded )float64 {return _daf .bbox ().Llx -_beag .bbox ().Urx };
func (_cfccba rulingList )splitSec ()[]rulingList {_c .Slice (_cfccba ,func (_dcdee ,_bbbc int )bool {_edega ,_cffcg :=_cfccba [_dcdee ],_cfccba [_bbbc ];if _edega ._agdg !=_cffcg ._agdg {return _edega ._agdg < _cffcg ._agdg ;};return _edega ._eggd < _cffcg ._eggd ;
});_fcba :=make (map[*ruling ]struct{},len (_cfccba ));_gccbd :=func (_daaaf *ruling )rulingList {_bcbg :=rulingList {_daaaf };_fcba [_daaaf ]=struct{}{};for _ ,_adeg :=range _cfccba {if _ ,_cccaf :=_fcba [_adeg ];_cccaf {continue ;};for _ ,_dabd :=range _bcbg {if _adeg .alignsSec (_dabd ){_bcbg =append (_bcbg ,_adeg );
_fcba [_adeg ]=struct{}{};break ;};};};return _bcbg ;};_gbbe :=[]rulingList {_gccbd (_cfccba [0])};for _ ,_dadfb :=range _cfccba [1:]{if _ ,_eebec :=_fcba [_dadfb ];_eebec {continue ;};_gbbe =append (_gbbe ,_gccbd (_dadfb ));};return _gbbe ;};func _faad (_efbg []pathSection )rulingList {_ddgaa (_efbg );
if _gec {_e .Log .Info ("\u006d\u0061k\u0065\u0053\u0074\u0072\u006f\u006b\u0065\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0064\u0020\u0073\u0074\u0072ok\u0065\u0073",len (_efbg ));};var _cbee rulingList ;for _ ,_ggfgf :=range _efbg {for _ ,_befe :=range _ggfgf ._fdf {if len (_befe ._cfgf )< 2{continue ;
};_edab :=_befe ._cfgf [0];for _ ,_dfccc :=range _befe ._cfgf [1:]{if _bfed ,_gaff :=_befcg (_edab ,_dfccc ,_ggfgf .Color );_gaff {_cbee =append (_cbee ,_bfed );};_edab =_dfccc ;};};};if _gec {_e .Log .Info ("m\u0061\u006b\u0065\u0053tr\u006fk\u0065\u0052\u0075\u006c\u0069n\u0067\u0073\u003a\u0020\u0025\u0073",_cbee );
};return _cbee ;};

// String returns a description of `k`.
func (_dfcg markKind )String ()string {_fcbb ,_beae :=_ccgdg [_dfcg ];if !_beae {return _cf .Sprintf ("\u004e\u006f\u0074\u0020\u0061\u0020\u006d\u0061\u0072k\u003a\u0020\u0025\u0064",_dfcg );};return _fcbb ;};func (_gdg *textObject )setTextMatrix (_fca []float64 ){if len (_fca )!=6{_e .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u006c\u0065\u006e\u0028\u0066\u0029\u0020\u0021\u003d\u0020\u0036\u0020\u0028\u0025\u0064\u0029",len (_fca ));
return ;};_ccd ,_ded ,_faa ,_cfg ,_dgb ,_fbf :=_fca [0],_fca [1],_fca [2],_fca [3],_fca [4],_fca [5];_gdg ._abg =_gf .NewMatrix (_ccd ,_ded ,_faa ,_cfg ,_dgb ,_fbf );_gdg ._bbbb =_gdg ._abg ;};const _cde =1.0/1000.0;

// Append appends `mark` to the mark array.
func (_efdc *TextMarkArray )Append (mark TextMark ){_efdc ._ggbc =append (_efdc ._ggbc ,mark )};func _fccg (_fba ,_cfce float64 )string {_cafg :=!_debf (_fba -_cfce );if _cafg {return "\u000a";};return "\u0020";};func (_gefc rulingList )findPrimSec (_cgcbb ,_befee float64 )*ruling {for _ ,_facb :=range _gefc {if _debf (_facb ._daba -_cgcbb )&&_facb ._agdg -_cdcd <=_befee &&_befee <=_facb ._eggd +_cdcd {return _facb ;
};};return nil ;};func (_gaddd *ruling )alignsPrimary (_dcbf *ruling )bool {return _gaddd ._bdcb ==_dcbf ._bdcb &&_ff .Abs (_gaddd ._daba -_dcbf ._daba )< _bfgf *0.5;};func (_fefb *textPara )fontsize ()float64 {return _fefb ._bca [0]._geea };func (_bgab rulingList )asTiling ()gridTiling {if _ggab {_e .Log .Info ("r\u0075\u006ci\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0063s\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u002b\u002b\u002b\u0020\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_bgab ));
};for _bedbfc ,_cggf :=range _bgab [1:]{_faed :=_bgab [_bedbfc ];if _faed .alignsPrimary (_cggf )&&_faed .alignsSec (_cggf ){_e .Log .Error ("a\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0044\u0075\u0070\u006c\u0069\u0063\u0061\u0074\u0065 \u0072\u0075\u006c\u0069\u006e\u0067\u0073\u002e\u000a\u0009v=\u0025\u0073\u000a\t\u0077=\u0025\u0073",_cggf ,_faed );
};};_bgab .sortStrict ();_bgab .log ("\u0073n\u0061\u0070\u0070\u0065\u0064");_cadg ,_bggg :=_bgab .vertsHorzs ();_eaaa :=_cadg .primaries ();_ddae :=_bggg .primaries ();_acccc :=len (_eaaa )-1;_bgad :=len (_ddae )-1;if _acccc ==0||_bgad ==0{return gridTiling {};
};_edbd :=_eg .PdfRectangle {Llx :_eaaa [0],Urx :_eaaa [_acccc ],Lly :_ddae [0],Ury :_ddae [_bgad ]};if _ggab {_e .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0072\u0074s=\u0025\u0064",len (_cadg ));
for _ddgaf ,_decg :=range _cadg {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ddgaf ,_decg );};_e .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0068\u006f\u0072\u007as=\u0025\u0064",len (_bggg ));
for _bdabe ,_aabaf :=range _bggg {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bdabe ,_aabaf );};_e .Log .Info ("\u0072\u0075\u006c\u0069\u006eg\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067:\u0020\u0020\u0077\u0078\u0068\u003d\u0025\u0064\u0078\u0025\u0064\u000a\u0009\u006c\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a\u0009\u006c\u006c\u0079\u003d\u0025\u002e\u0032f",_acccc ,_bgad ,_eaaa ,_ddae );
};_ecaf :=make ([]gridTile ,_acccc *_bgad );for _bcfba :=_bgad -1;_bcfba >=0;_bcfba --{_aefe :=_ddae [_bcfba ];_defgd :=_ddae [_bcfba +1];for _afded :=0;_afded < _acccc ;_afded ++{_fbgg :=_eaaa [_afded ];_ebgcf :=_eaaa [_afded +1];_dbecf :=_cadg .findPrimSec (_fbgg ,_aefe );
_ffaaf :=_cadg .findPrimSec (_ebgcf ,_aefe );_dedabe :=_bggg .findPrimSec (_aefe ,_fbgg );_dcbae :=_bggg .findPrimSec (_defgd ,_fbgg );_adbg :=_eg .PdfRectangle {Llx :_fbgg ,Urx :_ebgcf ,Lly :_aefe ,Ury :_defgd };_ggdb :=_facg (_adbg ,_dbecf ,_ffaaf ,_dedabe ,_dcbae );
_ecaf [_bcfba *_acccc +_afded ]=_ggdb ;if _ggab {_cf .Printf ("\u0020\u0020\u0078\u003d\u0025\u0032\u0064\u0020\u0079\u003d\u0025\u0032\u0064\u003a\u0020%\u0073 \u0025\u0036\u002e\u0032\u0066\u0020\u0078\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_afded ,_bcfba ,_ggdb .String (),_ggdb .Width (),_ggdb .Height ());
};};};if _ggab {_e .Log .Info ("r\u0075\u006c\u0069\u006e\u0067\u004c\u0069\u0073\u0074.\u0061\u0073\u0054\u0069\u006c\u0069\u006eg:\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0020\u0068\u006f\u0072\u0069zo\u006e\u0074a\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_edbd );
};_fbfe :=make ([]map[float64 ]gridTile ,_bgad );for _dadcc :=_bgad -1;_dadcc >=0;_dadcc --{if _ggab {_cf .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_dadcc );};_fbfe [_dadcc ]=make (map[float64 ]gridTile ,_acccc );for _gedea :=0;_gedea < _acccc ;
_gedea ++{_gbdeg :=_ecaf [_dadcc *_acccc +_gedea ];if _ggab {_cf .Printf ("\u0020\u0020\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gedea ,_gbdeg );};if !_gbdeg ._eegc {continue ;};_bdbb :=_gedea ;for _bebd :=_gedea +1;!_gbdeg ._dbabc &&_bebd < _acccc ;
_bebd ++{_fdcg :=_ecaf [_dadcc *_acccc +_bebd ];_gbdeg .Urx =_fdcg .Urx ;_gbdeg ._bbdbb =_gbdeg ._bbdbb ||_fdcg ._bbdbb ;_gbdeg ._gccc =_gbdeg ._gccc ||_fdcg ._gccc ;_gbdeg ._dbabc =_fdcg ._dbabc ;if _ggab {_cf .Printf ("\u0020 \u0020%\u0034\u0064\u003a\u0020\u0025s\u0020\u2192 \u0025\u0073\u000a",_bebd ,_fdcg ,_gbdeg );
};_bdbb =_bebd ;};if _ggab {_cf .Printf (" \u0020 \u0025\u0032\u0064\u0020\u002d\u0020\u0025\u0032d\u0020\u2192\u0020\u0025s\n",_gedea ,_bdbb ,_gbdeg );};_gedea =_bdbb ;_fbfe [_dadcc ][_gbdeg .Llx ]=_gbdeg ;};};_eeed :=make (map[float64 ]map[float64 ]gridTile ,_bgad );
_cfcca :=make (map[float64 ]map[float64 ]struct{},_bgad );for _gaffc :=_bgad -1;_gaffc >=0;_gaffc --{_fdeea :=_ecaf [_gaffc *_acccc ].Lly ;_eeed [_fdeea ]=make (map[float64 ]gridTile ,_acccc );_cfcca [_fdeea ]=make (map[float64 ]struct{},_acccc );};if _ggab {_e .Log .Info ("\u0072u\u006c\u0069n\u0067\u004c\u0069s\u0074\u002e\u0061\u0073\u0054\u0069\u006ci\u006e\u0067\u003a\u0020\u0063\u006fa\u006c\u0065\u0073\u0063\u0065\u0020\u0076\u0065\u0072\u0074\u0069c\u0061\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_edbd );
};for _cgff :=_bgad -1;_cgff >=0;_cgff --{_cgcd :=_ecaf [_cgff *_acccc ].Lly ;_bcaa :=_fbfe [_cgff ];if _ggab {_cf .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_cgff );};for _ ,_bccag :=range _fgab (_bcaa ){if _ ,_fbfec :=_cfcca [_cgcd ][_bccag ];
_fbfec {continue ;};_abgcb :=_bcaa [_bccag ];if _ggab {_cf .Printf (" \u0020\u0020\u0020\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_abgcb .String ());};for _febdf :=_cgff -1;_febdf >=0;_febdf --{if _abgcb ._gccc {break ;};_gddec :=_fbfe [_febdf ];_bbfb ,_fcef :=_gddec [_bccag ];
if !_fcef {break ;};if _bbfb .Urx !=_abgcb .Urx {break ;};_abgcb ._gccc =_bbfb ._gccc ;_abgcb .Lly =_bbfb .Lly ;if _ggab {_cf .Printf ("\u0020\u0020\u0020\u0020  \u0020\u0020\u0076\u003d\u0025\u0073\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_bbfb .String (),_abgcb .String ());
};_cfcca [_bbfb .Lly ][_bbfb .Llx ]=struct{}{};};if _cgff ==0{_abgcb ._gccc =true ;};if _abgcb .complete (){_eeed [_cgcd ][_bccag ]=_abgcb ;};};};_ddb :=gridTiling {PdfRectangle :_edbd ,_cbfc :_dbbg (_eeed ),_bggc :_fcfa (_eeed ),_bdbd :_eeed };_ddb .log ("\u0043r\u0065\u0061\u0074\u0065\u0064");
return _ddb ;};func (_dbgdb paraList )inTile (_dgdeee gridTile )paraList {var _eeaf paraList ;for _ ,_bgebca :=range _dbgdb {if _dgdeee .contains (_bgebca .PdfRectangle ){_eeaf =append (_eeaf ,_bgebca );};};if _dgdd {_cf .Printf ("\u0020 \u0020\u0069\u006e\u0054i\u006c\u0065\u003a\u0020\u0020%\u0073 \u0069n\u0073\u0069\u0064\u0065\u003d\u0025\u0064\n",_dgdeee ,len (_eeaf ));
for _cfcce ,_eabb :=range _eeaf {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cfcce ,_eabb );};_cf .Println ("");};return _eeaf ;};

// String returns a description of `w`.
func (_dgcbb *textWord )String ()string {return _cf .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_dgcbb ._dbca ,_dgcbb .PdfRectangle ,_dgcbb ._eggccf ,_dgcbb ._adggd );
};func (_afb *PageText )computeViews (){var _fadc rulingList ;if _egabc {_cacg :=_faad (_afb ._defb );_fadc =append (_fadc ,_cacg ...);};if _bfac {_eega :=_fced (_afb ._gadd );_fadc =append (_fadc ,_eega ...);};_fadc ,_bbe :=_fadc .toTilings ();var _ecgb paraList ;
_eeb :=len (_afb ._gba );for _cbbf :=0;_cbbf < 360&&_eeb > 0;_cbbf +=90{_dgga :=make ([]*textMark ,0,len (_afb ._gba )-_eeb );for _ ,_aaae :=range _afb ._gba {if _aaae ._ceee ==_cbbf {_dgga =append (_dgga ,_aaae );};};if len (_dgga )> 0{_addg :=_ffaba (_dgga ,_afb ._feb ,_fadc ,_bbe );
_ecgb =append (_ecgb ,_addg ...);_eeb -=len (_dgga );};};_cfcgf :=new (_dge .Buffer );_ecgb .writeText (_cfcgf );_afb ._afef =_cfcgf .String ();_afb ._dac =_ecgb .toTextMarks ();_afb ._cfea =_ecgb .tables ();if _dgdd {_e .Log .Info ("\u0063\u006f\u006dpu\u0074\u0065\u0056\u0069\u0065\u0077\u0073\u003a\u0020\u0074\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064",len (_afb ._cfea ));
};};func _ebba (_ebae ,_ccae _eg .PdfRectangle )_eg .PdfRectangle {return _eg .PdfRectangle {Llx :_ff .Min (_ebae .Llx ,_ccae .Llx ),Lly :_ff .Min (_ebae .Lly ,_ccae .Lly ),Urx :_ff .Max (_ebae .Urx ,_ccae .Urx ),Ury :_ff .Max (_ebae .Ury ,_ccae .Ury )};
};var _dbeg =_gb .MustCompile ("\u005e\u005c\u0073\u002a\u0028\u005c\u0064\u002b\u005c\u002e\u003f|\u005b\u0049\u0069\u0076\u005d\u002b\u0029\u005c\u0073\u002a\\\u0029\u003f\u0024");func (_febd rectRuling )asRuling ()(*ruling ,bool ){_eebf :=ruling {_bdcb :_febd ._ababa ,Color :_febd .Color ,_afg :_ccge };
switch _febd ._ababa {case _daag :_eebf ._daba =0.5*(_febd .Llx +_febd .Urx );_eebf ._agdg =_febd .Lly ;_eebf ._eggd =_febd .Ury ;_fdbb ,_bedf :=_febd .checkWidth (_febd .Llx ,_febd .Urx );if !_bedf {if _gcded {_e .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067V\u0065\u0072\u0074\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_febd );
};return nil ,false ;};_eebf ._gfef =_fdbb ;case _cgeg :_eebf ._daba =0.5*(_febd .Lly +_febd .Ury );_eebf ._agdg =_febd .Llx ;_eebf ._eggd =_febd .Urx ;_eaega ,_faba :=_febd .checkWidth (_febd .Lly ,_febd .Ury );if !_faba {if _gcded {_e .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067H\u006f\u0072\u007a\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_febd );
};return nil ,false ;};_eebf ._gfef =_eaega ;default:_e .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_febd ._ababa );return nil ,false ;};return &_eebf ,true ;};func (_ecga paraList )sortReadingOrder (){_e .Log .Trace ("\u0073\u006fr\u0074\u0052\u0065\u0061\u0064i\u006e\u0067\u004f\u0072\u0064e\u0072\u003a\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_ecga ));
if len (_ecga )<=1{return ;};_ecga .computeEBBoxes ();_c .Slice (_ecga ,func (_abaee ,_dcgc int )bool {return _bbab (_ecga [_abaee ],_ecga [_dcgc ])<=0});_edeeb :=_ecga .topoOrder ();_ecga .reorder (_edeeb );};func _adbd (_gdfcc _eg .PdfRectangle )rulingKind {_cfgab :=_gdfcc .Width ();
_gabg :=_gdfcc .Height ();if _cfgab > _gabg {if _cfgab >=_gecb {return _cgeg ;};}else {if _gabg >=_gecb {return _daag ;};};return _dafe ;};func (_egeg rulingList )comp (_fddd ,_fbae int )bool {_cfcfd ,_aefg :=_egeg [_fddd ],_egeg [_fbae ];_bebe ,_gdceg :=_cfcfd ._bdcb ,_aefg ._bdcb ;
if _bebe !=_gdceg {return _bebe > _gdceg ;};if _bebe ==_dafe {return false ;};_aadcg :=func (_gfdd bool )bool {if _bebe ==_cgeg {return _gfdd ;};return !_gfdd ;};_dbcd ,_ggfb :=_cfcfd ._daba ,_aefg ._daba ;if _dbcd !=_ggfb {return _aadcg (_dbcd > _ggfb );
};_dbcd ,_ggfb =_cfcfd ._agdg ,_aefg ._agdg ;if _dbcd !=_ggfb {return _aadcg (_dbcd < _ggfb );};return _aadcg (_cfcfd ._eggd < _aefg ._eggd );};func (_aa *imageExtractContext )extractFormImages (_ged *_fb .PdfObjectName ,_cbd _bf .GraphicsState ,_bfb *_eg .PdfPageResources )error {_bec ,_bge :=_bfb .GetXObjectFormByName (*_ged );
if _bge !=nil {return _bge ;};if _bec ==nil {return nil ;};_cg ,_bge :=_bec .GetContentStream ();if _bge !=nil {return _bge ;};_bb :=_bec .Resources ;if _bb ==nil {_bb =_bfb ;};_bge =_aa .extractContentStreamImages (string (_cg ),_bb );if _bge !=nil {return _bge ;
};_aa ._ga ++;return nil ;};func _gecg (_ececd ,_ddfda _gf .Point )bool {_gedf :=_ff .Abs (_ececd .X -_ddfda .X );_gcdc :=_ff .Abs (_ececd .Y -_ddfda .Y );return _gbfga (_gedf ,_gcdc );};func (_fbgfb *subpath )isQuadrilateral ()bool {if len (_fbgfb ._cfgf )< 4||len (_fbgfb ._cfgf )> 5{return false ;
};if len (_fbgfb ._cfgf )==5{_dcfd :=_fbgfb ._cfgf [0];_dfaf :=_fbgfb ._cfgf [4];if _dcfd .X !=_dfaf .X ||_dcfd .Y !=_dfaf .Y {return false ;};};return true ;};

// Len returns the number of TextMarks in `ma`.
func (_befc *TextMarkArray )Len ()int {if _befc ==nil {return 0;};return len (_befc ._ggbc );};func (_egabd *textTable )putComposite (_eegcf ,_edbbb int ,_aedd paraList ,_afgb _eg .PdfRectangle ){if len (_aedd )==0{_e .Log .Error ("\u0074\u0065xt\u0054\u0061\u0062l\u0065\u0029\u0020\u0070utC\u006fmp\u006f\u0073\u0069\u0074\u0065\u003a\u0020em\u0070\u0074\u0079\u0020\u0070\u0061\u0072a\u0073");
return ;};_gdcgae :=compositeCell {_afgb ,_aedd };if _dgdd {_cf .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0070\u0075\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u003c\u002d\u0025\u0073\u000a",_eegcf ,_edbbb ,_gdcgae .String ());
};_gdcgae .updateBBox ();_egabd ._dfaa [_gcdf (_eegcf ,_edbbb )]=_gdcgae ;};func (_fcdc *textTable )subdivide ()*textTable {_fcdc .logComposite ("\u0073u\u0062\u0064\u0069\u0076\u0069\u0064e");_dgdecf :=_fcdc .compositeRowCorridors ();_ecfd :=_fcdc .compositeColCorridors ();
if _dgdd {_e .Log .Info ("\u0073u\u0062\u0064i\u0076\u0069\u0064\u0065:\u000a\u0009\u0072o\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s=\u0025\u0073\u000a\t\u0063\u006fl\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073=\u0025\u0073",_cbcd (_dgdecf ),_cbcd (_ecfd ));
};if len (_dgdecf )==0||len (_ecfd )==0{return _fcdc ;};_baeg (_dgdecf );_baeg (_ecfd );if _dgdd {_e .Log .Info ("\u0073\u0075\u0062\u0064\u0069\u0076\u0069\u0064\u0065\u0020\u0066\u0069\u0078\u0065\u0064\u003a\u000a\u0009r\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073\u003d\u0025\u0073\u000a\u0009\u0063\u006f\u006cC\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d\u0025\u0073",_cbcd (_dgdecf ),_cbcd (_ecfd ));
};_beede ,_fdbgg :=_dccg (_fcdc ._eggcc ,_dgdecf );_gegd ,_caggb :=_dccg (_fcdc ._ccff ,_ecfd );_ceca :=make (map[uint64 ]*textPara ,_caggb *_fdbgg );_aecdf :=&textTable {PdfRectangle :_fcdc .PdfRectangle ,_ebec :_fcdc ._ebec ,_eggcc :_fdbgg ,_ccff :_caggb ,_cabbe :_ceca };
if _dgdd {_e .Log .Info ("\u0073\u0075b\u0064\u0069\u0076\u0069\u0064\u0065\u003a\u0020\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0020\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0063\u0065\u006c\u006c\u0073\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0079\u004f\u0066\u0066\u0073\u0065\u0074\u0073=\u0025\u002b\u0076\u000a"+"\u0009\u0078\u004f\u0066\u0066\u0073\u0065\u0074\u0073\u003d\u0025\u002b\u0076",_fcdc ._ccff ,_fcdc ._eggcc ,_caggb ,_fdbgg ,_cbcd (_dgdecf ),_cbcd (_ecfd ),_beede ,_gegd );
};for _dccd :=0;_dccd < _fcdc ._eggcc ;_dccd ++{_bgef :=_beede [_dccd ];for _edfb :=0;_edfb < _fcdc ._ccff ;_edfb ++{_dfga :=_gegd [_edfb ];if _dgdd {_cf .Printf ("\u0025\u0036\u0064\u002c %\u0032\u0064\u003a\u0020\u0078\u0030\u003d\u0025\u0064\u0020\u0079\u0030\u003d\u0025d\u000a",_edfb ,_dccd ,_dfga ,_bgef );
};_eaeef ,_ebfab :=_fcdc ._dfaa [_gcdf (_edfb ,_dccd )];if !_ebfab {continue ;};_fdfgf :=_eaeef .split (_dgdecf [_dccd ],_ecfd [_edfb ]);for _eegaad :=0;_eegaad < _fdfgf ._eggcc ;_eegaad ++{for _gegde :=0;_gegde < _fdfgf ._ccff ;_gegde ++{_fecd :=_fdfgf .get (_gegde ,_eegaad );
_aecdf .put (_dfga +_gegde ,_bgef +_eegaad ,_fecd );if _dgdd {_cf .Printf ("\u0025\u0038\u0064\u002c\u0020\u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_dfga +_gegde ,_bgef +_eegaad ,_fecd );};};};};};return _aecdf ;};func (_dfbaa intSet )add (_ebdd int ){_dfbaa [_ebdd ]=struct{}{}};
func (_affb *textLine )pullWord (_bcedc *wordBag ,_gfbcg *textWord ,_gfca int ){_affb .appendWord (_gfbcg );_bcedc .removeWord (_gfbcg ,_gfca );};

// String returns a description of `p`.
func (_dfg *textPara )String ()string {if _dfg ._fgbf {return _cf .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u005b\u0045\u004d\u0050\u0054\u0059\u005d",_dfg .PdfRectangle );};_aafg :="";if _dfg ._cdce !=nil {_aafg =_cf .Sprintf ("\u005b\u0025\u0064\u0078\u0025\u0064\u005d\u0020",_dfg ._cdce ._ccff ,_dfg ._cdce ._eggcc );
};return _cf .Sprintf ("\u0025\u0036\u002e\u0032f \u0025\u0073\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u0020\u0025\u0071",_dfg .PdfRectangle ,_aafg ,len (_dfg ._bca ),_gbcc (_dfg .text (),50));};type gridTile struct{_eg .PdfRectangle ;_bbdbb ,_eegc ,_gccc ,_dbabc bool ;
};func (_ggaa rulingList )snapToGroups ()rulingList {_afgc ,_cfdca :=_ggaa .vertsHorzs ();if len (_afgc )> 0{_afgc =_afgc .snapToGroupsDirection ();};if len (_cfdca )> 0{_cfdca =_cfdca .snapToGroupsDirection ();};_fdbcb :=append (_afgc ,_cfdca ...);_fdbcb .log ("\u0073\u006e\u0061p\u0054\u006f\u0047\u0072\u006f\u0075\u0070\u0073");
return _fdbcb ;};func _aeda (_cdfa *wordBag ,_faaf *textWord ,_eaa float64 )bool {return _faaf .Llx < _cdfa .Urx +_eaa &&_cdfa .Llx -_eaa < _faaf .Urx ;};func (_aebg *shapesState )stroke (_ffgb *[]pathSection ){_egca :=pathSection {_fdf :_aebg ._eea ,Color :_aebg ._dea .getStrokeColor ()};
*_ffgb =append (*_ffgb ,_egca );if _gec {_cf .Printf ("\u0020 \u0020\u0020S\u0054\u0052\u004fK\u0045\u003a\u0020\u0025\u0064\u0020\u0073t\u0072\u006f\u006b\u0065\u0073\u0020s\u0073\u003d\u0025\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d%\u002b\u0076\u0020\u0025\u0036\u002e\u0032\u0066\u000a",len (*_ffgb ),_aebg ,_aebg ._dea .getStrokeColor (),_egca .bbox ());
if _gef {for _aee ,_eecf :=range _aebg ._eea {_cf .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_aee ,_eecf );if _aee ==10{break ;};};};};};func (_efea *textObject )moveLP (_fgf ,_egc float64 ){_efea ._bbbb .Concat (_gf .NewMatrix (1,0,0,1,_fgf ,_egc ));
_efea ._abg =_efea ._bbbb ;};func _bgdc (_agecc _eg .PdfRectangle )*ruling {return &ruling {_bdcb :_daag ,_daba :_agecc .Llx ,_agdg :_agecc .Lly ,_eggd :_agecc .Ury };};func _agba (_beab []TextMark ,_dgaa *int ,_beda string )[]TextMark {_gfaa :=_bccd ;
_gfaa .Text =_beda ;return _adeb (_beab ,_dgaa ,_gfaa );};func (_ffab *subpath )last ()_gf .Point {return _ffab ._cfgf [len (_ffab ._cfgf )-1]};func (_fbfee rulingList )merge ()*ruling {_aeac :=_fbfee [0]._daba ;_fcdf :=_fbfee [0]._agdg ;_baca :=_fbfee [0]._eggd ;
for _ ,_ecef :=range _fbfee [1:]{_aeac +=_ecef ._daba ;if _ecef ._agdg < _fcdf {_fcdf =_ecef ._agdg ;};if _ecef ._eggd > _baca {_baca =_ecef ._eggd ;};};_ccdc :=&ruling {_bdcb :_fbfee [0]._bdcb ,_afg :_fbfee [0]._afg ,Color :_fbfee [0].Color ,_daba :_aeac /float64 (len (_fbfee )),_agdg :_fcdf ,_eggd :_baca };
if _ccea {_e .Log .Info ("\u006de\u0072g\u0065\u003a\u0020\u0025\u0032d\u0020\u0076e\u0063\u0073\u0020\u0025\u0073",len (_fbfee ),_ccdc );for _fgffg ,_gfeag :=range _fbfee {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fgffg ,_gfeag );
};};return _ccdc ;};

// ExtractText processes and extracts all text data in content streams and returns as a string.
// It takes into account character encodings in the PDF file, which are decoded by
// CharcodeBytesToUnicode.
// Characters that can't be decoded are replaced with MissingCodeRune ('\ufffd' = �).
func (_fbe *Extractor )ExtractText ()(string ,error ){_gga ,_ ,_ ,_dcd :=_fbe .ExtractTextWithStats ();return _gga ,_dcd ;};func (_adf *textObject )setTextLeading (_fcad float64 ){if _adf ==nil {return ;};_adf ._cgc ._dab =_fcad ;};

// ExtractTextWithStats works like ExtractText but returns the number of characters in the output
// (`numChars`) and the number of characters that were not decoded (`numMisses`).
func (_ebc *Extractor )ExtractTextWithStats ()(_dcda string ,_efe int ,_bba int ,_ggf error ){_aba ,_efe ,_bba ,_ggf :=_ebc .ExtractPageText ();if _ggf !=nil {return "",_efe ,_bba ,_ggf ;};return _aba .Text (),_efe ,_bba ,nil ;};

// Text returns the extracted page text.
func (_aecf PageText )Text ()string {return _aecf ._afef };func _gbfga (_deca ,_ccbg float64 )bool {return _deca /_ff .Max (_deagd ,_ccbg )< _dcca };func _decf (_dafec string ,_cfece []rulingList ){_e .Log .Info ("\u0024\u0024 \u0025\u0064\u0020g\u0072\u0069\u0064\u0073\u0020\u002d\u0020\u0025\u0073",len (_cfece ),_dafec );
for _fcbca ,_aaef :=range _cfece {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fcbca ,_aaef .String ());};};func _facg (_dcfb _eg .PdfRectangle ,_edgb ,_agbd ,_ggca ,_dadg *ruling )gridTile {_gdcga :=_dcfb .Llx ;_daccc :=_dcfb .Urx ;
_eadd :=_dcfb .Lly ;_bgaad :=_dcfb .Ury ;return gridTile {PdfRectangle :_dcfb ,_eegc :_edgb !=nil &&_edgb .encloses (_eadd ,_bgaad ),_dbabc :_agbd !=nil &&_agbd .encloses (_eadd ,_bgaad ),_gccc :_ggca !=nil &&_ggca .encloses (_gdcga ,_daccc ),_bbdbb :_dadg !=nil &&_dadg .encloses (_gdcga ,_daccc )};
};type textResult struct{_edb PageText ;_ffgd int ;_gede int ;};func (_cgdcbb *textTable )depth ()float64 {_dcfgc :=1e10;for _ggfaa :=0;_ggfaa < _cgdcbb ._ccff ;_ggfaa ++{_eebfe :=_cgdcbb .get (_ggfaa ,0);if _eebfe ==nil ||_eebfe ._fgbf {continue ;};_dcfgc =_ff .Min (_dcfgc ,_eebfe .depth ());
};return _dcfgc ;};func (_bgda *textPara )toCellTextMarks (_edeb *int )[]TextMark {var _fbba []TextMark ;for _cfde ,_dadf :=range _bgda ._bca {_aaff :=_dadf .toTextMarks (_edeb );_dcba :=_dgdf &&_dadf .endsInHyphen ()&&_cfde !=len (_bgda ._bca )-1;if _dcba {_aaff =_egda (_aaff ,_edeb );
};_fbba =append (_fbba ,_aaff ...);if !(_dcba ||_cfde ==len (_bgda ._bca )-1){_fbba =_agba (_fbba ,_edeb ,_fccg (_dadf ._ccdb ,_bgda ._bca [_cfde +1]._ccdb ));};};return _fbba ;};type intSet map[int ]struct{};func (_bebg *textObject )getFont (_ggd string )(*_eg .PdfFont ,error ){if _bebg ._eggg ._gd !=nil {_bebg ._eggg ._gbc ++;
_eaee ,_efac :=_bebg ._eggg ._gd [_ggd ];if _efac {_eaee ._dee =_bebg ._eggg ._gbc ;return _eaee ._befac ,nil ;};};_aabc ,_ebfa :=_bebg .getFontDirect (_ggd );if _ebfa !=nil {return nil ,_ebfa ;};if _bebg ._eggg ._gd !=nil {_dcec :=fontEntry {_aabc ,_bebg ._eggg ._gbc };
if len (_bebg ._eggg ._gd )>=_gcgc {var _dcb []string ;for _dbabf :=range _bebg ._eggg ._gd {_dcb =append (_dcb ,_dbabf );};_c .Slice (_dcb ,func (_ddfe ,_dggg int )bool {return _bebg ._eggg ._gd [_dcb [_ddfe ]]._dee < _bebg ._eggg ._gd [_dcb [_dggg ]]._dee ;
});delete (_bebg ._eggg ._gd ,_dcb [0]);};_bebg ._eggg ._gd [_ggd ]=_dcec ;};return _aabc ,nil ;};func (_aafe *textPara )depth ()float64 {if _aafe ._fgbf {return -1.0;};if len (_aafe ._bca )> 0{return _aafe ._bca [0]._ccdb ;};return _aafe ._cdce .depth ();
};func (_bgcc *stateStack )empty ()bool {return len (*_bgcc )==0};func (_ffdd *textLine )bbox ()_eg .PdfRectangle {return _ffdd .PdfRectangle };func (_cdde *textObject )getFontDict (_aefb string )(_ecfg _fb .PdfObject ,_egd error ){_geda :=_cdde ._ecgcc ;
if _geda ==nil {_e .Log .Debug ("g\u0065\u0074\u0046\u006f\u006e\u0074D\u0069\u0063\u0074\u002e\u0020\u004eo\u0020\u0072\u0065\u0073\u006f\u0075\u0072c\u0065\u0073\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025#\u0071",_aefb );return nil ,nil ;};_ecfg ,_cbgaa :=_geda .GetFontByName (_fb .PdfObjectName (_aefb ));
if !_cbgaa {_e .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0067\u0065t\u0046\u006f\u006et\u0044\u0069\u0063\u0074\u003a\u0020\u0046\u006f\u006et \u006e\u006f\u0074 \u0066\u006fu\u006e\u0064\u003a\u0020\u006e\u0061m\u0065\u003d%\u0023\u0071",_aefb );
return nil ,_g .New ("f\u006f\u006e\u0074\u0020no\u0074 \u0069\u006e\u0020\u0072\u0065s\u006f\u0075\u0072\u0063\u0065\u0073");};return _ecfg ,nil ;};func _fgab (_efcc map[float64 ]gridTile )[]float64 {_abfe :=make ([]float64 ,0,len (_efcc ));for _gage :=range _efcc {_abfe =append (_abfe ,_gage );
};_c .Float64s (_abfe );return _abfe ;};func _dbga (_befb ,_aage _eg .PdfRectangle )bool {return _befb .Lly <=_aage .Ury &&_aage .Lly <=_befb .Ury ;};func (_fcbcg *textPara )taken ()bool {return _fcbcg ==nil ||_fcbcg ._edeee };func (_ege *textObject )setCharSpacing (_ede float64 ){if _ege ==nil {return ;
};_ege ._cgc ._ffa =_ede ;if _gbab {_e .Log .Info ("\u0073\u0065t\u0043\u0068\u0061\u0072\u0053\u0070\u0061\u0063\u0069\u006e\u0067\u003a\u0020\u0025\u002e\u0032\u0066\u0020\u0073\u0074\u0061\u0074e=\u0025\u0073",_ede ,_ege ._cgc .String ());};};func (_bgaa *wordBag )blocked (_cebf *textWord )bool {if _cebf .Urx < _bgaa .Llx {_fbfc :=_gedd (_cebf .PdfRectangle );
_bccg :=_bgdc (_bgaa .PdfRectangle );if _bgaa ._ebge .blocks (_fbfc ,_bccg ){if _dgff {_e .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0078\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_cebf ,_bgaa );};return true ;};}else if _bgaa .Urx < _cebf .Llx {_aaeg :=_gedd (_bgaa .PdfRectangle );
_dcbd :=_bgdc (_cebf .PdfRectangle );if _bgaa ._ebge .blocks (_aaeg ,_dcbd ){if _dgff {_e .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0078\u2192\u0020:\u0020\u0025\u0073\u0020%s",_cebf ,_bgaa );};return true ;};};if _cebf .Ury < _bgaa .Lly {_adfeb :=_cgde (_cebf .PdfRectangle );
_fgaf :=_bgcg (_bgaa .PdfRectangle );if _bgaa ._efec .blocks (_adfeb ,_fgaf ){if _dgff {_e .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0079\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_cebf ,_bgaa );};return true ;};}else if _bgaa .Ury < _cebf .Lly {_cfga :=_cgde (_bgaa .PdfRectangle );
_ecdd :=_bgcg (_cebf .PdfRectangle );if _bgaa ._efec .blocks (_cfga ,_ecdd ){if _dgff {_e .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0079\u2192\u0020:\u0020\u0025\u0073\u0020%s",_cebf ,_bgaa );};return true ;};};return false ;};

// String returns a description of `l`.
func (_fada *textLine )String ()string {return _cf .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_fada ._ccdb ,_fada .PdfRectangle ,_fada ._geea ,_fada .text ());
};func (_dfgeg paraList )xNeighbours (_ffcfe float64 )map[*textPara ][]int {_aacae :=make ([]event ,2*len (_dfgeg ));if _ffcfe ==0{for _efagd ,_cfdg :=range _dfgeg {_aacae [2*_efagd ]=event {_cfdg .Llx ,true ,_efagd };_aacae [2*_efagd +1]=event {_cfdg .Urx ,false ,_efagd };
};}else {for _cddf ,_bcgdg :=range _dfgeg {_aacae [2*_cddf ]=event {_bcgdg .Llx -_ffcfe *_bcgdg .fontsize (),true ,_cddf };_aacae [2*_cddf +1]=event {_bcgdg .Urx +_ffcfe *_bcgdg .fontsize (),false ,_cddf };};};return _dfgeg .eventNeighbours (_aacae );};
func (_bfaa gridTiling )complete ()bool {for _ ,_fgff :=range _bfaa ._bdbd {for _ ,_bacg :=range _fgff {if !_bacg .complete (){return false ;};};};return true ;};func (_ebd *imageExtractContext )extractInlineImage (_dff *_bf .ContentStreamInlineImage ,_af _bf .GraphicsState ,_dgef *_eg .PdfPageResources )error {_ee ,_ecd :=_dff .ToImage (_dgef );
if _ecd !=nil {return _ecd ;};_ece ,_ecd :=_dff .GetColorSpace (_dgef );if _ecd !=nil {return _ecd ;};if _ece ==nil {_ece =_eg .NewPdfColorspaceDeviceGray ();};_ega ,_ecd :=_ece .ImageToRGB (*_ee );if _ecd !=nil {return _ecd ;};_cfd :=ImageMark {Image :&_ega ,Width :_af .CTM .ScalingFactorX (),Height :_af .CTM .ScalingFactorY (),Angle :_af .CTM .Angle ()};
_cfd .X ,_cfd .Y =_af .CTM .Translation ();_ebd ._ecg =append (_ebd ._ecg ,_cfd );_ebd ._fbdd ++;return nil ;};func (_bebc *textPara )bbox ()_eg .PdfRectangle {return _bebc .PdfRectangle };func (_ffca *textPara )toTextMarks (_cddd *int )[]TextMark {if _ffca ._cdce ==nil {return _ffca .toCellTextMarks (_cddd );
};var _ffge []TextMark ;for _geff :=0;_geff < _ffca ._cdce ._eggcc ;_geff ++{for _ebee :=0;_ebee < _ffca ._cdce ._ccff ;_ebee ++{_dcee :=_ffca ._cdce .get (_ebee ,_geff );if _dcee ==nil {_ffge =_agba (_ffge ,_cddd ,"\u0009");}else {_dgbe :=_dcee .toCellTextMarks (_cddd );
_ffge =append (_ffge ,_dgbe ...);};_ffge =_agba (_ffge ,_cddd ,"\u0020");};if _geff < _ffca ._cdce ._eggcc -1{_ffge =_agba (_ffge ,_cddd ,"\u000a");};};return _ffge ;};func (_bceg *textLine )endsInHyphen ()bool {_efcb :=_bceg ._ecdad [len (_bceg ._ecdad )-1];
_afed :=_efcb ._adggd ;_fccc ,_dfab :=_fd .DecodeLastRuneInString (_afed );if _dfab <=0||!_dg .Is (_dg .Hyphen ,_fccc ){return false ;};if _efcb ._bbcc &&_bfbb (_afed ){return true ;};return _bfbb (_bceg .text ());};func (_ebdg *textPara )text ()string {_ecba :=new (_dge .Buffer );
_ebdg .writeText (_ecba );return _ecba .String ();};func (_aedg rulingList )primaries ()[]float64 {_gfaec :=make (map[float64 ]struct{},len (_aedg ));for _ ,_bfae :=range _aedg {_gfaec [_bfae ._daba ]=struct{}{};};_dadae :=make ([]float64 ,len (_gfaec ));
_deec :=0;for _bfef :=range _gfaec {_dadae [_deec ]=_bfef ;_deec ++;};_c .Float64s (_dadae );return _dadae ;};func (_ccf *textObject )checkOp (_dadb *_bf .ContentStreamOperation ,_gdge int ,_acb bool )(_acc bool ,_ceea error ){if _ccf ==nil {var _cfdb []_fb .PdfObject ;
if _gdge > 0{_cfdb =_dadb .Params ;if len (_cfdb )> _gdge {_cfdb =_cfdb [:_gdge ];};};_e .Log .Debug ("\u0025\u0023q \u006f\u0070\u0065r\u0061\u006e\u0064\u0020out\u0073id\u0065\u0020\u0074\u0065\u0078\u0074\u002e p\u0061\u0072\u0061\u006d\u0073\u003d\u0025+\u0076",_dadb .Operand ,_cfdb );
};if _gdge >=0{if len (_dadb .Params )!=_gdge {if _acb {_ceea =_g .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");};_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_dadb .Operand ,_gdge ,len (_dadb .Params ),_dadb .Params );
return false ,_ceea ;};};return true ,nil ;};func _adeb (_deff []TextMark ,_gcee *int ,_cgag TextMark )[]TextMark {_cgag .Offset =*_gcee ;_deff =append (_deff ,_cgag );*_gcee +=len (_cgag .Text );return _deff ;};func (_edee *shapesState )addPoint (_bac ,_eeca float64 ){_gbgd :=_edee .establishSubpath ();
_fdgf :=_edee .devicePoint (_bac ,_eeca );if _gbgd ==nil {_edee ._gea =true ;_edee ._dec =_fdgf ;}else {_gbgd .add (_fdgf );};};

// TextTable represents a table.
// Cells are ordered top-to-bottom, left-to-right.
// Cells[y] is the (0-offset) y'th row in the table.
// Cells[y][x] is the (0-offset) x'th column in the table.
type TextTable struct{W ,H int ;Cells [][]TableCell ;};func (_bbbga rulingList )aligned ()bool {if len (_bbbga )< 2{return false ;};_aaffd :=make (map[*ruling ]int );_aaffd [_bbbga [0]]=0;for _ ,_bab :=range _bbbga [1:]{_ccgdb :=false ;for _bbgc :=range _aaffd {if _bab .gridIntersecting (_bbgc ){_aaffd [_bbgc ]++;
_ccgdb =true ;break ;};};if !_ccgdb {_aaffd [_bab ]=0;};};_bbeg :=0;for _ ,_eaag :=range _aaffd {if _eaag ==0{_bbeg ++;};};_cda :=float64 (_bbeg )/float64 (len (_bbbga ));_bffg :=_cda <=1.0-_dacbc ;if _gec {_e .Log .Info ("\u0061\u006c\u0069\u0067\u006e\u0065\u0064\u003d\u0025\u0074\u0020\u0075\u006em\u0061\u0074\u0063\u0068\u0065\u0064=\u0025\u002e\u0032\u0066\u003d\u0025\u0064\u002f\u0025\u0064\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_bffg ,_cda ,_bbeg ,len (_bbbga ),_bbbga .String ());
};return _bffg ;};func _ecfbb (_agg ,_egbb *textPara )bool {if _agg ._fgbf ||_egbb ._fgbf {return true ;};return _debf (_agg .depth ()-_egbb .depth ());};func _cgde (_bdgc _eg .PdfRectangle )*ruling {return &ruling {_bdcb :_cgeg ,_daba :_bdgc .Ury ,_agdg :_bdgc .Llx ,_eggd :_bdgc .Urx };
};func _gedc (_cbgc *wordBag ,_dfee int )*textLine {_bfcgc :=_cbgc .firstWord (_dfee );_eed :=textLine {PdfRectangle :_bfcgc .PdfRectangle ,_geea :_bfcgc ._eggccf ,_ccdb :_bfcgc ._dbca };_eed .pullWord (_cbgc ,_bfcgc ,_dfee );return &_eed ;};func _dcc (_fgc *_bf .ContentStreamOperation )(float64 ,error ){if len (_fgc .Params )!=1{_gbe :=_g .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");
_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_fgc .Operand ,1,len (_fgc .Params ),_fgc .Params );
return 0.0,_gbe ;};return _fb .GetNumberAsFloat (_fgc .Params [0]);};func (_bfcf *textWord )addDiacritic (_bebcf string ){_cfge :=_bfcf ._gddc [len (_bfcf ._gddc )-1];_cfge ._acaf +=_bebcf ;_cfge ._acaf =_be .NFKC .String (_cfge ._acaf );};func (_bebb *textObject )showTextAdjusted (_aff *_fb .PdfObjectArray )error {_ebef :=false ;
for _ ,_ffbc :=range _aff .Elements (){switch _ffbc .(type ){case *_fb .PdfObjectFloat ,*_fb .PdfObjectInteger :_age ,_aab :=_fb .GetNumberAsFloat (_ffbc );if _aab !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078t\u0041\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0042\u0061\u0064\u0020\u006e\u0075\u006d\u0065r\u0069\u0063\u0061\u006c\u0020a\u0072\u0067\u002e\u0020\u006f\u003d\u0025\u0073\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ffbc ,_aff );
return _aab ;};_gcd ,_adg :=-_age *0.001*_bebb ._cgc ._becc ,0.0;if _ebef {_adg ,_gcd =_gcd ,_adg ;};_eeg :=_dgd (_gf .Point {X :_gcd ,Y :_adg });_bebb ._abg .Concat (_eeg );case *_fb .PdfObjectString :_cgb ,_dcdb :=_fb .GetStringBytes (_ffbc );if !_dcdb {_e .Log .Trace ("s\u0068\u006f\u0077\u0054\u0065\u0078\u0074\u0041\u0064j\u0075\u0073\u0074\u0065\u0064\u003a\u0020Ba\u0064\u0020\u0073\u0074r\u0069\u006e\u0067\u0020\u0061\u0072\u0067\u002e\u0020o=\u0025\u0073 \u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ffbc ,_aff );
return _fb .ErrTypeError ;};_bebb .renderText (_cgb );default:_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078\u0074A\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0055\u006e\u0065\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065\u0020\u0028%T\u0029\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ffbc ,_aff );
return _fb .ErrTypeError ;};};return nil ;};func _debf (_afdg float64 )bool {return _ff .Abs (_afdg )< _bgg };func (_cfbd *subpath )clear (){*_cfbd =subpath {}};func (_dbaf *textObject )showText (_dfb []byte )error {return _dbaf .renderText (_dfb )};func (_gfcg *textMark )bbox ()_eg .PdfRectangle {return _gfcg .PdfRectangle };
type stateStack []*textState ;

// NewFromContents creates a new extractor from contents and page resources.
func NewFromContents (contents string ,resources *_eg .PdfPageResources )(*Extractor ,error ){const _cfb ="\u0065x\u0074\u0072\u0061\u0063t\u006f\u0072\u002e\u004e\u0065w\u0046r\u006fm\u0043\u006f\u006e\u0074\u0065\u006e\u0074s";_dd :=&Extractor {_dgg :contents ,_egg :resources ,_gd :map[string ]fontEntry {},_df :map[string ]textResult {}};
_a .TrackUse (_cfb );return _dd ,nil ;};func (_gfbe *wordBag )text ()string {_ccdg :=_gfbe .allWords ();_eaeg :=make ([]string ,len (_ccdg ));for _ffag ,_gfeaf :=range _ccdg {_eaeg [_ffag ]=_gfeaf ._adggd ;};return _b .Join (_eaeg ,"\u0020");};type lineRuling struct{_addae rulingKind ;
_cbggf markKind ;_fff .Color ;_gcea ,_dgbb _gf .Point ;};func _gcdf (_fbaf ,_gfddc int )uint64 {return uint64 (_fbaf )*0x1000000+uint64 (_gfddc )};func _dgd (_fedg _gf .Point )_gf .Matrix {return _gf .TranslationMatrix (_fedg .X ,_fedg .Y )};

// RangeOffset returns the TextMarks in `ma` that overlap text[start:end] in the extracted text.
// These are tm: `start` <= tm.Offset + len(tm.Text) && tm.Offset < `end` where
// `start` and `end` are offsets in the extracted text.
// NOTE: TextMarks can contain multiple characters. e.g. "ffi" for the ﬃ ligature so the first and
// last elements of the returned TextMarkArray may only partially overlap text[start:end].
func (_cdbd *TextMarkArray )RangeOffset (start ,end int )(*TextMarkArray ,error ){if _cdbd ==nil {return nil ,_g .New ("\u006da\u003d\u003d\u006e\u0069\u006c");};if end < start {return nil ,_cf .Errorf ("\u0065\u006e\u0064\u0020\u003c\u0020\u0073\u0074\u0061\u0072\u0074\u002e\u0020\u0052\u0061n\u0067\u0065\u004f\u0066\u0066\u0073\u0065\u0074\u0020\u006e\u006f\u0074\u0020d\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020\u0073\u0074\u0061\u0072t=\u0025\u0064\u0020\u0065\u006e\u0064\u003d\u0025\u0064\u0020",start ,end );
};_dfce :=len (_cdbd ._ggbc );if _dfce ==0{return _cdbd ,nil ;};if start < _cdbd ._ggbc [0].Offset {start =_cdbd ._ggbc [0].Offset ;};if end > _cdbd ._ggbc [_dfce -1].Offset +1{end =_cdbd ._ggbc [_dfce -1].Offset +1;};_adgc :=_c .Search (_dfce ,func (_befa int )bool {return _cdbd ._ggbc [_befa ].Offset +len (_cdbd ._ggbc [_befa ].Text )-1>=start });
if !(0<=_adgc &&_adgc < _dfce ){_bbbg :=_cf .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073\u0074\u0061\u0072\u0074\u003d%\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009 \u006c\u0061\u0073\u0074\u003d%\u0076",start ,_adgc ,_dfce ,_cdbd ._ggbc [0],_cdbd ._ggbc [_dfce -1]);
return nil ,_bbbg ;};_gcdb :=_c .Search (_dfce ,func (_cdbde int )bool {return _cdbd ._ggbc [_cdbde ].Offset > end -1});if !(0<=_gcdb &&_gcdb < _dfce ){_cgea :=_cf .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020r\u0061\u006e\u0067e\u002e\u0020\u0065n\u0064\u003d%\u0064\u0020\u0069\u0045\u006e\u0064=\u0025d \u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d\u0025\u0076",end ,_gcdb ,_dfce ,_cdbd ._ggbc [0],_cdbd ._ggbc [_dfce -1]);
return nil ,_cgea ;};if _gcdb <=_adgc {return nil ,_cf .Errorf ("\u0069\u0045\u006e\u0064\u0020\u003c=\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003a\u0020\u0073\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u0065\u006ed\u003d\u0025\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020i\u0045n\u0064\u003d\u0025\u0064",start ,end ,_adgc ,_gcdb );
};return &TextMarkArray {_ggbc :_cdbd ._ggbc [_adgc :_gcdb ]},nil ;};func (_adff *wordBag )allWords ()[]*textWord {var _fda []*textWord ;for _ ,_ggeb :=range _adff ._ffgbb {_fda =append (_fda ,_ggeb ...);};return _fda ;};func (_efg *subpath )close (){if !_baaea (_efg ._cfgf [0],_efg .last ()){_efg .add (_efg ._cfgf [0]);
};_efg ._cdeg =true ;_efg .removeDuplicates ();};func (_begfd *textTable )compositeColCorridors ()map[int ][]float64 {_deba :=make (map[int ][]float64 ,_begfd ._ccff );if _dgdd {_e .Log .Info ("\u0063\u006f\u006d\u0070o\u0073\u0069\u0074\u0065\u0043\u006f\u006c\u0043\u006f\u0072r\u0069d\u006f\u0072\u0073\u003a\u0020\u0077\u003d%\u0064\u0020",_begfd ._ccff );
};for _aggfe :=0;_aggfe < _begfd ._ccff ;_aggfe ++{_deba [_aggfe ]=nil ;};return _deba ;};func (_bcca paraList )llyRange (_eaac []int ,_caba ,_aeaf float64 )[]int {_faea :=len (_bcca );if _aeaf < _bcca [_eaac [0]].Lly ||_caba > _bcca [_eaac [_faea -1]].Lly {return nil ;
};_gag :=_c .Search (_faea ,func (_beea int )bool {return _bcca [_eaac [_beea ]].Lly >=_caba });_faef :=_c .Search (_faea ,func (_cgcb int )bool {return _bcca [_eaac [_cgcb ]].Lly > _aeaf });return _eaac [_gag :_faef ];};func _abgd (_gbgf _gf .Point )*subpath {return &subpath {_cfgf :[]_gf .Point {_gbgf }}};
func (_dbge *textWord )absorb (_efaaec *textWord ){_dbge .PdfRectangle =_ebba (_dbge .PdfRectangle ,_efaaec .PdfRectangle );_dbge ._gddc =append (_dbge ._gddc ,_efaaec ._gddc ...);};

// String returns a description of `k`.
func (_accf rulingKind )String ()string {_fgfa ,_fcbg :=_fdcce [_accf ];if !_fcbg {return _cf .Sprintf ("\u004e\u006ft\u0020\u0061\u0020r\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0064",_accf );};return _fgfa ;};

// ToText returns the page text as a single string.
// Deprecated: This function is deprecated and will be removed in a future major version. Please use
// Text() instead.
func (_caab PageText )ToText ()string {return _caab .Text ()};func (_fgbee *textTable )getComposite (_cgagg ,_cbbc int )(paraList ,_eg .PdfRectangle ){_abgcbe ,_cegge :=_fgbee ._dfaa [_gcdf (_cgagg ,_cbbc )];if _dgdd {_cf .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0067\u0065\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u002d\u003e\u0025\u0073\u000a",_cgagg ,_cbbc ,_abgcbe .String ());
};if !_cegge {return nil ,_eg .PdfRectangle {};};return _abgcbe .parasBBox ();};func (_fdeee rulingList )primMinMax ()(float64 ,float64 ){_beed ,_bgge :=_fdeee [0]._daba ,_fdeee [0]._daba ;for _ ,_efee :=range _fdeee [1:]{if _efee ._daba < _beed {_beed =_efee ._daba ;
}else if _efee ._daba > _bgge {_bgge =_efee ._daba ;};};return _beed ,_bgge ;};func (_dacc *wordBag )depthIndexes ()[]int {if len (_dacc ._ffgbb )==0{return nil ;};_efgd :=make ([]int ,len (_dacc ._ffgbb ));_bced :=0;for _gfea :=range _dacc ._ffgbb {_efgd [_bced ]=_gfea ;
_bced ++;};_c .Ints (_efgd );return _efgd ;};func _ggce (_ccag *wordBag ,_aafb float64 ,_aebbd ,_fbfa rulingList )[]*wordBag {var _cggc []*wordBag ;for _ ,_acge :=range _ccag .depthIndexes (){_fdefe :=false ;for !_ccag .empty (_acge ){_dgea :=_ccag .firstReadingIndex (_acge );
_gbgdd :=_ccag .firstWord (_dgea );_fbdcg :=_cacee (_gbgdd ,_aafb ,_aebbd ,_fbfa );_ccag .removeWord (_gbgdd ,_dgea );if _cddb {_e .Log .Info ("\u0066\u0069\u0072\u0073\u0074\u0057\u006f\u0072\u0064\u0020\u005e\u005e^\u005e\u0020\u0025\u0073",_gbgdd .String ());
};for _bedbf :=true ;_bedbf ;_bedbf =_fdefe {_fdefe =false ;_ccccc :=_accb *_fbdcg ._efga ;_ebbbb :=_eecee *_fbdcg ._efga ;_bfaf :=_cfda *_fbdcg ._efga ;if _cddb {_e .Log .Info ("\u0070a\u0072a\u0057\u006f\u0072\u0064\u0073\u0020\u0064\u0065\u0070\u0074\u0068 \u0025\u002e\u0032\u0066 \u002d\u0020\u0025\u002e\u0032f\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061\u0044\u0065\u0070\u0074\u0068\u0047\u0061\u0070\u003d\u0025\u002e\u0032\u0066\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061R\u0065\u0061\u0064\u0069\u006e\u0067\u0047\u0061p\u003d\u0025\u002e\u0032\u0066",_fbdcg .minDepth (),_fbdcg .maxDepth (),_bfaf ,_ebbbb );
};if _ccag .scanBand ("\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c",_fbdcg ,_cead (_aeda ,0),_fbdcg .minDepth ()-_bfaf ,_fbdcg .maxDepth ()+_bfaf ,_caaae ,false ,false )> 0{_fdefe =true ;};if _ccag .scanBand ("\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_fbdcg ,_cead (_aeda ,_ebbbb ),_fbdcg .minDepth (),_fbdcg .maxDepth (),_cdcg ,false ,false )> 0{_fdefe =true ;
};if _fdefe {continue ;};_eaebe :=_ccag .scanBand ("",_fbdcg ,_cead (_cgg ,_ccccc ),_fbdcg .minDepth (),_fbdcg .maxDepth (),_gaef ,true ,false );if _eaebe > 0{_acf :=(_fbdcg .maxDepth ()-_fbdcg .minDepth ())/_fbdcg ._efga ;if (_eaebe > 1&&float64 (_eaebe )> 0.3*_acf )||_eaebe <=10{if _ccag .scanBand ("\u006f\u0074\u0068e\u0072",_fbdcg ,_cead (_cgg ,_ccccc ),_fbdcg .minDepth (),_fbdcg .maxDepth (),_gaef ,false ,true )> 0{_fdefe =true ;
};};};};_cggc =append (_cggc ,_fbdcg );};};return _cggc ;};func (_fcag paraList )yNeighbours (_fabd float64 )map[*textPara ][]int {_ddea :=make ([]event ,2*len (_fcag ));if _fabd ==0{for _fbdb ,_eeebg :=range _fcag {_ddea [2*_fbdb ]=event {_eeebg .Lly ,true ,_fbdb };
_ddea [2*_fbdb +1]=event {_eeebg .Ury ,false ,_fbdb };};}else {for _bagd ,_bafbf :=range _fcag {_ddea [2*_bagd ]=event {_bafbf .Lly -_fabd *_bafbf .fontsize (),true ,_bagd };_ddea [2*_bagd +1]=event {_bafbf .Ury +_fabd *_bafbf .fontsize (),false ,_bagd };
};};return _fcag .eventNeighbours (_ddea );};func (_gbdfe *textTable )toTextTable ()TextTable {if _dgdd {_e .Log .Info ("t\u006fT\u0065\u0078\u0074\u0054\u0061\u0062\u006c\u0065:\u0020\u0025\u0064\u0020x \u0025\u0064",_gbdfe ._ccff ,_gbdfe ._eggcc );};
_addccd :=make ([][]TableCell ,_gbdfe ._eggcc );for _ecaa :=0;_ecaa < _gbdfe ._eggcc ;_ecaa ++{_addccd [_ecaa ]=make ([]TableCell ,_gbdfe ._ccff );for _ccac :=0;_ccac < _gbdfe ._ccff ;_ccac ++{_geebc :=_gbdfe .get (_ccac ,_ecaa );if _geebc ==nil {continue ;
};if _dgdd {_cf .Printf ("\u0025\u0034\u0064 \u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_ccac ,_ecaa ,_geebc );};_addccd [_ecaa ][_ccac ].Text =_geebc .text ();_ddff :=0;_addccd [_ecaa ][_ccac ].Marks ._ggbc =_geebc .toTextMarks (&_ddff );};};return TextTable {W :_gbdfe ._ccff ,H :_gbdfe ._eggcc ,Cells :_addccd };
};func (_bbbgd *shapesState )cubicTo (_adaa ,_dcbg ,_gae ,_abae ,_aebb ,_eded float64 ){if _aca {_e .Log .Info ("\u0063\u0075\u0062\u0069\u0063\u0054\u006f\u003a");};_bbbgd .addPoint (_aebb ,_eded );};

// ExtractPageImages returns the image contents of the page extractor, including data
// and position, size information for each image.
// A set of options to control page image extraction can be passed in. The options
// parameter can be nil for the default options. By default, inline stencil masks
// are not extracted.
func (_ebb *Extractor )ExtractPageImages (options *ImageExtractOptions )(*PageImages ,error ){_dc :=&imageExtractContext {_eba :options };_efd :=_dc .extractContentStreamImages (_ebb ._dgg ,_ebb ._egg );if _efd !=nil {return nil ,_efd ;};return &PageImages {Images :_dc ._ecg },nil ;
};func _dfcda (_bdddb []*textMark ,_bdcba _eg .PdfRectangle )*textWord {_egdc :=_bdddb [0].PdfRectangle ;_ceeac :=_bdddb [0]._befdg ;for _ ,_afdf :=range _bdddb [1:]{_egdc =_ebba (_egdc ,_afdf .PdfRectangle );if _afdf ._befdg > _ceeac {_ceeac =_afdf ._befdg ;
};};return &textWord {PdfRectangle :_egdc ,_gddc :_bdddb ,_dbca :_bdcba .Ury -_egdc .Lly ,_eggccf :_ceeac };};func (_dgcg *textTable )log (_fdaf string ){if !_dgdd {return ;};_e .Log .Info ("~\u007e\u007e\u0020\u0025\u0073\u003a \u0025\u0064\u0020\u0078\u0020\u0025d\u0020\u0067\u0072\u0069\u0064\u003d\u0025t\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0025\u0036\u002e2\u0066",_fdaf ,_dgcg ._ccff ,_dgcg ._eggcc ,_dgcg ._ebec ,_dgcg .PdfRectangle );
for _bdbg :=0;_bdbg < _dgcg ._eggcc ;_bdbg ++{for _ebecb :=0;_ebecb < _dgcg ._ccff ;_ebecb ++{_gaeb :=_dgcg .get (_ebecb ,_bdbg );if _gaeb ==nil {continue ;};_cf .Printf ("%\u0034\u0064\u0020\u00252d\u003a \u0025\u0036\u002e\u0032\u0066 \u0025\u0071\u0020\u0025\u0064\u000a",_ebecb ,_bdbg ,_gaeb .PdfRectangle ,_gbcc (_gaeb .text (),50),_fd .RuneCountInString (_gaeb .text ()));
};};};func (_dcddb *textTable )getRight ()paraList {_cceeb :=make (paraList ,_dcddb ._eggcc );for _ddagf :=0;_ddagf < _dcddb ._eggcc ;_ddagf ++{_fbgfd :=_dcddb .get (_dcddb ._ccff -1,_ddagf )._fcac ;if _fbgfd ==nil ||_fbgfd ._edeee {return nil ;};_cceeb [_ddagf ]=_fbgfd ;
};for _fgebe :=0;_fgebe < _dcddb ._eggcc -1;_fgebe ++{if _cceeb [_fgebe ]._abcb !=_cceeb [_fgebe +1]{return nil ;};};return _cceeb ;};func (_abbae *wordBag )firstWord (_dbf int )*textWord {return _abbae ._ffgbb [_dbf ][0]};func (_acgca paraList )log (_egge string ){if !_dfba {return ;
};_e .Log .Info ("%\u0038\u0073\u003a\u0020\u0025\u0064 \u0070\u0061\u0072\u0061\u0073\u0020=\u003d\u003d\u003d\u003d\u003d\u003d\u002d-\u002d\u002d\u002d\u002d\u002d\u003d\u003d\u003d\u003d\u003d=\u003d",_egge ,len (_acgca ));for _gefd ,_gabb :=range _acgca {if _gabb ==nil {continue ;
};_dabea :=_gabb .text ();_bdcgc :="\u0020\u0020";if _gabb ._cdce !=nil {_bdcgc =_cf .Sprintf ("\u005b%\u0064\u0078\u0025\u0064\u005d",_gabb ._cdce ._ccff ,_gabb ._cdce ._eggcc );};_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0025s\u0020\u0025\u0071\u000a",_gefd ,_gabb .PdfRectangle ,_bdcgc ,_gbcc (_dabea ,50));
};};func (_cgfbd lineRuling )xMean ()float64 {return 0.5*(_cgfbd ._gcea .X +_cgfbd ._dgbb .X )};func _befcg (_abegd ,_cebd _gf .Point ,_gbde _fff .Color )(*ruling ,bool ){_ebgce :=lineRuling {_gcea :_abegd ,_dgbb :_cebd ,_addae :_edda (_abegd ,_cebd ),Color :_gbde };
if _ebgce ._addae ==_dafe {return nil ,false ;};return _ebgce .asRuling ();};func (_adca paraList )writeText (_abgg _d .Writer ){for _fcg ,_adea :=range _adca {if _adea ._fgbf {continue ;};_adea .writeText (_abgg );if _fcg !=len (_adca )-1{if _ecfbb (_adea ,_adca [_fcg +1]){_abgg .Write ([]byte ("\u0020"));
}else {_abgg .Write ([]byte ("\u000a"));_abgg .Write ([]byte ("\u000a"));};};};_abgg .Write ([]byte ("\u000a"));_abgg .Write ([]byte ("\u000a"));};func _ffaba (_gbce []*textMark ,_eaeeg _eg .PdfRectangle ,_eggae rulingList ,_ddga []gridTiling )paraList {_e .Log .Trace ("\u006d\u0061\u006b\u0065\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065\u003a \u0025\u0064\u0020\u0065\u006c\u0065m\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065=\u0025\u002e\u0032\u0066",len (_gbce ),_eaeeg );
if len (_gbce )==0{return nil ;};_effe :=_dbda (_gbce ,_eaeeg );if len (_effe )==0{return nil ;};_eggae .log ("\u006d\u0061\u006be\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065");_gecc ,_egbe :=_eggae .vertsHorzs ();_gaa :=_ddgd (_effe ,_eaeeg .Ury ,_gecc ,_egbe );
_dfcc :=_ggce (_gaa ,_eaeeg .Ury ,_gecc ,_egbe );_dfcc =_bgbb (_dfcc );_abgc :=make (paraList ,0,len (_dfcc ));for _ ,_aaag :=range _dfcc {_edbg :=_aaag .arrangeText ();if _edbg !=nil {_abgc =append (_abgc ,_edbg );};};if len (_abgc )>=_adac {_abgc =_abgc .extractTables (_ddga );
};_abgc .sortReadingOrder ();_abgc .log ("\u0073\u006f\u0072te\u0064\u0020\u0069\u006e\u0020\u0072\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u006f\u0072\u0064\u0065\u0072");return _abgc ;};func _badgaf (_bccde float64 )float64 {return _agb *_ff .Round (_bccde /_agb )};
func _cbcac (_bdff map[int ]intSet )[]int {_gbcfe :=make ([]int ,0,len (_bdff ));for _gagb :=range _bdff {_gbcfe =append (_gbcfe ,_gagb );};_c .Ints (_gbcfe );return _gbcfe ;};func (_dabcf rulingList )connections (_gcge map[int ]intSet ,_ecag int )intSet {_dgeg :=make (intSet );
_eegd :=make (intSet );var _bedfb func (int );_bedfb =func (_degg int ){if !_eegd .has (_degg ){_eegd .add (_degg );for _abbb :=range _dabcf {if _gcge [_abbb ].has (_degg ){_dgeg .add (_abbb );};};for _gbag :=range _dabcf {if _dgeg .has (_gbag ){_bedfb (_gbag );
};};};};_bedfb (_ecag );return _dgeg ;};func _egda (_defd []TextMark ,_ddcee *int )[]TextMark {_ggee :=_defd [len (_defd )-1];_fbfd :=[]rune (_ggee .Text );if len (_fbfd )==1{_defd =_defd [:len (_defd )-1];_dbag :=_defd [len (_defd )-1];*_ddcee =_dbag .Offset +len (_dbag .Text );
}else {_gbdf :=_ffgfd (_ggee .Text );*_ddcee +=len (_gbdf )-len (_ggee .Text );_ggee .Text =_gbdf ;};return _defd ;};type fontEntry struct{_befac *_eg .PdfFont ;_dee int64 ;};func (_cdga *wordBag )removeWord (_adab *textWord ,_dcdd int ){_cefa :=_cdga ._ffgbb [_dcdd ];
_cefa =_gfed (_cefa ,_adab );if len (_cefa )==0{delete (_cdga ._ffgbb ,_dcdd );}else {_cdga ._ffgbb [_dcdd ]=_cefa ;};};

// Extractor stores and offers functionality for extracting content from PDF pages.
type Extractor struct{_dgg string ;_egg *_eg .PdfPageResources ;_ebe _eg .PdfRectangle ;_gd map[string ]fontEntry ;_df map[string ]textResult ;_gbc int64 ;_fdg int ;};type rulingKind int ;func _ffad (_cfbc string )bool {for _ ,_edbgg :=range _cfbc {if !_dg .IsSpace (_edbgg ){return false ;
};};return true ;};func (_dfad *wordBag )empty (_bce int )bool {_ ,_cfba :=_dfad ._ffgbb [_bce ];return !_cfba };func _cgfb (_cbc ,_gbaa _eg .PdfRectangle )bool {return _cbc .Llx <=_gbaa .Llx &&_gbaa .Urx <=_cbc .Urx &&_cbc .Lly <=_gbaa .Lly &&_gbaa .Ury <=_cbc .Ury ;
};type pathSection struct{_fdf []*subpath ;_fff .Color ;};func (_ecbc *textTable )getDown ()paraList {_egfe :=make (paraList ,_ecbc ._ccff );for _bbee :=0;_bbee < _ecbc ._ccff ;_bbee ++{_fedbe :=_ecbc .get (_bbee ,_ecbc ._eggcc -1)._abcb ;if _fedbe ==nil ||_fedbe ._edeee {return nil ;
};_egfe [_bbee ]=_fedbe ;};for _aafd :=0;_aafd < _ecbc ._ccff -1;_aafd ++{if _egfe [_aafd ]._fcac !=_egfe [_aafd +1]{return nil ;};};return _egfe ;};func (_fcdab *textMark )inDiacriticArea (_bdeg *textMark )bool {_ggcg :=_fcdab .Llx -_bdeg .Llx ;_fagb :=_fcdab .Urx -_bdeg .Urx ;
_fbddf :=_fcdab .Lly -_bdeg .Lly ;return _ff .Abs (_ggcg +_fagb )< _fcdab .Width ()*_aagg &&_ff .Abs (_fbddf )< _fcdab .Height ()*_aagg ;};func (_afdab intSet )has (_gbbag int )bool {_ ,_gafba :=_afdab [_gbbag ];return _gafba };func (_eced *textObject )getFontDirect (_eece string )(*_eg .PdfFont ,error ){_fcf ,_dgdc :=_eced .getFontDict (_eece );
if _dgdc !=nil {return nil ,_dgdc ;};_gfgec ,_dgdc :=_eg .NewPdfFontFromPdfObject (_fcf );if _dgdc !=nil {_e .Log .Debug ("\u0067\u0065\u0074\u0046\u006f\u006e\u0074\u0044\u0069\u0072\u0065\u0063\u0074\u003a\u0020\u004e\u0065\u0077Pd\u0066F\u006f\u006e\u0074\u0046\u0072\u006f\u006d\u0050\u0064\u0066\u004f\u0062j\u0065\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d%\u0023\u0071\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eece ,_dgdc );
};return _gfgec ,_dgdc ;};func _cbda (_gbgc ,_edgd _gf .Point )bool {_fdgc :=_ff .Abs (_gbgc .X -_edgd .X );_bfcc :=_ff .Abs (_gbgc .Y -_edgd .Y );return _gbfga (_bfcc ,_fdgc );};var _ccgdg =map[markKind ]string {_ggdc :"\u0073\u0074\u0072\u006f\u006b\u0065",_ccge :"\u0066\u0069\u006c\u006c",_eebd :"\u0061u\u0067\u006d\u0065\u006e\u0074"};
func (_abaeec paraList )applyTables (_gaba []*textTable )paraList {var _adba paraList ;for _ ,_eedeb :=range _gaba {_adba =append (_adba ,_eedeb .newTablePara ());};for _ ,_dcdg :=range _abaeec {if _dcdg ._edeee {continue ;};_adba =append (_adba ,_dcdg );
};return _adba ;};func (_cdcc compositeCell )parasBBox ()(paraList ,_eg .PdfRectangle ){return _cdcc .paraList ,_cdcc .PdfRectangle ;};func _fbdcf (_cdbdd []rulingList )(rulingList ,rulingList ){var _acdf rulingList ;for _ ,_fedc :=range _cdbdd {_acdf =append (_acdf ,_fedc ...);
};return _acdf .vertsHorzs ();};func (_cgce paraList )findTableGrid (_cedb gridTiling )(*textTable ,map[*textPara ]struct{}){_bedab :=len (_cedb ._cbfc );_eage :=len (_cedb ._bggc );_ggacf :=textTable {_ebec :true ,_ccff :_bedab ,_eggcc :_eage ,_cabbe :make (map[uint64 ]*textPara ,_bedab *_eage ),_dfaa :make (map[uint64 ]compositeCell ,_bedab *_eage )};
_dcea :=make (map[*textPara ]struct{});_bcbbb :=int ((1.0-_dabf )*float64 (_bedab *_eage ));_efgc :=0;if _ggab {_e .Log .Info ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0064\u0020\u0078\u0020%\u0064",_bedab ,_eage );
};for _agfg ,_adgg :=range _cedb ._bggc {_afeg ,_aegbb :=_cedb ._bdbd [_adgg ];if !_aegbb {continue ;};for _caaec ,_dbaga :=range _cedb ._cbfc {_gbcgb ,_cbbed :=_afeg [_dbaga ];if !_cbbed {continue ;};_ccbd :=_cgce .inTile (_gbcgb );if len (_ccbd )==0{_efgc ++;
if _efgc > _bcbbb {if _ggab {_e .Log .Info ("\u0021\u006e\u0075m\u0045\u006d\u0070\u0074\u0079\u003d\u0025\u0064",_efgc );};return nil ,nil ;};}else {_ggacf .putComposite (_caaec ,_agfg ,_ccbd ,_gbcgb .PdfRectangle );for _ ,_egcdg :=range _ccbd {_dcea [_egcdg ]=struct{}{};
};};};};_cddg :=0;for _bcac :=0;_bcac < _bedab ;_bcac ++{_fgfbfg :=_ggacf .get (_bcac ,0);if _fgfbfg ==nil ||!_fgfbfg ._fgbf {_cddg ++;};};if _cddg ==0{if _ggab {_e .Log .Info ("\u0021\u006e\u0075m\u0048\u0065\u0061\u0064\u0065\u0072\u003d\u0030");};return nil ,nil ;
};_cfdd :=_ggacf .reduceTiling (_cedb ,_fbgd );_cfdd =_cfdd .subdivide ();return _cfdd ,_dcea ;};

// String returns a description of `state`.
func (_gccb *textState )String ()string {_gee :="\u005bN\u004f\u0054\u0020\u0053\u0045\u0054]";if _gccb ._dgab !=nil {_gee =_gccb ._dgab .BaseFont ();};return _cf .Sprintf ("\u0074\u0063\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0077\u003d\u0025\u002e\u0032\u0066 \u0074f\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u003d\u0025\u0071",_gccb ._ffa ,_gccb ._fgce ,_gccb ._becc ,_gee );
};func (_geab *shapesState )quadraticTo (_agec ,_fadd ,_gbd ,_ccee float64 ){if _aca {_e .Log .Info ("\u0071\u0075\u0061d\u0072\u0061\u0074\u0069\u0063\u0054\u006f\u003a");};_geab .addPoint (_gbd ,_ccee );};func (_gabd *textPara )isAtom ()*textTable {_begg :=_gabd ;
_ffbcf :=_gabd ._fcac ;_bagcb :=_gabd ._abcb ;if !(_ffbcf !=nil &&!_ffbcf ._edeee &&_bagcb !=nil &&!_bagcb ._edeee ){return nil ;};_febc :=_ffbcf ._abcb ;if !(_febc !=nil &&!_febc ._edeee &&_febc ==_bagcb ._fcac ){return nil ;};return _dcfa (_begg ,_ffbcf ,_bagcb ,_febc );
};func (_fgg *textObject )moveText (_dga ,_fbdde float64 ){_fgg .moveLP (_dga ,_fbdde )};func (_geaba *shapesState )closePath (){if _geaba ._gea {_geaba ._eea =append (_geaba ._eea ,_abgd (_geaba ._dec ));_geaba ._gea =false ;}else if len (_geaba ._eea )==0{if _aca {_e .Log .Debug ("\u0063\u006c\u006f\u0073eP\u0061\u0074\u0068\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f\u0020\u0070\u0061t\u0068");
};_geaba ._gea =false ;return ;};_geaba ._eea [len (_geaba ._eea )-1].close ();if _aca {_e .Log .Info ("\u0063\u006c\u006f\u0073\u0065\u0050\u0061\u0074\u0068\u003a\u0020\u0025\u0073",_geaba );};};func (_aec *textObject )setTextRenderMode (_fee int ){if _aec ==nil {return ;
};_aec ._cgc ._gdbe =RenderMode (_fee );};var _fdcce =map[rulingKind ]string {_dafe :"\u006e\u006f\u006e\u0065",_cgeg :"\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_daag :"\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c"};func (_bbdd *textTable )reduce ()*textTable {_efbd :=make ([]int ,0,_bbdd ._eggcc );
_abag :=make ([]int ,0,_bbdd ._ccff );for _bcgdb :=0;_bcgdb < _bbdd ._eggcc ;_bcgdb ++{if !_bbdd .emptyRow (_bcgdb ){_efbd =append (_efbd ,_bcgdb );};};for _efeca :=0;_efeca < _bbdd ._ccff ;_efeca ++{if !_bbdd .emptyColumn (_efeca ){_abag =append (_abag ,_efeca );
};};if len (_efbd )==_bbdd ._eggcc &&len (_abag )==_bbdd ._ccff {return _bbdd ;};_afgee :=textTable {_ebec :_bbdd ._ebec ,_ccff :len (_abag ),_eggcc :len (_efbd ),_cabbe :make (map[uint64 ]*textPara ,len (_abag )*len (_efbd ))};if _dgdd {_e .Log .Info ("\u0072\u0065\u0064\u0075ce\u003a\u0020\u0025\u0064\u0078\u0025\u0064\u0020\u002d\u003e\u0020\u0025\u0064\u0078%\u0064",_bbdd ._ccff ,_bbdd ._eggcc ,len (_abag ),len (_efbd ));
_e .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_abag );_e .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_efbd );};for _cdceb ,_eaaca :=range _efbd {for _ecae ,_befg :=range _abag {_gfcab :=_bbdd .get (_befg ,_eaaca );
if _gfcab ==nil {continue ;};if _dgdd {_cf .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_ecae ,_cdceb ,_befg ,_eaaca ,_gbcc (_gfcab .text (),50));};_afgee .put (_ecae ,_cdceb ,_gfcab );
};};return &_afgee ;};type event struct{_aefec float64 ;_feea bool ;_gecdc int ;};func (_eabbe intSet )del (_fdeaa int ){delete (_eabbe ,_fdeaa )};func (_baega *textWord )bbox ()_eg .PdfRectangle {return _baega .PdfRectangle };func (_dgdec rulingList )log (_acag string ){if !_gec {return ;
};_e .Log .Info ("\u0023\u0023\u0023\u0020\u0025\u0031\u0030\u0073\u003a\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_acag ,_dgdec .String ());for _gbgb ,_fgfd :=range _dgdec {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gbgb ,_fgfd .String ());
};};func (_ebcc lineRuling )asRuling ()(*ruling ,bool ){_agafg :=ruling {_bdcb :_ebcc ._addae ,Color :_ebcc .Color ,_afg :_ggdc };switch _ebcc ._addae {case _daag :_agafg ._daba =_ebcc .xMean ();_agafg ._agdg =_ff .Min (_ebcc ._gcea .Y ,_ebcc ._dgbb .Y );
_agafg ._eggd =_ff .Max (_ebcc ._gcea .Y ,_ebcc ._dgbb .Y );case _cgeg :_agafg ._daba =_ebcc .yMean ();_agafg ._agdg =_ff .Min (_ebcc ._gcea .X ,_ebcc ._dgbb .X );_agafg ._eggd =_ff .Max (_ebcc ._gcea .X ,_ebcc ._dgbb .X );default:_e .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_ebcc ._addae );
return nil ,false ;};return &_agafg ,true ;};func (_dgfc *textPara )writeText (_fega _d .Writer ){if _dgfc ._cdce ==nil {_dgfc .writeCellText (_fega );return ;};for _ebcbd :=0;_ebcbd < _dgfc ._cdce ._eggcc ;_ebcbd ++{for _cfca :=0;_cfca < _dgfc ._cdce ._ccff ;
_cfca ++{_gacg :=_dgfc ._cdce .get (_cfca ,_ebcbd );if _gacg ==nil {_fega .Write ([]byte ("\u0009"));}else {_gacg .writeCellText (_fega );};_fega .Write ([]byte ("\u0020"));};if _ebcbd < _dgfc ._cdce ._eggcc -1{_fega .Write ([]byte ("\u000a"));};};};func (_baaf paraList )computeEBBoxes (){if _cgad {_e .Log .Info ("\u0063o\u006dp\u0075\u0074\u0065\u0045\u0042\u0042\u006f\u0078\u0065\u0073\u003a");
};for _ ,_dgc :=range _baaf {_dgc ._bacf =_dgc .PdfRectangle ;};_dgae :=_baaf .yNeighbours (0);for _eeeg ,_dabc :=range _baaf {_baeb :=_dabc ._bacf ;_fgdg ,_dgeb :=-1.0e9,+1.0e9;for _ ,_ccbc :=range _dgae [_dabc ]{_dadc :=_baaf [_ccbc ]._bacf ;if _dadc .Urx < _baeb .Llx {_fgdg =_ff .Max (_fgdg ,_dadc .Urx );
}else if _baeb .Urx < _dadc .Llx {_dgeb =_ff .Min (_dgeb ,_dadc .Llx );};};for _ffecd ,_cgfg :=range _baaf {_bdab :=_cgfg ._bacf ;if _eeeg ==_ffecd ||_bdab .Ury > _baeb .Lly {continue ;};if _fgdg <=_bdab .Llx &&_bdab .Llx < _baeb .Llx {_baeb .Llx =_bdab .Llx ;
}else if _bdab .Urx <=_dgeb &&_baeb .Urx < _bdab .Urx {_baeb .Urx =_bdab .Urx ;};};if _cgad {_cf .Printf ("\u0025\u0034\u0064\u003a %\u0036\u002e\u0032\u0066\u2192\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0071\u000a",_eeeg ,_dabc ._bacf ,_baeb ,_gbcc (_dabc .text (),50));
};_dabc ._bacf =_baeb ;};if _feca {for _ ,_eeac :=range _baaf {_eeac .PdfRectangle =_eeac ._bacf ;};};};func _gfed (_bbea []*textWord ,_afgca *textWord )[]*textWord {for _gaag ,_aaefb :=range _bbea {if _aaefb ==_afgca {return _gffcd (_bbea ,_gaag );};};
_e .Log .Error ("\u0072\u0065\u006d\u006f\u0076e\u0057\u006f\u0072\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u0073\u0020\u0064o\u0065\u0073\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",_afgca );
return nil ;};type imageExtractContext struct{_ecg []ImageMark ;_fbdd int ;_ad int ;_ga int ;_fc map[*_fb .PdfObjectStream ]*cachedImage ;_eba *ImageExtractOptions ;};type bounded interface{bbox ()_eg .PdfRectangle };func _aag (_cgdd _eg .PdfRectangle ,_eag bounded )float64 {return _cgdd .Ury -_eag .bbox ().Lly };


// ToTextMark returns the public view of `tm`.
func (_fgfc *textMark )ToTextMark ()TextMark {return TextMark {Text :_fgfc ._acaf ,Original :_fgfc ._fgaa ,BBox :_fgfc ._dbfg ,Font :_fgfc ._adceg ,FontSize :_fgfc ._befdg ,FillColor :_fgfc ._ffdc ,StrokeColor :_fgfc ._effde ,Orientation :_fgfc ._ceee };
};func (_dgffb rulingList )bbox ()_eg .PdfRectangle {var _adfg _eg .PdfRectangle ;if len (_dgffb )==0{_e .Log .Error ("r\u0075\u006c\u0069\u006e\u0067\u004ci\u0073\u0074\u002e\u0062\u0062\u006f\u0078\u003a\u0020n\u006f\u0020\u0072u\u006ci\u006e\u0067\u0073");
return _eg .PdfRectangle {};};if _dgffb [0]._bdcb ==_cgeg {_adfg .Llx ,_adfg .Urx =_dgffb .secMinMax ();_adfg .Lly ,_adfg .Ury =_dgffb .primMinMax ();}else {_adfg .Llx ,_adfg .Urx =_dgffb .primMinMax ();_adfg .Lly ,_adfg .Ury =_dgffb .secMinMax ();};return _adfg ;
};func (_eaebd *textTable )growTable (){_gcead :=func (_cgdcb paraList ){_eaebd ._eggcc ++;for _geffg :=0;_geffg < _eaebd ._ccff ;_geffg ++{_bcce :=_cgdcb [_geffg ];_eaebd .put (_geffg ,_eaebd ._eggcc -1,_bcce );};};_fdbf :=func (_eaacc paraList ){_eaebd ._ccff ++;
for _dbcgc :=0;_dbcgc < _eaebd ._eggcc ;_dbcgc ++{_abbfd :=_eaacc [_dbcgc ];_eaebd .put (_eaebd ._ccff -1,_dbcgc ,_abbfd );};};if _eadeg {_eaebd .log ("\u0067r\u006f\u0077\u0054\u0061\u0062\u006ce");};for _aggfb :=0;;_aggfb ++{_cgbc :=false ;_eede :=_eaebd .getDown ();
_afge :=_eaebd .getRight ();if _eadeg {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_aggfb ,_eaebd );_cf .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0020\u0064\u006f\u0077\u006e\u003d\u0025\u0073\u000a",_eede );_cf .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0072\u0069\u0067\u0068\u0074\u003d\u0025\u0073\u000a",_afge );
};if _eede !=nil &&_afge !=nil {_gefdg :=_eede [len (_eede )-1];if _gefdg !=nil &&!_gefdg ._edeee &&_gefdg ==_afge [len (_afge )-1]{_gcead (_eede );if _afge =_eaebd .getRight ();_afge !=nil {_fdbf (_afge );_eaebd .put (_eaebd ._ccff -1,_eaebd ._eggcc -1,_gefdg );
};_cgbc =true ;};};if !_cgbc &&_eede !=nil {_gcead (_eede );_cgbc =true ;};if !_cgbc &&_afge !=nil {_fdbf (_afge );_cgbc =true ;};if !_cgbc {break ;};};};func (_becag *textTable )computeBbox ()_eg .PdfRectangle {var _fegd _eg .PdfRectangle ;_agddc :=false ;
for _fcdad :=0;_fcdad < _becag ._eggcc ;_fcdad ++{for _bgadc :=0;_bgadc < _becag ._ccff ;_bgadc ++{_aecd :=_becag .get (_bgadc ,_fcdad );if _aecd ==nil {continue ;};if !_agddc {_fegd =_aecd .PdfRectangle ;_agddc =true ;}else {_fegd =_ebba (_fegd ,_aecd .PdfRectangle );
};};};return _fegd ;};func (_ecgc *textObject )setHorizScaling (_gfa float64 ){if _ecgc ==nil {return ;};_ecgc ._cgc ._cfa =_gfa ;};const (_cdebd markKind =iota ;_ggdc ;_ccge ;_eebd ;);func (_cegb *shapesState )newSubPath (){_cegb .clearPath ();if _aca {_e .Log .Info ("\u006e\u0065\u0077\u0053\u0075\u0062\u0050\u0061\u0074h\u003a\u0020\u0025\u0073",_cegb );
};};type gridTiling struct{_eg .PdfRectangle ;_cbfc []float64 ;_bggc []float64 ;_bdbd map[float64 ]map[float64 ]gridTile ;};

// New returns an Extractor instance for extracting content from the input PDF page.
func New (page *_eg .PdfPage )(*Extractor ,error ){const _fde ="\u0065\u0078\u0074\u0072\u0061\u0063\u0074\u006f\u0072\u002e\u004e\u0065\u0077";_ab ,_fg :=page .GetAllContentStreams ();if _fg !=nil {return nil ,_fg ;};_fdc ,_fg :=page .GetMediaBox ();if _fg !=nil {return nil ,_cf .Errorf ("\u0065\u0078\u0074r\u0061\u0063\u0074\u006fr\u0020\u0072\u0065\u0071\u0075\u0069\u0072e\u0073\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u002e\u0020\u0025\u0076",_fg );
};_ef :=&Extractor {_dgg :_ab ,_egg :page .Resources ,_ebe :*_fdc ,_gd :map[string ]fontEntry {},_df :map[string ]textResult {}};if _ef ._ebe .Llx > _ef ._ebe .Urx {_e .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0058\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_ef ._ebe );
_ef ._ebe .Llx ,_ef ._ebe .Urx =_ef ._ebe .Urx ,_ef ._ebe .Llx ;};if _ef ._ebe .Lly > _ef ._ebe .Ury {_e .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0059\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_ef ._ebe );
_ef ._ebe .Lly ,_ef ._ebe .Ury =_ef ._ebe .Ury ,_ef ._ebe .Lly ;};_a .TrackUse (_fde );return _ef ,nil ;};func (_ggad paraList )extractTables (_gebg []gridTiling )paraList {if _dgdd {_e .Log .Debug ("\u0065\u0078\u0074r\u0061\u0063\u0074\u0054\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_ggad ));
};if len (_ggad )< _adac {return _ggad ;};_agecf :=_ggad .findTables (_gebg );if _dgdd {_e .Log .Info ("c\u006f\u006d\u0062\u0069\u006e\u0065d\u0020\u0074\u0061\u0062\u006c\u0065s\u0020\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_agecf ));
for _agdb ,_bdbe :=range _agecf {_bdbe .log (_cf .Sprintf ("c\u006f\u006d\u0062\u0069\u006e\u0065\u0064\u0020\u0025\u0064",_agdb ));};};return _ggad .applyTables (_agecf );};func _bedfc (_cbbg []compositeCell )[]float64 {var _ebbg []*textLine ;_fbbg :=0;
for _ ,_fafcd :=range _cbbg {_fbbg +=len (_fafcd .paraList );_ebbg =append (_ebbg ,_fafcd .lines ()...);};_c .Slice (_ebbg ,func (_bbfaf ,_egff int )bool {_cbeb ,_fceb :=_ebbg [_bbfaf ],_ebbg [_egff ];_cceg ,_fcbf :=_cbeb ._ccdb ,_fceb ._ccdb ;if !_debf (_cceg -_fcbf ){return _cceg < _fcbf ;
};return _cbeb .Llx < _fceb .Llx ;});if _dgdd {_cf .Printf ("\u0020\u0020\u0020 r\u006f\u0077\u0042\u006f\u0072\u0064\u0065\u0072\u0073:\u0020%\u0064 \u0070a\u0072\u0061\u0073\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",_fbbg ,len (_ebbg ));
for _cbdab ,_agc :=range _ebbg {_cf .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_cbdab ,_agc );};};var _beaed []float64 ;_aadb :=_ebbg [0];var _adeaa [][]*textLine ;_dgebg :=[]*textLine {_aadb };for _gbcfc ,_befdge :=range _ebbg [1:]{if _befdge .Ury < _aadb .Lly {_gcce :=0.5*(_befdge .Ury +_aadb .Lly );
if _dgdd {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u003c\u0020\u0025\u0036.\u0032f\u0020\u0062\u006f\u0072\u0064\u0065\u0072\u003d\u0025\u0036\u002e\u0032\u0066\u000a"+"\u0009\u0020\u0071\u003d\u0025\u0073\u000a\u0009\u0020p\u003d\u0025\u0073\u000a",_gbcfc ,_befdge .Ury ,_aadb .Lly ,_gcce ,_aadb ,_befdge );
};_beaed =append (_beaed ,_gcce );_adeaa =append (_adeaa ,_dgebg );_dgebg =nil ;};_dgebg =append (_dgebg ,_befdge );if _befdge .Lly < _aadb .Lly {_aadb =_befdge ;};};if len (_dgebg )> 0{_adeaa =append (_adeaa ,_dgebg );};if _dgdd {_cf .Printf (" \u0020\u0020\u0020\u0020\u0020\u0020 \u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073\u003d%\u0036.\u0032\u0066\u000a",_beaed );
};if _dgdd {_e .Log .Info ("\u0072\u006f\u0077\u003d\u0025\u0064",len (_cbbg ));for _edef ,_cdgf :=range _cbbg {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_edef ,_cdgf );};_e .Log .Info ("\u0067r\u006f\u0075\u0070\u0073\u003d\u0025d",len (_adeaa ));
for _ffac ,_ebbdc :=range _adeaa {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0064\u000a",_ffac ,len (_ebbdc ));for _dbeb ,_aaea :=range _ebbdc {_cf .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_dbeb ,_aaea );};};};_gdcc :=true ;
for _gcgec ,_abfa :=range _adeaa {_gbdd :=true ;for _fbcbc ,_bcdae :=range _cbbg {if _dgdd {_cf .Printf ("\u0020\u0020\u0020\u007e\u007e\u007e\u0067\u0072\u006f\u0075\u0070\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u0020\u0063\u0065\u006cl\u0020\u0025\u0064\u0020\u006ff\u0020\u0025d\u0020\u0025\u0073\u000a",_gcgec ,len (_adeaa ),_fbcbc ,len (_cbbg ),_bcdae );
};if !_bcdae .hasLines (_abfa ){if _dgdd {_cf .Printf ("\u0020\u0020\u0020\u0021\u0021\u0021\u0067\u0072\u006f\u0075\u0070\u0020\u0025d\u0020\u006f\u0066\u0020\u0025\u0064 \u0063\u0065\u006c\u006c\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064 \u004f\u0055\u0054\u000a",_gcgec ,len (_adeaa ),_fbcbc ,len (_cbbg ));
};_gbdd =false ;break ;};};if !_gbdd {_gdcc =false ;break ;};};if !_gdcc {if _dgdd {_e .Log .Info ("\u0072\u006f\u0077\u0020\u0063o\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u0020\u0064\u006f\u006e\u0027\u0074 \u0073\u0070\u0061\u006e\u0020\u0061\u006c\u006c\u0020\u0063\u0065\u006c\u006c\u0073\u0020\u0069\u006e\u0020\u0072\u006f\u0077\u002e\u0020\u0069\u0067\u006e\u006f\u0072\u0069\u006eg");
};_beaed =nil ;};if _dgdd &&_beaed !=nil {_cf .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u002a\u002a*\u0072\u006f\u0077\u0043\u006f\u0072\u0072i\u0064\u006f\u0072\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u000a",_beaed );};return _beaed ;
};func _dcfa (_fddeg ,_afae ,_bdegf ,_fedb *textPara )*textTable {_becgd :=&textTable {_ccff :2,_eggcc :2,_cabbe :make (map[uint64 ]*textPara ,4)};_becgd .put (0,0,_fddeg );_becgd .put (1,0,_afae );_becgd .put (0,1,_bdegf );_becgd .put (1,1,_fedb );return _becgd ;
};func _fdcfb (_dedbc ,_geed int )int {if _dedbc > _geed {return _dedbc ;};return _geed ;};func (_ggbe *textTable )get (_dbaae ,_ggbed int )*textPara {return _ggbe ._cabbe [_gcdf (_dbaae ,_ggbed )]};func _bfca (_dedfg _eg .PdfColorspace ,_agfb _eg .PdfColor )_fff .Color {if _dedfg ==nil ||_agfb ==nil {return _fff .Black ;
};_bebcg ,_cddee :=_dedfg .ColorToRGB (_agfb );if _cddee !=nil {_e .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006fu\u006c\u0064\u0020no\u0074\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0025\u0076\u0020\u0028\u0025\u0076)\u0020\u0074\u006f\u0020\u0052\u0047\u0042\u003a \u0025\u0073",_agfb ,_dedfg ,_cddee );
return _fff .Black ;};_daeg ,_ddgda :=_bebcg .(*_eg .PdfColorDeviceRGB );if !_ddgda {_e .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020i\u006e\u0020\u0074\u0068\u0065\u0020\u0052\u0047\u0042\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0076",_bebcg );
return _fff .Black ;};return _fff .NRGBA {R :uint8 (_daeg .R ()*255),G :uint8 (_daeg .G ()*255),B :uint8 (_daeg .B ()*255),A :uint8 (255)};};var _gg =false ;func (_geb *textObject )setTextRise (_fea float64 ){if _geb ==nil {return ;};_geb ._cgc ._ddcb =_fea ;
};func (_eedg rulingList )sortStrict (){_c .Slice (_eedg ,func (_gafd ,_cba int )bool {_gcfg ,_edeg :=_eedg [_gafd ],_eedg [_cba ];_dcbc ,_ffed :=_gcfg ._bdcb ,_edeg ._bdcb ;if _dcbc !=_ffed {return _dcbc > _ffed ;};_aaca ,_ccgc :=_gcfg ._daba ,_edeg ._daba ;
if !_debf (_aaca -_ccgc ){return _aaca < _ccgc ;};_aaca ,_ccgc =_gcfg ._agdg ,_edeg ._agdg ;if _aaca !=_ccgc {return _aaca < _ccgc ;};return _gcfg ._eggd < _edeg ._eggd ;});};func (_cfdcaf *textTable )reduceTiling (_fgef gridTiling ,_fgfbf float64 )*textTable {_adbe :=make ([]int ,0,_cfdcaf ._eggcc );
_fdeaf :=make ([]int ,0,_cfdcaf ._ccff );_fcade :=_fgef ._cbfc ;_eefa :=_fgef ._bggc ;for _cgbd :=0;_cgbd < _cfdcaf ._eggcc ;_cgbd ++{_bcdg :=_cgbd > 0&&_ff .Abs (_eefa [_cgbd -1]-_eefa [_cgbd ])< _fgfbf &&_cfdcaf .emptyRow (_cgbd );if !_bcdg {_adbe =append (_adbe ,_cgbd );
};};for _bbae :=0;_bbae < _cfdcaf ._ccff ;_bbae ++{_cdfe :=_bbae < _cfdcaf ._ccff -1&&_ff .Abs (_fcade [_bbae +1]-_fcade [_bbae ])< _fgfbf &&_cfdcaf .emptyColumn (_bbae );if !_cdfe {_fdeaf =append (_fdeaf ,_bbae );};};if len (_adbe )==_cfdcaf ._eggcc &&len (_fdeaf )==_cfdcaf ._ccff {return _cfdcaf ;
};_deffe :=textTable {_ebec :_cfdcaf ._ebec ,_ccff :len (_fdeaf ),_eggcc :len (_adbe ),_dfaa :make (map[uint64 ]compositeCell ,len (_fdeaf )*len (_adbe ))};if _dgdd {_e .Log .Info ("\u0072\u0065\u0064\u0075c\u0065\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0025d\u0078%\u0064\u0020\u002d\u003e\u0020\u0025\u0064x\u0025\u0064",_cfdcaf ._ccff ,_cfdcaf ._eggcc ,len (_fdeaf ),len (_adbe ));
_e .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_fdeaf );_e .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_adbe );};for _dadge ,_cebb :=range _adbe {for _fdae ,_ggac :=range _fdeaf {_aagb ,_deagg :=_cfdcaf .getComposite (_ggac ,_cebb );
if len (_aagb )==0{continue ;};if _dgdd {_cf .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_fdae ,_dadge ,_ggac ,_cebb ,_gbcc (_aagb .merge ().text (),50));};_deffe .putComposite (_fdae ,_dadge ,_aagb ,_deagg );
};};return &_deffe ;};type rulingList []*ruling ;func _baaea (_efeea ,_bagb _gf .Point )bool {return _efeea .X ==_bagb .X &&_efeea .Y ==_bagb .Y };func (_bbaa *ruling )alignsSec (_eeee *ruling )bool {const _gagg =_bfgf +1.0;return _bbaa ._agdg -_gagg <=_eeee ._eggd &&_eeee ._agdg -_gagg <=_bbaa ._eggd ;
};func _ffgfd (_ffbg string )string {_geg :=[]rune (_ffbg );return string (_geg [:len (_geg )-1])};var _bccd =TextMark {Text :"\u005b\u0058\u005d",Original :"\u0020",Meta :true ,FillColor :_fff .White ,StrokeColor :_fff .White };func _decd (_eacf []_fb .PdfObject )(_dbdbe ,_bbcg float64 ,_aecfa error ){if len (_eacf )!=2{return 0,0,_cf .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0073\u003a \u0025\u0064",len (_eacf ));
};_fdbd ,_aecfa :=_fb .GetNumbersAsFloat (_eacf );if _aecfa !=nil {return 0,0,_aecfa ;};return _fdbd [0],_fdbd [1],nil ;};func (_faafc *ruling )encloses (_fgca ,_aggfc float64 )bool {return _faafc ._agdg -_cdcd <=_fgca &&_aggfc <=_faafc ._eggd +_cdcd ;
};func _cgadc (_cgdf _eg .PdfRectangle ,_befba []*textLine )*textPara {return &textPara {PdfRectangle :_cgdf ,_bca :_befba };};func _bfbb (_adec string )bool {if _fd .RuneCountInString (_adec )< _bfce {return false ;};_dccac ,_gdbf :=_fd .DecodeLastRuneInString (_adec );
if _gdbf <=0||!_dg .Is (_dg .Hyphen ,_dccac ){return false ;};_dccac ,_gdbf =_fd .DecodeLastRuneInString (_adec [:len (_adec )-_gdbf ]);return _gdbf > 0&&!_dg .IsSpace (_dccac );};func _dbda (_bbddc []*textMark ,_bfadf _eg .PdfRectangle )[]*textWord {var _cbfg []*textWord ;
var _aade *textWord ;if _ddce {_e .Log .Info ("\u006d\u0061\u006beT\u0065\u0078\u0074\u0057\u006f\u0072\u0064\u0073\u003a\u0020\u0025\u0064\u0020\u006d\u0061\u0072\u006b\u0073",len (_bbddc ));};_eegag :=func (){if _aade !=nil {_cggb :=_aade .computeText ();
if !_ffad (_cggb ){_aade ._adggd =_cggb ;_cbfg =append (_cbfg ,_aade );if _ddce {_e .Log .Info ("\u0061\u0064\u0064Ne\u0077\u0057\u006f\u0072\u0064\u003a\u0020\u0025\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",len (_cbfg )-1,_aade .String ());
for _fdfd ,_cgdfg :=range _aade ._gddc {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fdfd ,_cgdfg .String ());};};};_aade =nil ;};};for _ ,_abebe :=range _bbddc {if _bcg &&_aade !=nil &&len (_aade ._gddc )> 0{_bbbgc :=_aade ._gddc [len (_aade ._gddc )-1];
_bcab ,_abgdb :=_cffg (_abebe ._acaf );_gcagec ,_adbaf :=_cffg (_bbbgc ._acaf );if _abgdb &&!_adbaf &&_bbbgc .inDiacriticArea (_abebe ){_aade .addDiacritic (_bcab );continue ;};if _adbaf &&!_abgdb &&_abebe .inDiacriticArea (_bbbgc ){_aade ._gddc =_aade ._gddc [:len (_aade ._gddc )-1];
_aade .appendMark (_abebe ,_bfadf );_aade .addDiacritic (_gcagec );continue ;};};_ecebf :=_ffad (_abebe ._acaf );if _ecebf {_eegag ();continue ;};if _aade ==nil &&!_ecebf {_aade =_dfcda ([]*textMark {_abebe },_bfadf );continue ;};_dgagf :=_aade ._eggccf ;
_edec :=_ff .Abs (_aag (_bfadf ,_abebe )-_aade ._dbca )/_dgagf ;_egaf :=_geabf (_abebe ,_aade )/_dgagf ;if _egaf >=_bfgb ||!(-_acgb <=_egaf &&_edec <=_cdea ){_eegag ();_aade =_dfcda ([]*textMark {_abebe },_bfadf );continue ;};_aade .appendMark (_abebe ,_bfadf );
};_eegag ();return _cbfg ;};func (_fef *wordBag )applyRemovals (_ecff map[int ]map[*textWord ]struct{}){for _cffe ,_abd :=range _ecff {if len (_abd )==0{continue ;};_fbca :=_fef ._ffgbb [_cffe ];_fdef :=len (_fbca )-len (_abd );if _fdef ==0{delete (_fef ._ffgbb ,_cffe );
continue ;};_bfa :=make ([]*textWord ,_fdef );_gdd :=0;for _ ,_bece :=range _fbca {if _ ,_abad :=_abd [_bece ];!_abad {_bfa [_gdd ]=_bece ;_gdd ++;};};_fef ._ffgbb [_cffe ]=_bfa ;};};func (_ccgf *wordBag )firstReadingIndex (_cgcf int )int {_gbac :=_ccgf .firstWord (_cgcf )._eggccf ;
_gaca :=float64 (_cgcf +1)*_gadb ;_cacf :=_gaca +_bdca *_gbac ;_dfd :=_cgcf ;for _ ,_bee :=range _ccgf .depthBand (_gaca ,_cacf ){if _ddafd (_ccgf .firstWord (_bee ),_ccgf .firstWord (_dfd ))< 0{_dfd =_bee ;};};return _dfd ;};func (_edabd *textTable )put (_aabg ,_ccad int ,_dedb *textPara ){_edabd ._cabbe [_gcdf (_aabg ,_ccad )]=_dedb ;
};func (_gadg *shapesState )devicePoint (_abeg ,_fggb float64 )_gf .Point {_gdf :=_gadg ._eacc .Mult (_gadg ._cgeab );_abeg ,_fggb =_gdf .Transform (_abeg ,_fggb );return _gf .NewPoint (_abeg ,_fggb );};type textState struct{_ffa float64 ;_fgce float64 ;
_cfa float64 ;_dab float64 ;_becc float64 ;_gdbe RenderMode ;_ddcb float64 ;_dgab *_eg .PdfFont ;_afca _eg .PdfRectangle ;_ace int ;_dcfed int ;};func (_cbf paraList )readBefore (_eedc []int ,_fadde ,_eagf int )bool {_fecb ,_ffec :=_cbf [_fadde ],_cbf [_eagf ];
if _gfba (_fecb ,_ffec )&&_fecb .Lly > _ffec .Lly {return true ;};if !(_fecb ._bacf .Urx < _ffec ._bacf .Llx ){return false ;};_gbbf ,_dfac :=_fecb .Lly ,_ffec .Lly ;if _gbbf > _dfac {_dfac ,_gbbf =_gbbf ,_dfac ;};_becde :=_ff .Max (_fecb ._bacf .Llx ,_ffec ._bacf .Llx );
_afcab :=_ff .Min (_fecb ._bacf .Urx ,_ffec ._bacf .Urx );_aabag :=_cbf .llyRange (_eedc ,_gbbf ,_dfac );for _ ,_ddfdc :=range _aabag {if _ddfdc ==_fadde ||_ddfdc ==_eagf {continue ;};_bcdc :=_cbf [_ddfdc ];if _bcdc ._bacf .Llx <=_afcab &&_becde <=_bcdc ._bacf .Urx {return false ;
};};return true ;};func (_cace *textObject )setWordSpacing (_bed float64 ){if _cace ==nil {return ;};_cace ._cgc ._fgce =_bed ;};func (_dbef *wordBag )sort (){for _ ,_edac :=range _dbef ._ffgbb {_c .Slice (_edac ,func (_cdf ,_cdcf int )bool {return _ddafd (_edac [_cdf ],_edac [_cdcf ])< 0});
};};func _ddgaa (_ccbcg []pathSection ){if _agb < 0.0{return ;};if _gec {_e .Log .Info ("\u0067\u0072\u0061\u006e\u0075\u006c\u0061\u0072\u0069\u007a\u0065\u003a\u0020\u0025\u0064 \u0073u\u0062\u0070\u0061\u0074\u0068\u0020\u0073\u0065\u0063\u0074\u0069\u006f\u006e\u0073",len (_ccbcg ));
};for _bfaed ,_gfbca :=range _ccbcg {for _eaaad ,_caga :=range _gfbca ._fdf {for _aeeg ,_fdbbf :=range _caga ._cfgf {_caga ._cfgf [_aeeg ]=_gf .Point {X :_badgaf (_fdbbf .X ),Y :_badgaf (_fdbbf .Y )};if _gec {_egbd :=_caga ._cfgf [_aeeg ];if !_baaea (_fdbbf ,_egbd ){_dfaec :=_gf .Point {X :_egbd .X -_fdbbf .X ,Y :_egbd .Y -_fdbbf .Y };
_cf .Printf ("\u0025\u0034d \u002d\u0020\u00254\u0064\u0020\u002d\u0020%4d\u003a %\u002e\u0032\u0066\u0020\u2192\u0020\u0025.2\u0066\u0020\u0028\u0025\u0067\u0029\u000a",_bfaed ,_eaaad ,_aeeg ,_fdbbf ,_egbd ,_dfaec );};};};};};};

// String returns a description of `b`.
func (_caae *wordBag )String ()string {var _gded []string ;for _ ,_dfe :=range _caae .depthIndexes (){_adda :=_caae ._ffgbb [_dfe ];for _ ,_fdfb :=range _adda {_gded =append (_gded ,_fdfb ._adggd );};};return _cf .Sprintf ("\u0025.\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065=\u0025\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0025\u0071",_caae .PdfRectangle ,_caae ._efga ,len (_gded ),_gded );
};func _cacee (_cgbg *textWord ,_aefba float64 ,_cbba ,_gda rulingList )*wordBag {_dgdg :=_adgf (_cgbg ._dbca );_bagc :=[]*textWord {_cgbg };_abba :=wordBag {_ffgbb :map[int ][]*textWord {_dgdg :_bagc },PdfRectangle :_cgbg .PdfRectangle ,_efga :_cgbg ._eggccf ,_gaf :_aefba ,_ebge :_cbba ,_efec :_gda };
return &_abba ;};func _dfffb (_abge _gf .Matrix )_gf .Point {_bfd ,_abc :=_abge .Translation ();return _gf .Point {X :_bfd ,Y :_abc };};func _cgg (_agaf *wordBag ,_edg *textWord ,_cccd float64 )bool {return _agaf .Urx <=_edg .Llx &&_edg .Llx < _agaf .Urx +_cccd ;
};func (_egbg *wordBag )minDepth ()float64 {return _egbg ._gaf -(_egbg .Ury -_egbg ._efga )};

// String returns a string describing `ma`.
func (_eac TextMarkArray )String ()string {_aaac :=len (_eac ._ggbc );if _aaac ==0{return "\u0045\u004d\u0050T\u0059";};_dfae :=_eac ._ggbc [0];_ffaf :=_eac ._ggbc [_aaac -1];return _cf .Sprintf ("\u007b\u0054\u0045\u0058\u0054\u004d\u0041\u0052K\u0041\u0052\u0052AY\u003a\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025s\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d%\u0073\u007d",_aaac ,_dfae ,_ffaf );
};

// String returns a string descibing `i`.
func (_fgfb gridTile )String ()string {_cecd :=func (_cbca bool ,_fegf string )string {if _cbca {return _fegf ;};return "\u005f";};return _cf .Sprintf ("\u00256\u002e2\u0066\u0020\u0025\u0031\u0073%\u0031\u0073%\u0031\u0073\u0025\u0031\u0073",_fgfb .PdfRectangle ,_cecd (_fgfb ._eegc ,"\u004c"),_cecd (_fgfb ._dbabc ,"\u0052"),_cecd (_fgfb ._gccc ,"\u0042"),_cecd (_fgfb ._bbdbb ,"\u0054"));
};func (_gdfc *wordBag )arrangeText ()*textPara {_gdfc .sort ();if _dde {_gdfc .removeDuplicates ();};var _deae []*textLine ;for _ ,_fagf :=range _gdfc .depthIndexes (){for !_gdfc .empty (_fagf ){_ebagd :=_gdfc .firstReadingIndex (_fagf );_dgdfb :=_gdfc .firstWord (_ebagd );
_fgcc :=_gedc (_gdfc ,_ebagd );_gedb :=_dgdfb ._eggccf ;_cade :=_dgdfb ._dbca -_ced *_gedb ;_afcg :=_dgdfb ._dbca +_ced *_gedb ;_agdd :=_fae *_gedb ;_gadgg :=_eeba *_gedb ;_bfgfa :for {var _fgac *textWord ;_cede :=0;for _ ,_acdg :=range _gdfc .depthBand (_cade ,_afcg ){_bcgc :=_gdfc .highestWord (_acdg ,_cade ,_afcg );
if _bcgc ==nil {continue ;};_bgae :=_geabf (_bcgc ,_fgcc ._ecdad [len (_fgcc ._ecdad )-1]);if _bgae < -_gadgg {break _bfgfa ;};if _bgae > _agdd {continue ;};if _fgac !=nil &&_ddafd (_bcgc ,_fgac )>=0{continue ;};_fgac =_bcgc ;_cede =_acdg ;};if _fgac ==nil {break ;
};_fgcc .pullWord (_gdfc ,_fgac ,_cede );};_fgcc .markWordBoundaries ();_deae =append (_deae ,_fgcc );};};if len (_deae )==0{return nil ;};_c .Slice (_deae ,func (_ecbad ,_cdgg int )bool {return _bbab (_deae [_ecbad ],_deae [_cdgg ])< 0});_cdda :=_cgadc (_gdfc .PdfRectangle ,_deae );
if _bfg {_e .Log .Info ("\u0061\u0072\u0072an\u0067\u0065\u0054\u0065\u0078\u0074\u0020\u0021\u0021\u0021\u0020\u0070\u0061\u0072\u0061\u003d\u0025\u0073",_cdda .String ());if _adce {for _debdg ,_cagb :=range _cdda ._bca {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_debdg ,_cagb .String ());
if _gged {for _dbgaa ,_gega :=range _cagb ._ecdad {_cf .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_dbgaa ,_gega .String ());for _baga ,_dgcb :=range _gega ._gddc {_cf .Printf ("\u00251\u0032\u0064\u003a\u0020\u0025\u0073\n",_baga ,_dgcb .String ());
};};};};};};return _cdda ;};

// String returns a description of `t`.
func (_ddfed *textTable )String ()string {return _cf .Sprintf ("\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0025\u0074",_ddfed ._ccff ,_ddfed ._eggcc ,_ddfed ._ebec );};func (_cbdf *shapesState )establishSubpath ()*subpath {_abea ,_aebbg :=_cbdf .lastpointEstablished ();
if !_aebbg {_cbdf ._eea =append (_cbdf ._eea ,_abgd (_abea ));};if len (_cbdf ._eea )==0{return nil ;};_cbdf ._gea =false ;return _cbdf ._eea [len (_cbdf ._eea )-1];};const (_dafe rulingKind =iota ;_cgeg ;_daag ;);func (_agbe rulingList )removeDuplicates ()rulingList {if len (_agbe )==0{return nil ;
};_agbe .sort ();_gedbee :=rulingList {_agbe [0]};for _ ,_deffc :=range _agbe [1:]{if _deffc .equals (_gedbee [len (_gedbee )-1]){continue ;};_gedbee =append (_gedbee ,_deffc );};return _gedbee ;};type textWord struct{_eg .PdfRectangle ;_dbca float64 ;
_adggd string ;_gddc []*textMark ;_eggccf float64 ;_bbcc bool ;};func (_ade *imageExtractContext )processOperand (_ba *_bf .ContentStreamOperation ,_ge _bf .GraphicsState ,_ag *_eg .PdfPageResources )error {if _ba .Operand =="\u0042\u0049"&&len (_ba .Params )==1{_da ,_bc :=_ba .Params [0].(*_bf .ContentStreamInlineImage );
if !_bc {return nil ;};if _bg ,_fe :=_fb .GetBoolVal (_da .ImageMask );_fe {if _bg &&!_ade ._eba .IncludeInlineStencilMasks {return nil ;};};return _ade .extractInlineImage (_da ,_ge ,_ag );}else if _ba .Operand =="\u0044\u006f"&&len (_ba .Params )==1{_add ,_bda :=_fb .GetName (_ba .Params [0]);
if !_bda {_e .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");return _bd ;};_ ,_abe :=_ag .GetXObjectByName (*_add );switch _abe {case _eg .XObjectTypeImage :return _ade .extractXObjectImage (_add ,_ge ,_ag );case _eg .XObjectTypeForm :return _ade .extractFormImages (_add ,_ge ,_ag );
};};return nil ;};func (_ebbb *shapesState )drawRectangle (_cae ,_fgd ,_geeg ,_ecdg float64 ){if _aca {_cbbe :=_ebbb .devicePoint (_cae ,_fgd );_eegaa :=_ebbb .devicePoint (_cae +_geeg ,_fgd +_ecdg );_egga :=_eg .PdfRectangle {Llx :_cbbe .X ,Lly :_cbbe .Y ,Urx :_eegaa .X ,Ury :_eegaa .Y };
_e .Log .Info ("d\u0072a\u0077\u0052\u0065\u0063\u0074\u0061\u006e\u0067l\u0065\u003a\u0020\u00256.\u0032\u0066",_egga );};_ebbb .newSubPath ();_ebbb .moveTo (_cae ,_fgd );_ebbb .lineTo (_cae +_geeg ,_fgd );_ebbb .lineTo (_cae +_geeg ,_fgd +_ecdg );_ebbb .lineTo (_cae ,_fgd +_ecdg );
_ebbb .closePath ();};func (_fbea *textTable )isExportable ()bool {if _fbea ._ebec {return true ;};_gdfa :=func (_gdea int )bool {_bdeeg :=_fbea .get (0,_gdea );if _bdeeg ==nil {return false ;};_efgag :=_bdeeg .text ();_cagg :=_fd .RuneCountInString (_efgag );
_ggcbe :=_dbeg .MatchString (_efgag );return _cagg <=1||_ggcbe ;};for _gacbc :=0;_gacbc < _fbea ._eggcc ;_gacbc ++{if !_gdfa (_gacbc ){return true ;};};return false ;};func _bbbd (_defg _eg .PdfRectangle )textState {return textState {_cfa :100,_gdbe :RenderModeFill ,_afca :_defg };
};func (_ffgc *textWord )toTextMarks (_edga *int )[]TextMark {var _aefgf []TextMark ;for _ ,_cbdg :=range _ffgc ._gddc {_aefgf =_adeb (_aefgf ,_edga ,_cbdg .ToTextMark ());};return _aefgf ;};func _cgac (_aeaa map[int ][]float64 )[]int {_ddec :=make ([]int ,len (_aeaa ));
_dabdf :=0;for _gcece :=range _aeaa {_ddec [_dabdf ]=_gcece ;_dabdf ++;};_c .Ints (_ddec );return _ddec ;};func (_fcff *subpath )removeDuplicates (){if len (_fcff ._cfgf )==0{return ;};_ffbf :=[]_gf .Point {_fcff ._cfgf [0]};for _ ,_dfcd :=range _fcff ._cfgf [1:]{if !_baaea (_dfcd ,_ffbf [len (_ffbf )-1]){_ffbf =append (_ffbf ,_dfcd );
};};_fcff ._cfgf =_ffbf ;};func (_effcd *wordBag )absorb (_ccca *wordBag ){_eaeb :=_ccca .makeRemovals ();for _ccb ,_fgdf :=range _ccca ._ffgbb {for _ ,_gcgd :=range _fgdf {_effcd .pullWord (_gcgd ,_ccb ,_eaeb );};};_ccca .applyRemovals (_eaeb );};func _bbab (_egce ,_deab bounded )float64 {_ebag :=_edca (_egce ,_deab );
if !_debf (_ebag ){return _ebag ;};return _ddafd (_egce ,_deab );};type wordBag struct{_eg .PdfRectangle ;_efga float64 ;_ebge ,_efec rulingList ;_gaf float64 ;_ffgbb map[int ][]*textWord ;};func _baeg (_fdcdg map[int ][]float64 ){if len (_fdcdg )<=1{return ;
};_bcea :=_cgac (_fdcdg );if _dgdd {_e .Log .Info ("\u0066i\u0078C\u0065\u006c\u006c\u0073\u003a \u006b\u0065y\u0073\u003d\u0025\u002b\u0076",_bcea );};var _gbgg ,_dfge int ;for _gbgg ,_dfge =range _bcea {if _fdcdg [_dfge ]!=nil {break ;};};for _eege ,_gece :=range _bcea [_gbgg :]{_bcde :=_fdcdg [_gece ];
if _bcde ==nil {continue ;};if _dgdd {_cf .Printf ("\u0025\u0034\u0064\u003a\u0020\u006b\u0030\u003d\u0025\u0064\u0020\u006b1\u003d\u0025\u0064\u000a",_gbgg +_eege ,_dfge ,_gece );};_gdeg :=_fdcdg [_gece ];if _gdeg [len (_gdeg )-1]> _bcde [0]{_gdeg [len (_gdeg )-1]=_bcde [0];
_fdcdg [_dfge ]=_gdeg ;};_dfge =_gece ;};};func (_gbfe lineRuling )yMean ()float64 {return 0.5*(_gbfe ._gcea .Y +_gbfe ._dgbb .Y )};func _fbfb (_cdbc ,_dbaba int )int {if _cdbc < _dbaba {return _cdbc ;};return _dbaba ;};func (_efbb *textTable )logComposite (_efdec string ){if !_dgdd {return ;
};_e .Log .Info ("\u007e~\u007eP\u0061\u0072\u0061\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_efbb ._ccff ,_efbb ._eggcc ,_efdec );_cf .Printf ("\u0025\u0035\u0073 \u007c","");for _caceea :=0;_caceea < _efbb ._ccff ;_caceea ++{_cf .Printf ("\u0025\u0033\u0064 \u007c",_caceea );
};_cf .Println ("");_cf .Printf ("\u0025\u0035\u0073 \u002b","");for _bfff :=0;_bfff < _efbb ._ccff ;_bfff ++{_cf .Printf ("\u0025\u0033\u0073 \u002b","\u002d\u002d\u002d");};_cf .Println ("");for _gefb :=0;_gefb < _efbb ._eggcc ;_gefb ++{_cf .Printf ("\u0025\u0035\u0064 \u007c",_gefb );
for _dfdf :=0;_dfdf < _efbb ._ccff ;_dfdf ++{_fafae ,_ :=_efbb ._dfaa [_gcdf (_dfdf ,_gefb )].parasBBox ();_cf .Printf ("\u0025\u0033\u0064 \u007c",len (_fafae ));};_cf .Println ("");};_e .Log .Info ("\u007e~\u007eT\u0065\u0078\u0074\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_efbb ._ccff ,_efbb ._eggcc ,_efdec );
_cf .Printf ("\u0025\u0035\u0073 \u007c","");for _dgdb :=0;_dgdb < _efbb ._ccff ;_dgdb ++{_cf .Printf ("\u0025\u0031\u0032\u0064\u0020\u007c",_dgdb );};_cf .Println ("");_cf .Printf ("\u0025\u0035\u0073 \u002b","");for _gfcac :=0;_gfcac < _efbb ._ccff ;
_gfcac ++{_cf .Print ("\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d-\u002d\u002d\u002d\u002b");};_cf .Println ("");for _cfdba :=0;_cfdba < _efbb ._eggcc ;_cfdba ++{_cf .Printf ("\u0025\u0035\u0064 \u007c",_cfdba );for _ceddf :=0;_ceddf < _efbb ._ccff ;
_ceddf ++{_dfbg ,_ :=_efbb ._dfaa [_gcdf (_ceddf ,_cfdba )].parasBBox ();_gddbb :="";_dbgd :=_dfbg .merge ();if _dbgd !=nil {_gddbb =_dbgd .text ();};_gddbb =_cf .Sprintf ("\u0025\u0071",_gbcc (_gddbb ,12));_gddbb =_gddbb [1:len (_gddbb )-1];_cf .Printf ("\u0025\u0031\u0032\u0073\u0020\u007c",_gddbb );
};_cf .Println ("");};};

// String returns a string describing `tm`.
func (_gdbeb TextMark )String ()string {_eaff :=_gdbeb .BBox ;var _cab string ;if _gdbeb .Font !=nil {_cab =_gdbeb .Font .String ();if len (_cab )> 50{_cab =_cab [:50]+"\u002e\u002e\u002e";};};var _cacb string ;if _gdbeb .Meta {_cacb ="\u0020\u002a\u004d\u002a";
};return _cf .Sprintf ("\u007b\u0054\u0065\u0078t\u004d\u0061\u0072\u006b\u003a\u0020\u0025\u0064\u0020%\u0071\u003d\u0025\u0030\u0032\u0078\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e2\u0066\u0029\u0020\u0028\u00256\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0025\u0073\u007d",_gdbeb .Offset ,_gdbeb .Text ,[]rune (_gdbeb .Text ),_eaff .Llx ,_eaff .Lly ,_eaff .Urx ,_eaff .Ury ,_cab ,_cacb );
};func _adgf (_ffce float64 )int {var _eefg int ;if _ffce >=0{_eefg =int (_ffce /_gadb );}else {_eefg =int (_ffce /_gadb )-1;};return _eefg ;};func _edda (_fcfc ,_addcc _gf .Point )rulingKind {_ecgbg :=_ff .Abs (_fcfc .X -_addcc .X );_eebe :=_ff .Abs (_fcfc .Y -_addcc .Y );
return _ggebd (_ecgbg ,_eebe ,_gecb );};func (_cdfag rulingList )augmentGrid ()(rulingList ,rulingList ){_gfdb ,_eafb :=_cdfag .vertsHorzs ();if len (_gfdb )==0||len (_eafb )==0{return _gfdb ,_eafb ;};_bdcgf ,_aadc :=_gfdb ,_eafb ;_afaag :=_gfdb .bbox ();
_ecad :=_eafb .bbox ();if _gec {_e .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0056\u003d\u0025\u0036\u002e\u0032\u0066",_afaag );_e .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0048\u003d\u0025\u0036\u002e\u0032\u0066",_ecad );
};var _dbecc ,_bbbgdd ,_bacb ,_ddeb *ruling ;if _ecad .Llx < _afaag .Llx -_cdcd {_dbecc =&ruling {_afg :_eebd ,_bdcb :_daag ,_daba :_ecad .Llx ,_agdg :_afaag .Lly ,_eggd :_afaag .Ury };_gfdb =append (rulingList {_dbecc },_gfdb ...);};if _ecad .Urx > _afaag .Urx +_cdcd {_bbbgdd =&ruling {_afg :_eebd ,_bdcb :_daag ,_daba :_ecad .Urx ,_agdg :_afaag .Lly ,_eggd :_afaag .Ury };
_gfdb =append (_gfdb ,_bbbgdd );};if _afaag .Lly < _ecad .Lly -_cdcd {_bacb =&ruling {_afg :_eebd ,_bdcb :_cgeg ,_daba :_afaag .Lly ,_agdg :_ecad .Llx ,_eggd :_ecad .Urx };_eafb =append (rulingList {_bacb },_eafb ...);};if _afaag .Ury > _ecad .Ury +_cdcd {_ddeb =&ruling {_afg :_eebd ,_bdcb :_cgeg ,_daba :_afaag .Ury ,_agdg :_ecad .Llx ,_eggd :_ecad .Urx };
_eafb =append (_eafb ,_ddeb );};if len (_gfdb )+len (_eafb )==len (_cdfag ){return _bdcgf ,_aadc ;};_bdga :=append (_gfdb ,_eafb ...);_cdfag .log ("u\u006e\u0061\u0075\u0067\u006d\u0065\u006e\u0074\u0065\u0064");_bdga .log ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0065d");
return _gfdb ,_eafb ;};

// Elements returns the TextMarks in `ma`.
func (_dbb *TextMarkArray )Elements ()[]TextMark {return _dbb ._ggbc };type textLine struct{_eg .PdfRectangle ;_ccdb float64 ;_ecdad []*textWord ;_geea float64 ;};func _fac (_cefd ,_fbcb bounded )float64 {_gdde :=_ddafd (_cefd ,_fbcb );if !_debf (_gdde ){return _gdde ;
};return _edca (_cefd ,_fbcb );};func (_dbd *imageExtractContext )extractXObjectImage (_fbc *_fb .PdfObjectName ,_agf _bf .GraphicsState ,_fa *_eg .PdfPageResources )error {_dgf ,_ :=_fa .GetXObjectByName (*_fbc );if _dgf ==nil {return nil ;};_ebbd ,_ce :=_dbd ._fc [_dgf ];
if !_ce {_cbg ,_cbga :=_fa .GetXObjectImageByName (*_fbc );if _cbga !=nil {return _cbga ;};if _cbg ==nil {return nil ;};_ae ,_cbga :=_cbg .ToImage ();if _cbga !=nil {return _cbga ;};_ebbd =&cachedImage {_gc :_ae ,_eff :_cbg .ColorSpace };_dbd ._fc [_dgf ]=_ebbd ;
};_dfc :=_ebbd ._gc ;_bag :=_ebbd ._eff ;_gca ,_ggb :=_bag .ImageToRGB (*_dfc );if _ggb !=nil {return _ggb ;};_e .Log .Debug ("@\u0044\u006f\u0020\u0043\u0054\u004d\u003a\u0020\u0025\u0073",_agf .CTM .String ());_gcc :=ImageMark {Image :&_gca ,Width :_agf .CTM .ScalingFactorX (),Height :_agf .CTM .ScalingFactorY (),Angle :_agf .CTM .Angle ()};
_gcc .X ,_gcc .Y =_agf .CTM .Translation ();_dbd ._ecg =append (_dbd ._ecg ,_gcc );_dbd ._ad ++;return nil ;};func _gbcc (_bdfc string ,_cbdcd int )string {if len (_bdfc )< _cbdcd {return _bdfc ;};return _bdfc [:_cbdcd ];};

// Tables returns the tables extracted from the page.
func (_gfab PageText )Tables ()[]TextTable {if _dgdd {_e .Log .Info ("\u0054\u0061\u0062\u006c\u0065\u0073\u003a\u0020\u0025\u0064",len (_gfab ._cfea ));};return _gfab ._cfea ;};func _ddgd (_abedf []*textWord ,_gfe float64 ,_bbba ,_ecdgc rulingList )*wordBag {_bcbb :=_cacee (_abedf [0],_gfe ,_bbba ,_ecdgc );
for _ ,_cfbe :=range _abedf [1:]{_ffae :=_adgf (_cfbe ._dbca );_bcbb ._ffgbb [_ffae ]=append (_bcbb ._ffgbb [_ffae ],_cfbe );_bcbb .PdfRectangle =_ebba (_bcbb .PdfRectangle ,_cfbe .PdfRectangle );};_bcbb .sort ();return _bcbb ;};var (_bd =_g .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");
_ec =_g .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func (_fddb *stateStack )size ()int {return len (*_fddb )};func _fdcc (_gbbb *Extractor ,_ebbdb *_eg .PdfPageResources ,_ddd _bf .GraphicsState ,_bdc *textState ,_dffb *stateStack )*textObject {return &textObject {_eggg :_gbbb ,_ecgcc :_ebbdb ,_eggf :_ddd ,_egag :_dffb ,_cgc :_bdc ,_abg :_gf .IdentityMatrix (),_bbbb :_gf .IdentityMatrix ()};
};func (_ccagb rulingList )blocks (_dgdee ,_egbfg *ruling )bool {if _dgdee ._agdg > _egbfg ._eggd ||_egbfg ._agdg > _dgdee ._eggd {return false ;};_fbcbb :=_ff .Max (_dgdee ._agdg ,_egbfg ._agdg );_ffdb :=_ff .Min (_dgdee ._eggd ,_egbfg ._eggd );if _dgdee ._daba > _egbfg ._daba {_dgdee ,_egbfg =_egbfg ,_dgdee ;
};for _ ,_gffd :=range _ccagb {if _dgdee ._daba <=_gffd ._daba +_bfgf &&_gffd ._daba <=_egbfg ._daba +_bfgf &&_gffd ._agdg <=_ffdb &&_fbcbb <=_gffd ._eggd {return true ;};};return false ;};func (_aaegd *textTable )bbox ()_eg .PdfRectangle {return _aaegd .PdfRectangle };
func (_bbeb paraList )llyOrdering ()[]int {_cacgc :=make ([]int ,len (_bbeb ));for _dbec :=range _bbeb {_cacgc [_dbec ]=_dbec ;};_c .SliceStable (_cacgc ,func (_bfcgb ,_fdbc int )bool {_fddc ,_gdad :=_cacgc [_bfcgb ],_cacgc [_fdbc ];return _bbeb [_fddc ].Lly < _bbeb [_gdad ].Lly ;
});return _cacgc ;};func (_fabeg rulingList )mergePrimary ()float64 {_eefc :=_fabeg [0]._daba ;for _ ,_gfgf :=range _fabeg [1:]{_eefc +=_gfgf ._daba ;};return _eefc /float64 (len (_fabeg ));};func (_dffbe rulingList )vertsHorzs ()(rulingList ,rulingList ){var _bffa ,_fbddd rulingList ;
for _ ,_cfgb :=range _dffbe {switch _cfgb ._bdcb {case _daag :_bffa =append (_bffa ,_cfgb );case _cgeg :_fbddd =append (_fbddd ,_cfgb );};};return _bffa ,_fbddd ;};func _egba (_faacfc []int )[]int {_gdce :=make ([]int ,len (_faacfc ));for _ffgf ,_bedg :=range _faacfc {_gdce [len (_faacfc )-1-_ffgf ]=_bedg ;
};return _gdce ;};type textTable struct{_eg .PdfRectangle ;_ccff ,_eggcc int ;_ebec bool ;_cabbe map[uint64 ]*textPara ;_dfaa map[uint64 ]compositeCell ;};func _cbcd (_gdead map[int ][]float64 )string {_dfed :=_cgac (_gdead );_dgfg :=make ([]string ,len (_gdead ));
for _cbcde ,_dgec :=range _dfed {_dgfg [_cbcde ]=_cf .Sprintf ("\u0025\u0064\u003a\u0020\u0025\u002e\u0032\u0066",_dgec ,_gdead [_dgec ]);};return _cf .Sprintf ("\u007b\u0025\u0073\u007d",_b .Join (_dgfg ,"\u002c\u0020"));};func (_feef *shapesState )moveTo (_eeef ,_adfe float64 ){_feef ._gea =true ;
_feef ._dec =_feef .devicePoint (_eeef ,_adfe );if _aca {_e .Log .Info ("\u006d\u006fv\u0065\u0054\u006f\u003a\u0020\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0064\u0065\u0076\u0069\u0063\u0065\u003d%.\u0032\u0066",_eeef ,_adfe ,_feef ._dec );
};};

// ImageExtractOptions contains options for controlling image extraction from
// PDF pages.
type ImageExtractOptions struct{IncludeInlineStencilMasks bool ;};func _ddbb (_dbde []float64 ,_bbdf ,_ggag float64 )[]float64 {_bgfb ,_bcag :=_bbdf ,_ggag ;if _bcag < _bgfb {_bgfb ,_bcag =_bcag ,_bgfb ;};_bgfbb :=make ([]float64 ,0,len (_dbde )+2);_bgfbb =append (_bgfbb ,_bbdf );
for _ ,_dgee :=range _dbde {if _dgee <=_bgfb {continue ;}else if _dgee >=_bcag {break ;};_bgfbb =append (_bgfbb ,_dgee );};_bgfbb =append (_bgfbb ,_ggag );return _bgfbb ;};func (_gdca *textLine )text ()string {var _gbcd []string ;for _ ,_cfbdg :=range _gdca ._ecdad {if _cfbdg ._bbcc {_gbcd =append (_gbcd ,"\u0020");
};_gbcd =append (_gbcd ,_cfbdg ._adggd );};return _b .Join (_gbcd ,"");};

// PageImages represents extracted images on a PDF page with spatial information:
// display position and size.
type PageImages struct{Images []ImageMark ;};func (_bfcbb *textTable )markCells (){for _afff :=0;_afff < _bfcbb ._eggcc ;_afff ++{for _cedfa :=0;_cedfa < _bfcbb ._ccff ;_cedfa ++{_baaec :=_bfcbb .get (_cedfa ,_afff );if _baaec !=nil {_baaec ._edeee =true ;
};};};};func (_dbfa *textTable )emptyColumn (_cecca int )bool {for _efcf :=0;_efcf < _dbfa ._eggcc ;_efcf ++{_abdc :=_dbfa .get (_cecca ,_efcf );if _abdc !=nil &&_abdc .text ()!=""{return false ;};};return true ;};func (_aebbb gridTiling )log (_aaaf string ){if !_ggab {return ;
};_e .Log .Info ("\u0074i\u006ci\u006e\u0067\u003a\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0071",len (_aebbb ._cbfc ),len (_aebbb ._bggc ),_aaaf );_cf .Printf ("\u0020\u0020\u0020l\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a",_aebbb ._cbfc );
_cf .Printf ("\u0020\u0020\u0020l\u006c\u0079\u003d\u0025\u002e\u0032\u0066\u000a",_aebbb ._bggc );for _eaba ,_cbac :=range _aebbb ._bggc {_eefe ,_cgeec :=_aebbb ._bdbd [_cbac ];if !_cgeec {continue ;};_cf .Printf ("%\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_eaba ,_cbac );
for _gbba ,_feab :=range _aebbb ._cbfc {_aebga ,_bddg :=_eefe [_feab ];if !_bddg {continue ;};_cf .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_gbba ,_aebga .String ());};};};func (_aggf rectRuling )checkWidth (_ccdbc ,_cebdc float64 )(float64 ,bool ){_cbce :=_cebdc -_ccdbc ;
_gedbe :=_cbce <=_bfgf ;return _cbce ,_gedbe ;};func (_gcad rulingList )toGrids ()[]rulingList {if _gec {_e .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_gcad );};_fdde :=_gcad .intersections ();if _gec {_e .Log .Info ("\u0074\u006f\u0047r\u0069\u0064\u0073\u003a \u0076\u0065\u0063\u0073\u003d\u0025\u0064 \u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003d\u0025\u0064\u0020",len (_gcad ),len (_fdde ));
for _ ,_gbeg :=range _cbcac (_fdde ){_cf .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_gbeg ,_fdde [_gbeg ]);};};_fgeb :=make (map[int ]intSet ,len (_gcad ));for _ffcaa :=range _gcad {_geffb :=_gcad .connections (_fdde ,_ffcaa );if len (_geffb )> 0{_fgeb [_ffcaa ]=_geffb ;
};};if _gec {_e .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0063\u006fn\u006e\u0065\u0063\u0074s=\u0025\u0064",len (_fgeb ));for _ ,_ggcea :=range _cbcac (_fgeb ){_cf .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_ggcea ,_fgeb [_ggcea ]);
};};_gcbb :=_gfeg (len (_gcad ),func (_bcfb ,_ccddc int )bool {_egeb ,_ccgg :=len (_fgeb [_bcfb ]),len (_fgeb [_ccddc ]);if _egeb !=_ccgg {return _egeb > _ccgg ;};return _gcad .comp (_bcfb ,_ccddc );});if _gec {_e .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u006f\u0072d\u0065\u0072\u0069\u006eg=\u0025\u0076",_gcbb );
};_dfgb :=[][]int {{_gcbb [0]}};_ebaf :for _ ,_aadg :=range _gcbb [1:]{for _egdda ,_bbga :=range _dfgb {for _ ,_dffg :=range _bbga {if _fgeb [_dffg ].has (_aadg ){_dfgb [_egdda ]=append (_bbga ,_aadg );continue _ebaf ;};};};_dfgb =append (_dfgb ,[]int {_aadg });
};if _gec {_e .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020i\u0067\u0072i\u0064\u0073\u003d\u0025\u0076",_dfgb );};_c .SliceStable (_dfgb ,func (_dfdd ,_ffeb int )bool {return len (_dfgb [_dfdd ])> len (_dfgb [_ffeb ])});for _ ,_gegb :=range _dfgb {_c .Slice (_gegb ,func (_fdefb ,_ecac int )bool {return _gcad .comp (_gegb [_fdefb ],_gegb [_ecac ])});
};_fecab :=make ([]rulingList ,len (_dfgb ));for _efbf ,_cacga :=range _dfgb {_cege :=make (rulingList ,len (_cacga ));for _cfag ,_ffeg :=range _cacga {_cege [_cfag ]=_gcad [_ffeg ];};_fecab [_efbf ]=_cege ;};if _gec {_e .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020g\u0072\u0069d\u0073\u003d\u0025\u002b\u0076",_fecab );
};var _gfd []rulingList ;for _ ,_fcccc :=range _fecab {if _bcda ,_gadbf :=_fcccc .isActualGrid ();_gadbf {_fcccc =_bcda ;_fcccc =_fcccc .snapToGroups ();_gfd =append (_gfd ,_fcccc );};};if _gec {_decf ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0061\u0063t\u0075\u0061\u006c\u0047ri\u0064\u0073",_gfd );
_e .Log .Info ("\u0074\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0067\u0072\u0069\u0064\u0073\u003d%\u0064 \u0061\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u0073\u003d\u0025\u0064",len (_fecab ),len (_gfd ));};return _gfd ;};func (_acfa *wordBag )removeDuplicates (){if _dedf {_e .Log .Info ("r\u0065m\u006f\u0076\u0065\u0044\u0075\u0070\u006c\u0069c\u0061\u0074\u0065\u0073: \u0025\u0071",_acfa .text ());
};for _ ,_efbe :=range _acfa .depthIndexes (){if len (_acfa ._ffgbb [_efbe ])==0{continue ;};_fcgb :=_acfa ._ffgbb [_efbe ][0];_acgc :=_aagd *_fcgb ._eggccf ;_bgeea :=_fcgb ._dbca ;for _ ,_abab :=range _acfa .depthBand (_bgeea ,_bgeea +_acgc ){_gddb :=map[*textWord ]struct{}{};
_agaa :=_acfa ._ffgbb [_abab ];for _ ,_eagdb :=range _agaa {if _ ,_faf :=_gddb [_eagdb ];_faf {continue ;};for _ ,_afaae :=range _agaa {if _ ,_aead :=_gddb [_afaae ];_aead {continue ;};if _afaae !=_eagdb &&_afaae ._adggd ==_eagdb ._adggd &&_ff .Abs (_afaae .Llx -_eagdb .Llx )< _acgc &&_ff .Abs (_afaae .Urx -_eagdb .Urx )< _acgc &&_ff .Abs (_afaae .Lly -_eagdb .Lly )< _acgc &&_ff .Abs (_afaae .Ury -_eagdb .Ury )< _acgc {_gddb [_afaae ]=struct{}{};
};};};if len (_gddb )> 0{_bagg :=0;for _ ,_dcgd :=range _agaa {if _ ,_gecd :=_gddb [_dcgd ];!_gecd {_agaa [_bagg ]=_dcgd ;_bagg ++;};};_acfa ._ffgbb [_abab ]=_agaa [:len (_agaa )-len (_gddb )];if len (_acfa ._ffgbb [_abab ])==0{delete (_acfa ._ffgbb ,_abab );
};};};};};func _ddafd (_gfcb ,_bgd bounded )float64 {return _gfcb .bbox ().Llx -_bgd .bbox ().Llx };func (_efde rulingList )intersections ()map[int ]intSet {var _adga ,_aegf []int ;for _daaga ,_gebb :=range _efde {switch _gebb ._bdcb {case _daag :_adga =append (_adga ,_daaga );
case _cgeg :_aegf =append (_aegf ,_daaga );};};if len (_adga )< _cfccb +1||len (_aegf )< _begf +1{return nil ;};if len (_adga )+len (_aegf )> _gcec {_e .Log .Debug ("\u0069\u006e\u0074\u0065\u0072\u0073e\u0063\u0074\u0069\u006f\u006e\u0073\u003a\u0020\u0054\u004f\u004f\u0020\u004d\u0041\u004e\u0059\u0020\u0072\u0075\u006ci\u006e\u0067\u0073\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u003d\u0020%\u0064 \u0078\u0020\u0025\u0064",len (_efde ),len (_adga ),len (_aegf ));
return nil ;};_cabe :=make (map[int ]intSet ,len (_adga )+len (_aegf ));for _ ,_fefcd :=range _adga {for _ ,_accaf :=range _aegf {if _efde [_fefcd ].intersects (_efde [_accaf ]){if _ ,_bggf :=_cabe [_fefcd ];!_bggf {_cabe [_fefcd ]=make (intSet );};if _ ,_cded :=_cabe [_accaf ];
!_cded {_cabe [_accaf ]=make (intSet );};_cabe [_fefcd ].add (_accaf );_cabe [_accaf ].add (_fefcd );};};};return _cabe ;};func (_bddda paraList )reorder (_eccc []int ){_ebcb :=make (paraList ,len (_bddda ));for _adge ,_aegbc :=range _eccc {_ebcb [_adge ]=_bddda [_aegbc ];
};copy (_bddda ,_ebcb );};

// PageText represents the layout of text on a device page.
type PageText struct{_gba []*textMark ;_afef string ;_dac []TextMark ;_cfea []TextTable ;_feb _eg .PdfRectangle ;_defb []pathSection ;_gadd []pathSection ;};func _efeec (_bbccd *PageText )error {_fcgfg :=_a .GetLicenseKey ();if _fcgfg !=nil &&_fcgfg .IsLicensed ()||_gg {return nil ;
};_cf .Printf ("\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064\u0020c\u006f\u0070\u0079\u0020\u006f\u0066\u0020\u0055\u006e\u0069P\u0044\u0046\u000a");_cf .Println ("-\u0020\u0047\u0065\u0074\u0020\u0061\u0020\u0066\u0072e\u0065\u0020\u0074\u0072\u0069\u0061\u006c l\u0069\u0063\u0065\u006es\u0065\u0020\u006f\u006e\u0020\u0068\u0074\u0074\u0070s:\u002f\u002fu\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");
return _g .New ("\u0075\u006e\u0069\u0070d\u0066\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020c\u006fd\u0065\u0020\u0072\u0065\u0071\u0075\u0069r\u0065\u0064");};

// String returns a string describing the current state of the textState stack.
func (_fcda *stateStack )String ()string {_ccdf :=[]string {_cf .Sprintf ("\u002d\u002d\u002d\u002d f\u006f\u006e\u0074\u0020\u0073\u0074\u0061\u0063\u006b\u003a\u0020\u0025\u0064",len (*_fcda ))};for _caa ,_fed :=range *_fcda {_dcfe :="\u003c\u006e\u0069l\u003e";
if _fed !=nil {_dcfe =_fed .String ();};_ccdf =append (_ccdf ,_cf .Sprintf ("\u0009\u0025\u0032\u0064\u003a\u0020\u0025\u0073",_caa ,_dcfe ));};return _b .Join (_ccdf ,"\u000a");};func _gffcd (_dbbc []*textWord ,_dbege int )[]*textWord {_bfcga :=len (_dbbc );
copy (_dbbc [_dbege :],_dbbc [_dbege +1:]);return _dbbc [:_bfcga -1];};const (_dgdf =true ;_dde =true ;_bcg =true ;_feca =false ;_dfdb =false ;_dgdge =6;_badg =3.0;_becg =200;_cfcc =true ;_afad =true ;_egabc =true ;_bfac =true ;_dccb =false ;);

// ExtractPageText returns the text contents of `e` (an Extractor for a page) as a PageText.
// TODO(peterwilliams97): The stats complicate this function signature and aren't very useful.
//                        Replace with a function like Extract() (*PageText, error)
func (_ea *Extractor )ExtractPageText ()(*PageText ,int ,int ,error ){_eef ,_dcdc ,_bbd ,_ead :=_ea .extractPageText (_ea ._dgg ,_ea ._egg ,_gf .IdentityMatrix (),0);if _ead !=nil {return nil ,0,0,_ead ;};_eef .computeViews ();_ead =_efeec (_eef );if _ead !=nil {return nil ,0,0,_ead ;
};return _eef ,_dcdc ,_bbd ,nil ;};const _gcgc =10;func (_gdff compositeCell )String ()string {_bddc :="";if len (_gdff .paraList )> 0{_bddc =_gbcc (_gdff .paraList .merge ().text (),50);};return _cf .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0070\u0061\u0072a\u0073\u0020\u0025\u0071",_gdff .PdfRectangle ,len (_gdff .paraList ),_bddc );
};func (_abac *wordBag )makeRemovals ()map[int ]map[*textWord ]struct{}{_bgee :=make (map[int ]map[*textWord ]struct{},len (_abac ._ffgbb ));for _fgde :=range _abac ._ffgbb {_bgee [_fgde ]=make (map[*textWord ]struct{});};return _bgee ;};func (_dbff paraList )addNeighbours (){_feda :=func (_abcc []int ,_gffb *textPara )([]*textPara ,[]*textPara ){_dddd :=make ([]*textPara ,0,len (_abcc )-1);
_ccce :=make ([]*textPara ,0,len (_abcc )-1);for _ ,_ebcda :=range _abcc {_bbgb :=_dbff [_ebcda ];if _bbgb .Urx <=_gffb .Llx {_dddd =append (_dddd ,_bbgb );}else if _bbgb .Llx >=_gffb .Urx {_ccce =append (_ccce ,_bbgb );};};return _dddd ,_ccce ;};_becee :=func (_fdeg []int ,_gdec *textPara )([]*textPara ,[]*textPara ){_acgf :=make ([]*textPara ,0,len (_fdeg )-1);
_bedfcd :=make ([]*textPara ,0,len (_fdeg )-1);for _ ,_caad :=range _fdeg {_debg :=_dbff [_caad ];if _debg .Ury <=_gdec .Lly {_bedfcd =append (_bedfcd ,_debg );}else if _debg .Lly >=_gdec .Ury {_acgf =append (_acgf ,_debg );};};return _acgf ,_bedfcd ;};
_fecac :=_dbff .yNeighbours (_fcce );for _ ,_afdga :=range _dbff {_cbag :=_fecac [_afdga ];if len (_cbag )==0{continue ;};_eged ,_gdcge :=_feda (_cbag ,_afdga );if len (_eged )==0&&len (_gdcge )==0{continue ;};if len (_eged )> 0{_cfcfc :=_eged [0];for _ ,_ddbf :=range _eged [1:]{if _ddbf .Urx >=_cfcfc .Urx {_cfcfc =_ddbf ;
};};for _ ,_babe :=range _eged {if _babe !=_cfcfc &&_babe .Urx > _cfcfc .Llx {_cfcfc =nil ;break ;};};if _cfcfc !=nil &&_dbga (_afdga .PdfRectangle ,_cfcfc .PdfRectangle ){_afdga ._ffaa =_cfcfc ;};};if len (_gdcge )> 0{_efaae :=_gdcge [0];for _ ,_ebea :=range _gdcge [1:]{if _ebea .Llx <=_efaae .Llx {_efaae =_ebea ;
};};for _ ,_fecc :=range _gdcge {if _fecc !=_efaae &&_fecc .Llx < _efaae .Urx {_efaae =nil ;break ;};};if _efaae !=nil &&_dbga (_afdga .PdfRectangle ,_efaae .PdfRectangle ){_afdga ._fcac =_efaae ;};};};_fecac =_dbff .xNeighbours (_eccd );for _ ,_dccfd :=range _dbff {_afee :=_fecac [_dccfd ];
if len (_afee )==0{continue ;};_bbgf ,_dcbcc :=_becee (_afee ,_dccfd );if len (_bbgf )==0&&len (_dcbcc )==0{continue ;};if len (_dcbcc )> 0{_cgcff :=_dcbcc [0];for _ ,_fgfg :=range _dcbcc [1:]{if _fgfg .Ury >=_cgcff .Ury {_cgcff =_fgfg ;};};for _ ,_efab :=range _dcbcc {if _efab !=_cgcff &&_efab .Ury > _cgcff .Lly {_cgcff =nil ;
break ;};};if _cgcff !=nil &&_dccf (_dccfd .PdfRectangle ,_cgcff .PdfRectangle ){_dccfd ._abcb =_cgcff ;};};if len (_bbgf )> 0{_eebece :=_bbgf [0];for _ ,_bbbdf :=range _bbgf [1:]{if _bbbdf .Lly <=_eebece .Lly {_eebece =_bbbdf ;};};for _ ,_dafg :=range _bbgf {if _dafg !=_eebece &&_dafg .Lly < _eebece .Ury {_eebece =nil ;
break ;};};if _eebece !=nil &&_dccf (_dccfd .PdfRectangle ,_eebece .PdfRectangle ){_dccfd ._feec =_eebece ;};};};for _ ,_fafe :=range _dbff {if _fafe ._ffaa !=nil &&_fafe ._ffaa ._fcac !=_fafe {_fafe ._ffaa =nil ;};if _fafe ._feec !=nil &&_fafe ._feec ._abcb !=_fafe {_fafe ._feec =nil ;
};if _fafe ._fcac !=nil &&_fafe ._fcac ._ffaa !=_fafe {_fafe ._fcac =nil ;};if _fafe ._abcb !=nil &&_fafe ._abcb ._feec !=_fafe {_fafe ._abcb =nil ;};};};type subpath struct{_cfgf []_gf .Point ;_cdeg bool ;};func (_agd *textObject )setFont (_def string ,_cac float64 )error {if _agd ==nil {return nil ;
};_agd ._cgc ._becc =_cac ;_cfe ,_gcag :=_agd .getFont (_def );if _gcag !=nil {return _gcag ;};_agd ._cgc ._dgab =_cfe ;if _agd ._egag .empty (){_agd ._egag .push (_agd ._cgc );}else {_agd ._egag .top ()._dgab =_agd ._cgc ._dgab ;};return nil ;};func (_ebcag *textWord )appendMark (_gceaa *textMark ,_bega _eg .PdfRectangle ){_ebcag ._gddc =append (_ebcag ._gddc ,_gceaa );
_ebcag .PdfRectangle =_ebba (_ebcag .PdfRectangle ,_gceaa .PdfRectangle );if _gceaa ._befdg > _ebcag ._eggccf {_ebcag ._eggccf =_gceaa ._befdg ;};_ebcag ._dbca =_bega .Ury -_ebcag .PdfRectangle .Lly ;};func _dccg (_dgddb int ,_ggcaf map[int ][]float64 )([]int ,int ){_daebe :=make ([]int ,_dgddb );
_acfga :=0;for _baef :=0;_baef < _dgddb ;_baef ++{_daebe [_baef ]=_acfga ;_acfga +=len (_ggcaf [_baef ])+1;};return _daebe ,_acfga ;};func (_bae *wordBag )scanBand (_abbc string ,_abec *wordBag ,_efad func (_daaa *wordBag ,_aaf *textWord )bool ,_dagb ,_bdgb ,_bde float64 ,_deb ,_bedb bool )int {_cabb :=_abec ._efga ;
var _bafe map[int ]map[*textWord ]struct{};if !_deb {_bafe =_bae .makeRemovals ();};_bfcb :=_ced *_cabb ;_eafa :=0;for _ ,_bcfe :=range _bae .depthBand (_dagb -_bfcb ,_bdgb +_bfcb ){if len (_bae ._ffgbb [_bcfe ])==0{continue ;};for _ ,_fag :=range _bae ._ffgbb [_bcfe ]{if !(_dagb -_bfcb <=_fag ._dbca &&_fag ._dbca <=_bdgb +_bfcb ){continue ;
};if !_efad (_abec ,_fag ){continue ;};_egcd :=2.0*_ff .Abs (_fag ._eggccf -_abec ._efga )/(_fag ._eggccf +_abec ._efga );_acd :=_ff .Max (_fag ._eggccf /_abec ._efga ,_abec ._efga /_fag ._eggccf );_dace :=_ff .Min (_egcd ,_acd );if _bde > 0&&_dace > _bde {continue ;
};if _abec .blocked (_fag ){continue ;};if !_deb {_abec .pullWord (_fag ,_bcfe ,_bafe );};_eafa ++;if !_bedb {if _fag ._dbca < _dagb {_dagb =_fag ._dbca ;};if _fag ._dbca > _bdgb {_bdgb =_fag ._dbca ;};};if _deb {break ;};};};if !_deb {_bae .applyRemovals (_bafe );
};return _eafa ;};func _dbbg (_addd map[float64 ]map[float64 ]gridTile )[]float64 {_dcde :=make ([]float64 ,0,len (_addd ));_afaaf :=make (map[float64 ]struct{},len (_addd ));for _ ,_dffff :=range _addd {for _acgbg :=range _dffff {if _ ,_fdad :=_afaaf [_acgbg ];
_fdad {continue ;};_dcde =append (_dcde ,_acgbg );_afaaf [_acgbg ]=struct{}{};};};_c .Float64s (_dcde );return _dcde ;};type markKind int ;

// String returns a string describing `pt`.
func (_cce PageText )String ()string {_fbgf :=_cf .Sprintf ("P\u0061\u0067\u0065\u0054ex\u0074:\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073",len (_cce ._gba ));_ceae :=[]string {"\u002d"+_fbgf };for _ ,_ecfb :=range _cce ._gba {_ceae =append (_ceae ,_ecfb .String ());
};_ceae =append (_ceae ,"\u002b"+_fbgf );return _b .Join (_ceae ,"\u000a");};func (_bage *textObject )moveTextSetLeading (_aegb ,_dbab float64 ){_bage ._cgc ._dab =-_dbab ;_bage .moveLP (_aegb ,_dbab );};

// String returns a description of `v`.
func (_fdcf *ruling )String ()string {if _fdcf ._bdcb ==_dafe {return "\u004e\u004f\u0054\u0020\u0052\u0055\u004c\u0049\u004e\u0047";};_fedef ,_bccfg :="\u0078","\u0079";if _fdcf ._bdcb ==_cgeg {_fedef ,_bccfg ="\u0079","\u0078";};_fefbd :="";if _fdcf ._gfef !=0.0{_fefbd =_cf .Sprintf (" \u0077\u0069\u0064\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_fdcf ._gfef );
};return _cf .Sprintf ("\u0025\u00310\u0073\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0020\u0025\u0076\u0025\u0073",_fdcf ._bdcb ,_fedef ,_fdcf ._daba ,_bccfg ,_fdcf ._agdg ,_fdcf ._eggd ,_fdcf ._eggd -_fdcf ._agdg ,_fdcf ._afg ,_fdcf .Color ,_fefbd );
};type paraList []*textPara ;func (_aabd *wordBag )getDepthIdx (_ffea float64 )int {_cegc :=_aabd .depthIndexes ();_cafa :=_adgf (_ffea );if _cafa < _cegc [0]{return _cegc [0];};if _cafa > _cegc [len (_cegc )-1]{return _cegc [len (_cegc )-1];};return _cafa ;
};

// String returns a human readable description of `s`.
func (_aeafa intSet )String ()string {var _fbeb []int ;for _abfgd :=range _aeafa {if _aeafa .has (_abfgd ){_fbeb =append (_fbeb ,_abfgd );};};_c .Ints (_fbeb );return _cf .Sprintf ("\u0025\u002b\u0076",_fbeb );};func (_eggc *wordBag )depthBand (_bebgd ,_bgba float64 )[]int {if len (_eggc ._ffgbb )==0{return nil ;
};return _eggc .depthRange (_eggc .getDepthIdx (_bebgd ),_eggc .getDepthIdx (_bgba ));};func _cffg (_ccdde string )(string ,bool ){_dgag :=[]rune (_ccdde );if len (_dgag )!=1{return "",false ;};_fbgga ,_bedca :=_bedba [_dgag [0]];return _fbgga ,_bedca ;
};func _feed (_bbbf ,_dcae _eg .PdfRectangle )(_eg .PdfRectangle ,bool ){if !_gbcf (_bbbf ,_dcae ){return _eg .PdfRectangle {},false ;};return _eg .PdfRectangle {Llx :_ff .Max (_bbbf .Llx ,_dcae .Llx ),Urx :_ff .Min (_bbbf .Urx ,_dcae .Urx ),Lly :_ff .Max (_bbbf .Lly ,_dcae .Lly ),Ury :_ff .Min (_bbbf .Ury ,_dcae .Ury )},true ;
};func (_dcbe paraList )lines ()[]*textLine {var _afda []*textLine ;for _ ,_aecg :=range _dcbe {_afda =append (_afda ,_aecg ._bca ...);};return _afda ;};var (_bedba =map[rune ]string {0x0060:"\u0300",0x02CB:"\u0300",0x0027:"\u0301",0x00B4:"\u0301",0x02B9:"\u0301",0x02CA:"\u0301",0x005E:"\u0302",0x02C6:"\u0302",0x007E:"\u0303",0x02DC:"\u0303",0x00AF:"\u0304",0x02C9:"\u0304",0x02D8:"\u0306",0x02D9:"\u0307",0x00A8:"\u0308",0x00B0:"\u030a",0x02DA:"\u030a",0x02BA:"\u030b",0x02DD:"\u030b",0x02C7:"\u030c",0x02C8:"\u030d",0x0022:"\u030e",0x02BB:"\u0312",0x02BC:"\u0313",0x0486:"\u0313",0x055A:"\u0313",0x02BD:"\u0314",0x0485:"\u0314",0x0559:"\u0314",0x02D4:"\u031d",0x02D5:"\u031e",0x02D6:"\u031f",0x02D7:"\u0320",0x02B2:"\u0321",0x00B8:"\u0327",0x02CC:"\u0329",0x02B7:"\u032b",0x02CD:"\u0331",0x005F:"\u0332",0x204E:"\u0359"};
);

// TextMark represents extracted text on a page with information regarding both textual content,
// formatting (font and size) and positioning.
// It is the smallest unit of text on a PDF page, typically a single character.
//
// getBBox() in test_text.go shows how to compute bounding boxes of substrings of extracted text.
// The following code extracts the text on PDF page `page` into `text` then finds the bounding box
// `bbox` of substring `term` in `text`.
//
//     ex, _ := New(page)
//     // handle errors
//     pageText, _, _, err := ex.ExtractPageText()
//     // handle errors
//     text := pageText.Text()
//     textMarks := pageText.Marks()
//
//     	start := strings.Index(text, term)
//      end := start + len(term)
//      spanMarks, err := textMarks.RangeOffset(start, end)
//      // handle errors
//      bbox, ok := spanMarks.BBox()
//      // handle errors
type TextMark struct{

// Text is the extracted text.
Text string ;

// Original is the text in the PDF. It has not been decoded like `Text`.
Original string ;

// BBox is the bounding box of the text.
BBox _eg .PdfRectangle ;

// Font is the font the text was drawn with.
Font *_eg .PdfFont ;

// FontSize is the font size the text was drawn with.
FontSize float64 ;

// Offset is the offset of the start of TextMark.Text in the extracted text. If you do this
//   text, textMarks := pageText.Text(), pageText.Marks()
//   marks := textMarks.Elements()
// then marks[i].Offset is the offset of marks[i].Text in text.
Offset int ;

// Meta is set true for spaces and line breaks that we insert in the extracted text. We insert
// spaces (line breaks) when we see characters that are over a threshold horizontal (vertical)
//  distance  apart. See wordJoiner (lineJoiner) in PageText.computeViews().
Meta bool ;

// FillColor is the fill color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
FillColor _fff .Color ;

// StrokeColor is the stroke color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
StrokeColor _fff .Color ;

// Orientation is the text orientation
Orientation int ;};func (_eafdb gridTile )complete ()bool {return _eafdb .numBorders ()==4};func _fded (_ffcf float64 ,_gafc int )int {if _gafc ==0{_gafc =1;};_eceg :=float64 (_gafc );return int (_ff .Round (_ffcf /_eceg )*_eceg );};type textObject struct{_eggg *Extractor ;
_ecgcc *_eg .PdfPageResources ;_eggf _bf .GraphicsState ;_cgc *textState ;_egag *stateStack ;_abg _gf .Matrix ;_bbbb _gf .Matrix ;_eade []*textMark ;_geef bool ;};func (_effa *ruling )equals (_dcgce *ruling )bool {return _effa ._bdcb ==_dcgce ._bdcb &&_aaeda (_effa ._daba ,_dcgce ._daba )&&_aaeda (_effa ._agdg ,_dcgce ._agdg )&&_aaeda (_effa ._eggd ,_dcgce ._eggd );
};func (_gce *textObject )getStrokeColor ()_fff .Color {return _bfca (_gce ._eggf .ColorspaceStroking ,_gce ._eggf .ColorStroking );};func _bgbb (_bbf []*wordBag )[]*wordBag {if len (_bbf )<=1{return _bbf ;};if _bfg {_e .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u0057\u006f\u0072\u0064B\u0061\u0067\u0073\u003a");
};_c .Slice (_bbf ,func (_aga ,_bccf int )bool {_fdca ,_faac :=_bbf [_aga ],_bbf [_bccf ];_bdcg :=_fdca .Width ()*_fdca .Height ();_gacb :=_faac .Width ()*_faac .Height ();if _bdcg !=_gacb {return _bdcg > _gacb ;};if _fdca .Height ()!=_faac .Height (){return _fdca .Height ()> _faac .Height ();
};return _aga < _bccf ;});var _dbfc []*wordBag ;_ffef :=make (intSet );for _abca :=0;_abca < len (_bbf );_abca ++{if _ffef .has (_abca ){continue ;};_faacf :=_bbf [_abca ];for _ecda :=_abca +1;_ecda < len (_bbf );_ecda ++{if _ffef .has (_abca ){continue ;
};_fge :=_bbf [_ecda ];_dacb :=_faacf .PdfRectangle ;_dacb .Llx -=_faacf ._efga ;if _cgfb (_dacb ,_fge .PdfRectangle ){_faacf .absorb (_fge );_ffef .add (_ecda );};};_dbfc =append (_dbfc ,_faacf );};if len (_bbf )!=len (_dbfc )+len (_ffef ){_e .Log .Error ("\u006d\u0065\u0072ge\u0057\u006f\u0072\u0064\u0042\u0061\u0067\u0073\u003a \u0025d\u2192%\u0064 \u0061\u0062\u0073\u006f\u0072\u0062\u0065\u0064\u003d\u0025\u0064",len (_bbf ),len (_dbfc ),len (_ffef ));
};return _dbfc ;};

// Marks returns the TextMark collection for a page. It represents all the text on the page.
func (_fdcd PageText )Marks ()*TextMarkArray {return &TextMarkArray {_ggbc :_fdcd ._dac }};

// RenderMode specifies the text rendering mode (Tmode), which determines whether showing text shall cause
// glyph outlines to be  stroked, filled, used as a clipping boundary, or some combination of the three.
// Stroking, filling, and clipping shall have the same effects for a text object as they do for a path object
// (see 8.5.3, "Path-Painting Operators" and 8.5.4, "Clipping Path Operators").
type RenderMode int ;type shapesState struct{_cgeab _gf .Matrix ;_eacc _gf .Matrix ;_eea []*subpath ;_gea bool ;_dec _gf .Point ;_dea *textObject ;};func (_ddbg paraList )eventNeighbours (_cdcec []event )map[*textPara ][]int {_c .Slice (_cdcec ,func (_daab ,_bafg int )bool {_gbbab ,_edcf :=_cdcec [_daab ],_cdcec [_bafg ];
_ebbf ,_fbgbe :=_gbbab ._aefec ,_edcf ._aefec ;if _ebbf !=_fbgbe {return _ebbf < _fbgbe ;};if _gbbab ._feea !=_edcf ._feea {return _gbbab ._feea ;};return _daab < _bafg ;});_fecce :=make (map[int ]intSet );_eedca :=make (intSet );for _ ,_eaggf :=range _cdcec {if _eaggf ._feea {_fecce [_eaggf ._gecdc ]=make (intSet );
for _dafeb :=range _eedca {if _dafeb !=_eaggf ._gecdc {_fecce [_eaggf ._gecdc ].add (_dafeb );_fecce [_dafeb ].add (_eaggf ._gecdc );};};_eedca .add (_eaggf ._gecdc );}else {_eedca .del (_eaggf ._gecdc );};};_geefc :=map[*textPara ][]int {};for _decb ,_eegg :=range _fecce {_cgdb :=_ddbg [_decb ];
if len (_eegg )==0{_geefc [_cgdb ]=nil ;continue ;};_eaffb :=make ([]int ,len (_eegg ));_cgcg :=0;for _cceeg :=range _eegg {_eaffb [_cgcg ]=_cceeg ;_cgcg ++;};_geefc [_cgdb ]=_eaffb ;};return _geefc ;};

// BBox returns the smallest axis-aligned rectangle that encloses all the TextMarks in `ma`.
func (_cdgbc *TextMarkArray )BBox ()(_eg .PdfRectangle ,bool ){var _aege _eg .PdfRectangle ;_abfg :=false ;for _ ,_aega :=range _cdgbc ._ggbc {if _aega .Meta ||_ffad (_aega .Text ){continue ;};if _abfg {_aege =_ebba (_aege ,_aega .BBox );}else {_aege =_aega .BBox ;
_abfg =true ;};};return _aege ,_abfg ;};type ruling struct{_bdcb rulingKind ;_afg markKind ;_fff .Color ;_daba float64 ;_agdg float64 ;_eggd float64 ;_gfef float64 ;};func _gbcf (_eaed ,_ddcf _eg .PdfRectangle )bool {return _dccf (_eaed ,_ddcf )&&_dbga (_eaed ,_ddcf )};
func _eeag (_cfff ,_bccc _gf .Point )rulingKind {_cgegb :=_ff .Abs (_cfff .X -_bccc .X );_aaed :=_ff .Abs (_cfff .Y -_bccc .Y );return _ggebd (_cgegb ,_aaed ,_dcca );};func (_ecc *Extractor )extractPageText (_fcd string ,_aeb *_eg .PdfPageResources ,_aebd _gf .Matrix ,_ca int )(*PageText ,int ,int ,error ){_e .Log .Trace ("\u0065x\u0074\u0072\u0061\u0063t\u0050\u0061\u0067\u0065\u0054e\u0078t\u003a \u006c\u0065\u0076\u0065\u006c\u003d\u0025d",_ca );
_ffb :=&PageText {_feb :_ecc ._ebe };_cff :=_bbbd (_ecc ._ebe );_ffd :=stateStack {&_cff };_bgeg :=_fdcc (_ecc ,_aeb ,_bf .GraphicsState {},&_cff ,&_ffd );_bcc :=shapesState {_eacc :_aebd ,_cgeab :_gf .IdentityMatrix (),_dea :_bgeg };var _ac bool ;if _ca > _fbdg {_dca :=_g .New ("\u0066\u006f\u0072\u006d s\u0074\u0061\u0063\u006b\u0020\u006f\u0076\u0065\u0072\u0066\u006c\u006f\u0077");
_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0065\u0078\u0074\u0072\u0061\u0063\u0074\u0050\u0061\u0067\u0065\u0054\u0065\u0078\u0074\u002e\u0020\u0072\u0065\u0063u\u0072\u0073\u0069\u006f\u006e\u0020\u006c\u0065\u0076\u0065\u006c\u003d\u0025\u0064 \u0065r\u0072\u003d\u0025\u0076",_ca ,_dca );
return _ffb ,_cff ._ace ,_cff ._dcfed ,_dca ;};_afd :=_bf .NewContentStreamParser (_fcd );_cgf ,_beca :=_afd .Parse ();if _beca !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020e\u0078\u0074\u0072a\u0063\u0074\u0050\u0061g\u0065\u0054\u0065\u0078\u0074\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_beca );
return _ffb ,_cff ._ace ,_cff ._dcfed ,_beca ;};_egb :=_bf .NewContentStreamProcessor (*_cgf );_egb .AddHandler (_bf .HandlerConditionEnumAllOperands ,"",func (_caf *_bf .ContentStreamOperation ,_gfg _bf .GraphicsState ,_egf *_eg .PdfPageResources )error {_dba :=_caf .Operand ;
if _addc {_e .Log .Info ("\u0026&\u0026\u0020\u006f\u0070\u003d\u0025s",_caf );};switch _dba {case "\u0071":if _aca {_e .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_bcc ._cgeab );};_ffd .push (&_cff );case "\u0051":if !_ffd .empty (){if len (_ffd )>=2{_ffd .pop ();
};_cff =*_ffd .top ();};_bcc ._cgeab =_gfg .CTM ;if _aca {_e .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_bcc ._cgeab );};case "\u0042\u0054":if _ac {_e .Log .Debug ("\u0042\u0054\u0020\u0063\u0061\u006c\u006c\u0065\u0064\u0020\u0077\u0068\u0069\u006c\u0065 \u0069n\u0020\u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");
_ffb ._gba =append (_ffb ._gba ,_bgeg ._eade ...);};_ac =true ;_gdb :=_gfg ;_gdb .CTM =_aebd .Mult (_gdb .CTM );_bgeg =_fdcc (_ecc ,_egf ,_gdb ,&_cff ,&_ffd );_bcc ._dea =_bgeg ;case "\u0045\u0054":if !_ac {_e .Log .Debug ("\u0045\u0054\u0020ca\u006c\u006c\u0065\u0064\u0020\u006f\u0075\u0074\u0073i\u0064e\u0020o\u0066 \u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");
};_ac =false ;_ffb ._gba =append (_ffb ._gba ,_bgeg ._eade ...);_bgeg .reset ();case "\u0054\u002a":_bgeg .nextLine ();case "\u0054\u0064":if _aef ,_gbb :=_bgeg .checkOp (_caf ,2,true );!_aef {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gbb );
return _gbb ;};_cgd ,_bfc ,_daa :=_decd (_caf .Params );if _daa !=nil {return _daa ;};_bgeg .moveText (_cgd ,_bfc );case "\u0054\u0044":if _ed ,_bdg :=_bgeg .checkOp (_caf ,2,true );!_ed {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bdg );
return _bdg ;};_eec ,_cfdc ,_edd :=_decd (_caf .Params );if _edd !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_edd );return _edd ;};_bgeg .moveTextSetLeading (_eec ,_cfdc );case "\u0054\u006a":if _aad ,_effc :=_bgeg .checkOp (_caf ,1,true );
!_aad {_e .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0054\u006a\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d%\u0076",_caf ,_effc );return _effc ;};_bcb ,_gff :=_fb .GetStringBytes (_caf .Params [0]);if !_gff {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020T\u006a\u0020o\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074S\u0074\u0072\u0069\u006e\u0067\u0042\u0079\u0074\u0065\u0073\u0020\u0066a\u0069\u006c\u0065\u0064",_caf );
return _fb .ErrTypeError ;};return _bgeg .showText (_bcb );case "\u0054\u004a":if _fad ,_bef :=_bgeg .checkOp (_caf ,1,true );!_fad {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bef );return _bef ;
};_dbc ,_eadb :=_fb .GetArray (_caf .Params [0]);if !_eadb {_e .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0054\u004a\u0020\u006f\u0070\u003d\u0025s\u0020G\u0065t\u0041r\u0072\u0061\u0079\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_caf );
return _beca ;};return _bgeg .showTextAdjusted (_dbc );case "\u0027":if _dbae ,_bgb :=_bgeg .checkOp (_caf ,1,true );!_dbae {_e .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0027\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bgb );return _bgb ;};_gab ,_cge :=_fb .GetStringBytes (_caf .Params [0]);
if !_cge {_e .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020'\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_caf );return _fb .ErrTypeError ;};_bgeg .nextLine ();return _bgeg .showText (_gab );
case "\u0022":if _dbcg ,_ceb :=_bgeg .checkOp (_caf ,3,true );!_dbcg {_e .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0022\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ceb );return _ceb ;};_aaa ,_ffg ,_bdd :=_decd (_caf .Params [:2]);if _bdd !=nil {return _bdd ;
};_dcg ,_gcf :=_fb .GetStringBytes (_caf .Params [2]);if !_gcf {_e .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020\"\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_caf );
return _fb .ErrTypeError ;};_bgeg .setCharSpacing (_aaa );_bgeg .setWordSpacing (_ffg );_bgeg .nextLine ();return _bgeg .showText (_dcg );case "\u0054\u004c":_cc ,_efff :=_dcc (_caf );if _efff !=nil {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004c\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_efff );
return _efff ;};_bgeg .setTextLeading (_cc );case "\u0054\u0063":_gbf ,_afc :=_dcc (_caf );if _afc !=nil {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0063\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_afc );return _afc ;};_bgeg .setCharSpacing (_gbf );
case "\u0054\u0066":if _dfff ,_cee :=_bgeg .checkOp (_caf ,2,true );!_dfff {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0066\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cee );return _cee ;};_bgeb ,_eaf :=_fb .GetNameVal (_caf .Params [0]);
if !_eaf {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u004ea\u006d\u0065\u0056\u0061\u006c\u0020\u0066a\u0069\u006c\u0065\u0064",_caf );return _fb .ErrTypeError ;};_ffe ,_ceg :=_fb .GetNumberAsFloat (_caf .Params [1]);
if !_eaf {_e .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u0046\u006c\u006f\u0061\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065d\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_caf ,_ceg );
return _ceg ;};_ceg =_bgeg .setFont (_bgeb ,_ffe );_bgeg ._geef =_eb .Is (_ceg ,_fb .ErrNotSupported );if _ceg !=nil &&!_bgeg ._geef {return _ceg ;};case "\u0054\u006d":if _ddf ,_dda :=_bgeg .checkOp (_caf ,6,true );!_ddf {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u006d\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dda );
return _dda ;};_dad ,_gcg :=_fb .GetNumbersAsFloat (_caf .Params );if _gcg !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gcg );return _gcg ;};_bgeg .setTextMatrix (_dad );case "\u0054\u0072":if _ebce ,_aeg :=_bgeg .checkOp (_caf ,1,true );
!_ebce {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0072\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aeg );return _aeg ;};_gge ,_de :=_fb .GetIntVal (_caf .Params [0]);if !_de {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0072\u0020\u006f\u0070\u003d\u0025\u0073 \u0047e\u0074\u0049\u006e\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_caf );
return _fb .ErrTypeError ;};_bgeg .setTextRenderMode (_gge );case "\u0054\u0073":if _dcf ,_fcc :=_bgeg .checkOp (_caf ,1,true );!_dcf {_e .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fcc );return _fcc ;
};_dae ,_fbg :=_fb .GetNumberAsFloat (_caf .Params [0]);if _fbg !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fbg );return _fbg ;};_bgeg .setTextRise (_dae );case "\u0054\u0077":if _afe ,_gfge :=_bgeg .checkOp (_caf ,1,true );
!_afe {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gfge );return _gfge ;};_deg ,_daeb :=_fb .GetNumberAsFloat (_caf .Params [0]);if _daeb !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_daeb );
return _daeb ;};_bgeg .setWordSpacing (_deg );case "\u0054\u007a":if _beb ,_fccb :=_bgeg .checkOp (_caf ,1,true );!_beb {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fccb );return _fccb ;};_cad ,_bgc :=_fb .GetNumberAsFloat (_caf .Params [0]);
if _bgc !=nil {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bgc );return _bgc ;};_bgeg .setHorizScaling (_cad );case "\u0063\u006d":_bcc ._cgeab =_gfg .CTM ;if _bcc ._cgeab .Singular (){_dag :=_gf .IdentityMatrix ().Translate (_bcc ._cgeab .Translation ());
_e .Log .Debug ("S\u0069n\u0067\u0075\u006c\u0061\u0072\u0020\u0063\u0074m\u003d\u0025\u0073\u2192%s",_bcc ._cgeab ,_dag );_bcc ._cgeab =_dag ;};if _aca {_e .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_bcc ._cgeab );};case "\u006d":if len (_caf .Params )!=2{_e .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_ec );
return nil ;};_cbdc ,_gdbc :=_fb .GetNumbersAsFloat (_caf .Params );if _gdbc !=nil {return _gdbc ;};_e .Log .Debug ("\u004d\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u002e\u0032\u0066",_cbdc );_bcc .moveTo (_cbdc [0],_cbdc [1]);case "\u006c":if len (_caf .Params )!=2{_e .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_ec );
return nil ;};_baa ,_cbb :=_fb .GetNumbersAsFloat (_caf .Params );if _cbb !=nil {return _cbb ;};_bcc .lineTo (_baa [0],_baa [1]);case "\u0063":if len (_caf .Params )!=6{return _ec ;};_ddc ,_cbdb :=_fb .GetNumbersAsFloat (_caf .Params );if _cbdb !=nil {return _cbdb ;
};_e .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_ddc );_bcc .cubicTo (_ddc [0],_ddc [1],_ddc [2],_ddc [3],_ddc [4],_ddc [5]);case "\u0076","\u0079":if len (_caf .Params )!=4{return _ec ;
};_ada ,_fgb :=_fb .GetNumbersAsFloat (_caf .Params );if _fgb !=nil {return _fgb ;};_e .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_ada );_bcc .quadraticTo (_ada [0],_ada [1],_ada [2],_ada [3]);
case "\u0068":_bcc .closePath ();case "\u0072\u0065":if len (_caf .Params )!=4{return _ec ;};_ddaa ,_gfbc :=_fb .GetNumbersAsFloat (_caf .Params );if _gfbc !=nil {return _gfbc ;};_bcc .drawRectangle (_ddaa [0],_ddaa [1],_ddaa [2],_ddaa [3]);_bcc .closePath ();
case "\u0053":_bcc .stroke (&_ffb ._defb );_bcc .clearPath ();case "\u0073":_bcc .closePath ();_bcc .stroke (&_ffb ._defb );_bcc .clearPath ();case "\u0046":_bcc .fill (&_ffb ._gadd );_bcc .clearPath ();case "\u0066","\u0066\u002a":_bcc .closePath ();_bcc .fill (&_ffb ._gadd );
_bcc .clearPath ();case "\u0042","\u0042\u002a":_bcc .fill (&_ffb ._gadd );_bcc .stroke (&_ffb ._defb );_bcc .clearPath ();case "\u0062","\u0062\u002a":_bcc .closePath ();_bcc .fill (&_ffb ._gadd );_bcc .stroke (&_ffb ._defb );_bcc .clearPath ();case "\u006e":_bcc .clearPath ();
case "\u0044\u006f":if len (_caf .Params )==0{_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0058\u004fbj\u0065c\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006f\u0070\u0065\u0072\u0061n\u0064\u0020\u0066\u006f\u0072\u0020\u0044\u006f\u0020\u006f\u0070\u0065\u0072\u0061\u0074\u006f\u0072.\u0020\u0047\u006f\u0074\u0020\u0025\u002b\u0076\u002e",_caf .Params );
return _fb .ErrRangeError ;};_abf ,_bfe :=_fb .GetName (_caf .Params [0]);if !_bfe {_e .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0044\u006f\u0020\u006f\u0070e\u0072a\u0074\u006f\u0072\u0020\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006fp\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u002b\u0076\u002e",_caf .Params [0]);
return _fb .ErrTypeError ;};_ ,_fec :=_egf .GetXObjectByName (*_abf );if _fec !=_eg .XObjectTypeForm {break ;};_abaa ,_bfe :=_ecc ._df [_abf .String ()];if !_bfe {_cag ,_cd :=_egf .GetXObjectFormByName (*_abf );if _cd !=nil {_e .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cd );
return _cd ;};_cdd ,_cd :=_cag .GetContentStream ();if _cd !=nil {_e .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cd );return _cd ;};_dce :=_cag .Resources ;if _dce ==nil {_dce =_egf ;};_bfeb ,_eda ,_cdb ,_cd :=_ecc .extractPageText (string (_cdd ),_dce ,_aebd .Mult (_gfg .CTM ),_ca +1);
if _cd !=nil {_e .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cd );return _cd ;};_abaa =textResult {*_bfeb ,_eda ,_cdb };_ecc ._df [_abf .String ()]=_abaa ;};_bcc ._cgeab =_gfg .CTM ;if _aca {_e .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_bcc ._cgeab );
};_ffb ._gba =append (_ffb ._gba ,_abaa ._edb ._gba ...);_ffb ._defb =append (_ffb ._defb ,_abaa ._edb ._defb ...);_ffb ._gadd =append (_ffb ._gadd ,_abaa ._edb ._gadd ...);_cff ._ace +=_abaa ._ffgd ;_cff ._dcfed +=_abaa ._gede ;case "\u0072\u0067","\u0067","\u006b","\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_bgeg ._eggf .ColorspaceNonStroking =_gfg .ColorspaceNonStroking ;
_bgeg ._eggf .ColorNonStroking =_gfg .ColorNonStroking ;case "\u0052\u0047","\u0047","\u004b","\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_bgeg ._eggf .ColorspaceStroking =_gfg .ColorspaceStroking ;_bgeg ._eggf .ColorStroking =_gfg .ColorStroking ;
};return nil ;});_beca =_egb .Process (_aeb );return _ffb ,_cff ._ace ,_cff ._dcfed ,_beca ;};func (_bfede *textWord )computeText ()string {_cfaga :=make ([]string ,len (_bfede ._gddc ));for _ebedb ,_ebcf :=range _bfede ._gddc {_cfaga [_ebedb ]=_ebcf ._acaf ;
};return _b .Join (_cfaga ,"");};func (_agda paraList )topoOrder ()[]int {if _dfba {_e .Log .Info ("\u0074\u006f\u0070\u006f\u004f\u0072\u0064\u0065\u0072\u003a");};_efaa :=len (_agda );_cccccc :=make ([]bool ,_efaa );_fgcd :=make ([]int ,0,_efaa );_efffc :=_agda .llyOrdering ();
var _adcf func (_aagc int );_adcf =func (_cbe int ){_cccccc [_cbe ]=true ;for _ecec :=0;_ecec < _efaa ;_ecec ++{if !_cccccc [_ecec ]{if _agda .readBefore (_efffc ,_cbe ,_ecec ){_adcf (_ecec );};};};_fgcd =append (_fgcd ,_cbe );};for _fbgb :=0;_fbgb < _efaa ;
_fbgb ++{if !_cccccc [_fbgb ]{_adcf (_fbgb );};};return _egba (_fgcd );};
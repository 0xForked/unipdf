//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

//
// Package extractor is used for quickly extracting PDF content through a simple interface.
// Currently offers functionality for extracting textual content.
//
package extractor ;import (_gf "bytes";_e "errors";_ef "fmt";_ee "github.com/unidoc/unipdf/v3/common";_ec "github.com/unidoc/unipdf/v3/common/license";_ega "github.com/unidoc/unipdf/v3/contentstream";_fc "github.com/unidoc/unipdf/v3/core";_bb "github.com/unidoc/unipdf/v3/internal/textencoding";_ff "github.com/unidoc/unipdf/v3/internal/transform";_fd "github.com/unidoc/unipdf/v3/model";_db "golang.org/x/text/unicode/norm";_df "golang.org/x/xerrors";_cf "image/color";_ed "io";_c "math";_d "regexp";_eg "sort";_g "strings";_b "unicode";_a "unicode/utf8";);

// String returns a description of `l`.
func (_gfcc *textLine )String ()string {return _ef .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_gfcc ._aagbf ,_gfcc .PdfRectangle ,_gfcc ._ecg ,_gfcc .text ());};const (_bcga =1.0e-6;_bceed =1.0e-4;_aebc =10;_cggc =6;_eaee =0.5;_gabf =0.11;_fbac =0.19;_ggcd =0.04;_ceed =0.04;_fbad =1.0;_dbaf =0.04;_fce =0.4;_agc =0.7;_ccbg =1.0;_abgg =0.1;_ccgf =1.4;_bbeg =0.46;_bede =0.02;_efad =0.2;_baega =0.5;_dbcf =4;_beac =4.0;_effe =6;_cagg =0.3;_ddbde =0.01;_bdbg =0.02;_fegg =2;_gcbb =2;_bccb =500;_ggace =4.0;_ffaef =4.0;_bdcd =0.05;_acbb =0.1;_edbf =2.0;_aegb =2.0;_feggf =1.0;_dfae =3.0;);func (_cfbe *textObject )getStrokeColor ()_cf .Color {return _cebcf (_cfbe ._dbd .ColorspaceStroking ,_cfbe ._dbd .ColorStroking );};func _babdg (_dacf ,_cagcf _ff .Point )bool {_fdagg :=_c .Abs (_dacf .X -_cagcf .X );_abefa :=_c .Abs (_dacf .Y -_cagcf .Y );return _bcdf (_fdagg ,_abefa );};func _aafb (_abbdc _fd .PdfRectangle )rulingKind {_gabbd :=_abbdc .Width ();_fbgc :=_abbdc .Height ();if _gabbd > _fbgc {if _gabbd >=_ggace {return _bagdg ;};}else {if _fbgc >=_ggace {return _fafd ;};};return _bfbaa ;};func (_dgga gridTiling )log (_eccfe string ){if !_fadb {return ;};_ee .Log .Info ("\u0074i\u006ci\u006e\u0067\u003a\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0071",len (_dgga ._cdca ),len (_dgga ._afbg ),_eccfe );_ef .Printf ("\u0020\u0020\u0020l\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a",_dgga ._cdca );_ef .Printf ("\u0020\u0020\u0020l\u006c\u0079\u003d\u0025\u002e\u0032\u0066\u000a",_dgga ._afbg );for _ggaf ,_fabcf :=range _dgga ._afbg {_dbddc ,_ccde :=_dgga ._aceb [_fabcf ];if !_ccde {continue ;};_ef .Printf ("%\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_ggaf ,_fabcf );for _cdbfa ,_bgce :=range _dgga ._cdca {_ebed ,_bcdad :=_dbddc [_bgce ];if !_bcdad {continue ;};_ef .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_cdbfa ,_ebed .String ());};};};

// ExtractPageImages returns the image contents of the page extractor, including data
// and position, size information for each image.
// A set of options to control page image extraction can be passed in. The options
// parameter can be nil for the default options. By default, inline stencil masks
// are not extracted.
func (_de *Extractor )ExtractPageImages (options *ImageExtractOptions )(*PageImages ,error ){_gg :=&imageExtractContext {_ga :options };_gbb :=_gg .extractContentStreamImages (_de ._ge ,_de ._ca );if _gbb !=nil {return nil ,_gbb ;};return &PageImages {Images :_gg ._efc },nil ;};func (_gbdg rulingList )toTilings ()(rulingList ,[]gridTiling ){if _gbde {_ee .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_gbdg );};if len (_gbdg )==0{return nil ,nil ;};_gbdg =_gbdg .tidied ("\u0061\u006c\u006c");_badab :=_gbdg .toGrids ();_bgaf :=make ([]gridTiling ,len (_badab ));for _abbc ,_cccfa :=range _badab {_bgaf [_abbc ]=_cccfa .asTiling ();};return _gbdg ,_bgaf ;};

// Len returns the number of TextMarks in `ma`.
func (_deg *TextMarkArray )Len ()int {if _deg ==nil {return 0;};return len (_deg ._ebgf );};func _dabbc (_gbfe ,_dggcc ,_bgbdd ,_fdeb *textPara )*textTable {_bcgc :=&textTable {_cgba :2,_cccg :2,_caegc :make (map[uint64 ]*textPara ,4)};_bcgc .put (0,0,_gbfe );_bcgc .put (1,0,_dggcc );_bcgc .put (0,1,_bgbdd );_bcgc .put (1,1,_fdeb );return _bcgc ;};func _dgae (_aaff []int )[]int {_efab :=make ([]int ,len (_aaff ));for _bbab ,_ecad :=range _aaff {_efab [len (_aaff )-1-_bbab ]=_ecad ;};return _efab ;};func (_fccba *textTable )put (_eabae ,_fefa int ,_cbbf *textPara ){_fccba ._caegc [_ebbe (_eabae ,_fefa )]=_cbbf ;};

// String returns a string describing `ma`.
func (_acbf TextMarkArray )String ()string {_gabc :=len (_acbf ._ebgf );if _gabc ==0{return "\u0045\u004d\u0050T\u0059";};_aagb :=_acbf ._ebgf [0];_fbg :=_acbf ._ebgf [_gabc -1];return _ef .Sprintf ("\u007b\u0054\u0045\u0058\u0054\u004d\u0041\u0052K\u0041\u0052\u0052AY\u003a\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025s\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d%\u0073\u007d",_gabc ,_aagb ,_fbg );};func (_cbg *textPara )bbox ()_fd .PdfRectangle {return _cbg .PdfRectangle };func (_agee *ruling )encloses (_gbaca ,_dacgd float64 )bool {return _agee ._abdb -_edbf <=_gbaca &&_dacgd <=_agee ._dfbe +_edbf ;};func (_fggf rulingList )snapToGroups ()rulingList {_fgbc ,_abce :=_fggf .vertsHorzs ();_fgbc =_fgbc .snapToGroupsDirection ();_abce =_abce .snapToGroupsDirection ();return append (_fgbc ,_abce ...);};func _cefb (_eddf ,_eabe _fd .PdfRectangle )bool {return _cgcd (_eddf ,_eabe )&&_egab (_eddf ,_eabe )};func (_eacba *textTable )computeBbox ()_fd .PdfRectangle {var _ebge _fd .PdfRectangle ;_edbea :=false ;for _gccab :=0;_gccab < _eacba ._cccg ;_gccab ++{for _adfaa :=0;_adfaa < _eacba ._cgba ;_adfaa ++{_befe :=_eacba .get (_adfaa ,_gccab );if _befe ==nil {continue ;};if !_edbea {_ebge =_befe .PdfRectangle ;_edbea =true ;}else {_ebge =_bbdgb (_ebge ,_befe .PdfRectangle );};};};return _ebge ;};func (_bfdg *textObject )getFontDict (_gfag string )(_abf _fc .PdfObject ,_eae error ){_bacc :=_bfdg ._ebdd ;if _bacc ==nil {_ee .Log .Debug ("g\u0065\u0074\u0046\u006f\u006e\u0074D\u0069\u0063\u0074\u002e\u0020\u004eo\u0020\u0072\u0065\u0073\u006f\u0075\u0072c\u0065\u0073\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025#\u0071",_gfag );return nil ,nil ;};_abf ,_eagaf :=_bacc .GetFontByName (_fc .PdfObjectName (_gfag ));if !_eagaf {_ee .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0067\u0065t\u0046\u006f\u006et\u0044\u0069\u0063\u0074\u003a\u0020\u0046\u006f\u006et \u006e\u006f\u0074 \u0066\u006fu\u006e\u0064\u003a\u0020\u006e\u0061m\u0065\u003d%\u0023\u0071",_gfag );return nil ,_e .New ("f\u006f\u006e\u0074\u0020no\u0074 \u0069\u006e\u0020\u0072\u0065s\u006f\u0075\u0072\u0063\u0065\u0073");};return _abf ,nil ;};func (_eggf paraList )findGridTables (_faaa []gridTiling )[]*textTable {if _agbe {_ee .Log .Info ("\u0066i\u006e\u0064\u0047\u0072\u0069\u0064\u0054\u0061\u0062\u006c\u0065s\u003a\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073",len (_eggf ));for _abacc ,_fccf :=range _eggf {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_abacc ,_fccf );};};var _gddc []*textTable ;for _bdcge ,_ccbc :=range _faaa {_cbcae ,_deeb :=_eggf .findTableGrid (_ccbc );if _cbcae !=nil {_cbcae .log (_ef .Sprintf ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0057\u0069\u0074\u0068\u0047\u0072\u0069\u0064\u0073\u003a\u0020%\u0064",_bdcge ));_gddc =append (_gddc ,_cbcae );_cbcae .markCells ();};if _deeb !=nil {for _ccgb :=range _deeb {_ccgb ._cdag =true ;};};};if _agbe {_ee .Log .Info ("\u0066i\u006e\u0064\u0047\u0072i\u0064\u0054\u0061\u0062\u006ce\u0073:\u0020%\u0064\u0020\u0074\u0061\u0062\u006c\u0065s",len (_gddc ));};return _gddc ;};func (_cbeg *ruling )alignsSec (_cbag *ruling )bool {return _cbeg ._abdb -_aegb <=_cbag ._dfbe &&_cbag ._abdb -_aegb <=_cbeg ._dfbe ;};type ruling struct{_ecgg rulingKind ;_caeg markKind ;_cf .Color ;_ebdb float64 ;_abdb float64 ;_dfbe float64 ;_eaed float64 ;};func _bfbf (_dacg float64 )int {var _ebfe int ;if _dacg >=0{_ebfe =int (_dacg /_cggc );}else {_ebfe =int (_dacg /_cggc )-1;};return _ebfe ;};func _agfg (_bbb _ff .Point )_ff .Matrix {return _ff .TranslationMatrix (_bbb .X ,_bbb .Y )};func (_fab *imageExtractContext )extractXObjectImage (_aed *_fc .PdfObjectName ,_eb _ega .GraphicsState ,_efa *_fd .PdfPageResources )error {_eag ,_ :=_efa .GetXObjectByName (*_aed );if _eag ==nil {return nil ;};_bd ,_ebc :=_fab ._daf [_eag ];if !_ebc {_ceb ,_cbc :=_efa .GetXObjectImageByName (*_aed );if _cbc !=nil {return _cbc ;};if _ceb ==nil {return nil ;};_eaa ,_cbc :=_ceb .ToImage ();if _cbc !=nil {return _cbc ;};_bd =&cachedImage {_dd :_eaa ,_fa :_ceb .ColorSpace };_fab ._daf [_eag ]=_bd ;};_bgb :=_bd ._dd ;_dg :=_bd ._fa ;_cef ,_fec :=_dg .ImageToRGB (*_bgb );if _fec !=nil {return _fec ;};_ee .Log .Debug ("@\u0044\u006f\u0020\u0043\u0054\u004d\u003a\u0020\u0025\u0073",_eb .CTM .String ());_cbf :=ImageMark {Image :&_cef ,Width :_eb .CTM .ScalingFactorX (),Height :_eb .CTM .ScalingFactorY (),Angle :_eb .CTM .Angle ()};_cbf .X ,_cbf .Y =_eb .CTM .Translation ();_fab ._efc =append (_fab ._efc ,_cbf );_fab ._dff ++;return nil ;};func (_edec rulingList )aligned ()bool {if len (_edec )< 2{return false ;};_ccac :=make (map[*ruling ]int );_ccac [_edec [0]]=0;for _ ,_aded :=range _edec [1:]{_agdcc :=false ;for _dcdcd :=range _ccac {if _aded .gridIntersecting (_dcdcd ){_ccac [_dcdcd ]++;_agdcc =true ;break ;};};if !_agdcc {_ccac [_aded ]=0;};};_cdeb :=0;for _ ,_cafd :=range _ccac {if _cafd ==0{_cdeb ++;};};if _gbde {_ee .Log .Info ("\u0061\u006c\u0069\u0067\u006e\u0065d\u003a\u0020\u006e\u0075\u006d\u004d\u0061\u0074\u0063\u0068\u0065\u0064\u003d%\u0064\u0020\u0076\u0065\u0063\u0073\u003d%\u0064\u003d\u0025\u0073",_cdeb ,len (_edec ),_edec .String ());};return float64 (_cdeb )< 0.2*float64 (len (_edec ));};func (_bcdea *textPara )taken ()bool {return _bcdea ==nil ||_bcdea ._cdag };type shapesState struct{_cacc _ff .Matrix ;_gge _ff .Matrix ;_bded []*subpath ;_gfad bool ;_gdfb _ff .Point ;_dfdc *textObject ;};func _fbdb (_gaeed []*textMark ,_adfd _fd .PdfRectangle )[]*textWord {var _gbce []*textWord ;var _gecc *textWord ;_decda :=func (){if _gecc !=nil {_aeebg :=_gecc .computeText ();if !_geaf (_aeebg ){_gecc ._eddb =_aeebg ;_gbce =append (_gbce ,_gecc );if _bad {_ee .Log .Info ("\u0077o\u0072\u0064\u003d\u0025\u0073",_gecc .String ());for _eceb ,_fbge :=range _gecc ._agfd {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_eceb ,_fbge .String ());};};};_gecc =nil ;};};for _ ,_ggfa :=range _gaeed {if _aaggg &&_gecc !=nil &&len (_gecc ._agfd )> 0{_efae :=_gecc ._agfd [len (_gecc ._agfd )-1];_gcffc ,_agbb :=_afeb (_ggfa ._aefc );_aebga ,_bcgaa :=_afeb (_efae ._aefc );if _agbb &&!_bcgaa &&_efae .inDiacriticArea (_ggfa ){_gecc .addDiacritic (_gcffc );continue ;};if _bcgaa &&!_agbb &&_ggfa .inDiacriticArea (_efae ){_gecc ._agfd =_gecc ._agfd [:len (_gecc ._agfd )-1];_gecc .appendMark (_ggfa ,_adfd );_gecc .addDiacritic (_aebga );continue ;};};_dacb :=_geaf (_ggfa ._aefc );if _dacb {_decda ();continue ;};if _gecc ==nil &&!_dacb {_gecc =_gdag ([]*textMark {_ggfa },_adfd );continue ;};_acedea :=_gecc ._geea ;_gccc :=_c .Abs (_acd (_adfd ,_ggfa )-_gecc ._bcbgb )/_acedea ;_ebcee :=_dffac (_ggfa ,_gecc )/_acedea ;if _ebcee >=_gabf ||!(-_fbac <=_ebcee &&_gccc <=_ggcd ){_decda ();_gecc =_gdag ([]*textMark {_ggfa },_adfd );continue ;};_gecc .appendMark (_ggfa ,_adfd );};_decda ();return _gbce ;};func _fgcd (_edgff ,_caea _ff .Point )bool {_bggc :=_c .Abs (_edgff .X -_caea .X );_eabff :=_c .Abs (_edgff .Y -_caea .Y );return _bcdf (_eabff ,_bggc );};func (_edcd *textPara )isAtom ()*textTable {_aaaf :=_edcd ;_dgba :=_edcd ._aab ;_dedcb :=_edcd ._gebc ;if !(_dgba !=nil &&!_dgba ._cdag &&_dedcb !=nil &&!_dedcb ._cdag ){return nil ;};_fecd :=_dgba ._gebc ;if !(_fecd !=nil &&!_fecd ._cdag &&_fecd ==_dedcb ._aab ){return nil ;};return _dabbc (_aaaf ,_dgba ,_dedcb ,_fecd );};func _bcdf (_dcaa ,_gaaa float64 )bool {return _dcaa /_c .Max (_acbb ,_gaaa )< _bdcd };type event struct{_ccgdd float64 ;_gccge bool ;_acda int ;};func _dgdc (_aee ,_fdef bounded )float64 {return _aee .bbox ().Llx -_fdef .bbox ().Llx };func _ccee (_agga map[float64 ]map[float64 ]gridTile )[]float64 {_eeba :=make ([]float64 ,0,len (_agga ));_fcae :=make (map[float64 ]struct{},len (_agga ));for _ ,_bbcc :=range _agga {for _ecadf :=range _bbcc {if _ ,_bdadd :=_fcae [_ecadf ];_bdadd {continue ;};_eeba =append (_eeba ,_ecadf );_fcae [_ecadf ]=struct{}{};};};_eg .Float64s (_eeba );return _eeba ;};func (_adffg *wordBag )depthRange (_dcdc ,_caagb int )[]int {var _cedc []int ;for _adcd :=range _adffg ._bdfc {if _dcdc <=_adcd &&_adcd <=_caagb {_cedc =append (_cedc ,_adcd );};};if len (_cedc )==0{return nil ;};_eg .Ints (_cedc );return _cedc ;};const (RenderModeStroke RenderMode =1<<iota ;RenderModeFill ;RenderModeClip ;);func (_ggcb *shapesState )moveTo (_aec ,_decba float64 ){_ggcb ._gfad =true ;_ggcb ._gdfb =_ggcb .devicePoint (_aec ,_decba );if _cfe {_ee .Log .Info ("\u006d\u006fv\u0065\u0054\u006f\u003a\u0020\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0064\u0065\u0076\u0069\u0063\u0065\u003d%.\u0032\u0066",_aec ,_decba ,_ggcb ._gdfb );};};func (_eedb *textPara )text ()string {_feae :=new (_gf .Buffer );_eedb .writeText (_feae );return _feae .String ();};func (_gba *textObject )setFont (_dcc string ,_ccb float64 )error {if _gba ==nil {return nil ;};_gba ._bbda ._cdab =_ccb ;_afda ,_gbg :=_gba .getFont (_dcc );if _gbg !=nil {return _gbg ;};_gba ._bbda ._fba =_afda ;if _gba ._fgg .empty (){_gba ._fgg .push (_gba ._bbda );}else {_gba ._fgg .top ()._fba =_gba ._bbda ._fba ;};return nil ;};func (_dadf *textTable )toTextTable ()TextTable {if _agbe {_ee .Log .Info ("t\u006fT\u0065\u0078\u0074\u0054\u0061\u0062\u006c\u0065:\u0020\u0025\u0064\u0020x \u0025\u0064",_dadf ._cgba ,_dadf ._cccg );};_fadbb :=make ([][]TableCell ,_dadf ._cccg );for _fcga :=0;_fcga < _dadf ._cccg ;_fcga ++{_fadbb [_fcga ]=make ([]TableCell ,_dadf ._cgba );for _gbfd :=0;_gbfd < _dadf ._cgba ;_gbfd ++{_ceecg :=_dadf .get (_gbfd ,_fcga );if _ceecg ==nil {continue ;};if _agbe {_ef .Printf ("\u0025\u0034\u0064 \u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_gbfd ,_fcga ,_ceecg );};_fadbb [_fcga ][_gbfd ].Text =_ceecg .text ();_acgec :=0;_fadbb [_fcga ][_gbfd ].Marks ._ebgf =_ceecg .toTextMarks (&_acgec );};};return TextTable {W :_dadf ._cgba ,H :_dadf ._cccg ,Cells :_fadbb };};func (_cae *textObject )getCurrentFont ()*_fd .PdfFont {var _ced *_fd .PdfFont ;if !_cae ._fgg .empty (){_ced =_cae ._fgg .top ()._fba ;};if _ced ==nil {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020U\u0073\u0069\u006e\u0067\u0020d\u0065\u0066a\u0075\u006c\u0074\u002e");return _fd .DefaultFont ();};return _ced ;};func _gdbb (_gaae float64 )bool {return _c .Abs (_gaae )< _bcga };func _cbbd (_gede string ,_gceb []rulingList ){_ee .Log .Info ("\u0024\u0024 \u0025\u0064\u0020g\u0072\u0069\u0064\u0073\u0020\u002d\u0020\u0025\u0073",len (_gceb ),_gede );for _cffbc ,_cdfg :=range _gceb {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cffbc ,_cdfg .String ());};};func _bbgb (_eaafe float64 ,_edbce int )int {if _edbce ==0{_edbce =1;};_edccd :=float64 (_edbce );return int (_c .Round (_eaafe /_edccd )*_edccd );};func _efe (_bafa _ff .Point )*subpath {return &subpath {_bfgc :[]_ff .Point {_bafa }}};func (_gcgd *wordBag )scanBand (_bfde string ,_dcd *wordBag ,_gdfe func (_efb *wordBag ,_cedd *textWord )bool ,_cdbf ,_bdb ,_gddf float64 ,_acf ,_adae bool )int {_aegf :=_dcd ._cgdg ;var _adb map[int ]map[*textWord ]struct{};if !_acf {_adb =_gcgd .makeRemovals ();};_bafb :=_eaee *_aegf ;_cebc :=0;var _ebag []*textWord ;for _ ,_deag :=range _gcgd .depthBand (_cdbf -_bafb ,_bdb +_bafb ){if len (_gcgd ._bdfc [_deag ])==0{continue ;};for _ ,_cead :=range _gcgd ._bdfc [_deag ]{if !(_cdbf -_bafb <=_cead ._bcbgb &&_cead ._bcbgb <=_bdb +_bafb ){continue ;};if !_gdfe (_dcd ,_cead ){continue ;};_gabb :=2.0*_c .Abs (_cead ._geea -_dcd ._cgdg )/(_cead ._geea +_dcd ._cgdg );_dggc :=_c .Max (_cead ._geea /_dcd ._cgdg ,_dcd ._cgdg /_cead ._geea );_dfa :=_c .Min (_gabb ,_dggc );if _gddf > 0&&_dfa > _gddf {continue ;};if _dcd .blocked (_cead ){continue ;};if !_acf {_dcd .pullWord (_cead ,_deag ,_adb );};_ebag =append (_ebag ,_cead );_cebc ++;if !_adae {if _cead ._bcbgb < _cdbf {_cdbf =_cead ._bcbgb ;};if _cead ._bcbgb > _bdb {_bdb =_cead ._bcbgb ;};};if _acf {break ;};};};if !_acf {_gcgd .applyRemovals (_adb );};return _cebc ;};func (_dgb *wordBag )highestWord (_aggd int ,_aagg ,_ddba float64 )*textWord {for _ ,_fcgg :=range _dgb ._bdfc [_aggd ]{if _aagg <=_fcgg ._bcbgb &&_fcgg ._bcbgb <=_ddba {return _fcgg ;};};return nil ;};type lineRuling struct{_cfgf rulingKind ;_bedf markKind ;_cf .Color ;_eggg ,_beea _ff .Point ;};

// Append appends `mark` to the mark array.
func (_gdfg *TextMarkArray )Append (mark TextMark ){_gdfg ._ebgf =append (_gdfg ._ebgf ,mark )};type gridTiling struct{_fd .PdfRectangle ;_cdca []float64 ;_afbg []float64 ;_aceb map[float64 ]map[float64 ]gridTile ;};type imageExtractContext struct{_efc []ImageMark ;_ab int ;_dff int ;_da int ;_daf map[*_fc .PdfObjectStream ]*cachedImage ;_ga *ImageExtractOptions ;};type subpath struct{_bfgc []_ff .Point ;_efgf bool ;};func (_faca *textObject )moveLP (_fdaa ,_beb float64 ){_faca ._egeg .Concat (_ff .NewMatrix (1,0,0,1,_fdaa ,_beb ));_faca ._eegd =_faca ._egeg ;};func _eac (_fbf *_ega .ContentStreamOperation )(float64 ,error ){if len (_fbf .Params )!=1{_gae :=_e .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_fbf .Operand ,1,len (_fbf .Params ),_fbf .Params );return 0.0,_gae ;};return _fc .GetNumberAsFloat (_fbf .Params [0]);};func (_gaac *textObject )reset (){_gaac ._eegd =_ff .IdentityMatrix ();_gaac ._egeg =_ff .IdentityMatrix ();_gaac ._bcf =nil ;};func (_cdda paraList )merge ()*textPara {_ee .Log .Trace ("\u006d\u0065\u0072\u0067\u0065:\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_cdda ));if len (_cdda )==0{return nil ;};_cdda .sortReadingOrder ();_afge :=_cdda [0].PdfRectangle ;_agfe :=_cdda [0]._gcgdb ;for _ ,_cggcc :=range _cdda [1:]{_afge =_bbdgb (_afge ,_cggcc .PdfRectangle );_agfe =append (_agfe ,_cggcc ._gcgdb ...);};return _bfda (_afge ,_agfe );};

// New returns an Extractor instance for extracting content from the input PDF page.
func New (page *_fd .PdfPage )(*Extractor ,error ){_dfb ,_dbb :=page .GetAllContentStreams ();if _dbb !=nil {return nil ,_dbb ;};_dc ,_dbb :=page .GetMediaBox ();if _dbb !=nil {return nil ,_ef .Errorf ("\u0065\u0078\u0074r\u0061\u0063\u0074\u006fr\u0020\u0072\u0065\u0071\u0075\u0069\u0072e\u0073\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u002e\u0020\u0025\u0076",_dbb );};_ad :=&Extractor {_ge :_dfb ,_ca :page .Resources ,_ea :*_dc ,_gb :map[string ]fontEntry {},_be :map[string ]textResult {}};if _ad ._ea .Llx > _ad ._ea .Urx {_ee .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0058\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_ad ._ea );_ad ._ea .Llx ,_ad ._ea .Urx =_ad ._ea .Urx ,_ad ._ea .Llx ;};if _ad ._ea .Lly > _ad ._ea .Ury {_ee .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0059\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_ad ._ea );_ad ._ea .Lly ,_ad ._ea .Ury =_ad ._ea .Ury ,_ad ._ea .Lly ;};return _ad ,nil ;};func _ceadc (_gebce _fd .PdfRectangle )*ruling {return &ruling {_ecgg :_fafd ,_ebdb :_gebce .Urx ,_abdb :_gebce .Lly ,_dfbe :_gebce .Ury };};func _abdfe (_cceb ,_fgbf *textPara )bool {return _cgcd (_cceb ._bcfd ,_fgbf ._bcfd )};func (_efdbg paraList )toTextMarks ()[]TextMark {_dbafc :=0;var _aage []TextMark ;for _geeg ,_aafc :=range _efdbg {if _aafc ._abafb {continue ;};_bgcb :=_aafc .toTextMarks (&_dbafc );_aage =append (_aage ,_bgcb ...);if _geeg !=len (_efdbg )-1{if _accf (_aafc ,_efdbg [_geeg +1]){_aage =_agff (_aage ,&_dbafc ,"\u0020");}else {_aage =_agff (_aage ,&_dbafc ,"\u000a");_aage =_agff (_aage ,&_dbafc ,"\u000a");};};};_aage =_agff (_aage ,&_dbafc ,"\u000a");_aage =_agff (_aage ,&_dbafc ,"\u000a");return _aage ;};func (_adbff lineRuling )xDelta ()float64 {return _c .Abs (_adbff ._eggg .X -_adbff ._beea .X )};func (_ggdb *textObject )getFontDirect (_cacd string )(*_fd .PdfFont ,error ){_cdaa ,_cdbc :=_ggdb .getFontDict (_cacd );if _cdbc !=nil {return nil ,_cdbc ;};_fdfg ,_cdbc :=_fd .NewPdfFontFromPdfObject (_cdaa );if _cdbc !=nil {_ee .Log .Debug ("\u0067\u0065\u0074\u0046\u006f\u006e\u0074\u0044\u0069\u0072\u0065\u0063\u0074\u003a\u0020\u004e\u0065\u0077Pd\u0066F\u006f\u006e\u0074\u0046\u0072\u006f\u006d\u0050\u0064\u0066\u004f\u0062j\u0065\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d%\u0023\u0071\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cacd ,_cdbc );};return _fdfg ,_cdbc ;};func (_aegd lineRuling )yDelta ()float64 {return _c .Abs (_aegd ._beea .Y -_aegd ._beea .Y )};func (_baga *shapesState )lastpointEstablished ()(_ff .Point ,bool ){if _baga ._gfad {return _baga ._gdfb ,false ;};_efceg :=len (_baga ._bded );if _efceg > 0&&_baga ._bded [_efceg -1]._efgf {return _baga ._bded [_efceg -1].last (),false ;};return _ff .Point {},true ;};

// ExtractText processes and extracts all text data in content streams and returns as a string.
// It takes into account character encodings in the PDF file, which are decoded by
// CharcodeBytesToUnicode.
// Characters that can't be decoded are replaced with MissingCodeRune ('\ufffd' = �).
func (_edd *Extractor )ExtractText ()(string ,error ){_fea ,_ ,_ ,_ggd :=_edd .ExtractTextWithStats ();return _fea ,_ggd ;};func (_dfdd paraList )sortReadingOrder (){_ee .Log .Trace ("\u0073\u006fr\u0074\u0052\u0065\u0061\u0064i\u006e\u0067\u004f\u0072\u0064e\u0072\u003a\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_dfdd ));if len (_dfdd )<=1{return ;};_dfdd .computeEBBoxes ();_eg .Slice (_dfdd ,func (_daef ,_cdad int )bool {return _adab (_dfdd [_daef ],_dfdd [_cdad ])<=0});_edcac :=_dfdd .topoOrder ();_dfdd .reorder (_edcac );};func _gddfee (_gfcg []TextMark ,_fffab *int )[]TextMark {_ebgfc :=_gfcg [len (_gfcg )-1];_add :=[]rune (_ebgfc .Text );if len (_add )==1{_gfcg =_gfcg [:len (_gfcg )-1];_fecgf :=_gfcg [len (_gfcg )-1];*_fffab =_fecgf .Offset +len (_fecgf .Text );}else {_bfbb :=_edfa (_ebgfc .Text );*_fffab +=len (_bfbb )-len (_ebgfc .Text );_ebgfc .Text =_bfbb ;};return _gfcg ;};

// ExtractPageText returns the text contents of `e` (an Extractor for a page) as a PageText.
// TODO(peterwilliams97): The stats complicate this function signature and aren't very useful.
//                        Replace with a function like Extract() (*PageText, error)
func (_ebd *Extractor )ExtractPageText ()(*PageText ,int ,int ,error ){_adc ,_dbc ,_dca ,_eeb :=_ebd .extractPageText (_ebd ._ge ,_ebd ._ca ,_ff .IdentityMatrix (),0);if _eeb !=nil {return nil ,0,0,_eeb ;};_adc .computeViews ();_eeb =_bbge (_adc );if _eeb !=nil {return nil ,0,0,_eeb ;};return _adc ,_dbc ,_dca ,nil ;};

// String returns a string descibing `i`.
func (_feff gridTile )String ()string {_fcfg :=func (_dbgaa bool ,_abadfc string )string {if _dbgaa {return _abadfc ;};return "\u005f";};return _ef .Sprintf ("\u00256\u002e2\u0066\u0020\u0025\u0031\u0073%\u0031\u0073%\u0031\u0073\u0025\u0031\u0073",_feff .PdfRectangle ,_fcfg (_feff ._aegfg ,"\u004c"),_fcfg (_feff ._face ,"\u0052"),_fcfg (_feff ._aebf ,"\u0042"),_fcfg (_feff ._ggb ,"\u0054"));};func _dfbf (_gbgca []TextMark ,_beee *int ,_fbfg TextMark )[]TextMark {_fbfg .Offset =*_beee ;_gbgca =append (_gbgca ,_fbfg );*_beee +=len (_fbfg .Text );return _gbgca ;};var _bcee =TextMark {Text :"\u005b\u0058\u005d",Original :"\u0020",Meta :true ,FillColor :_cf .White ,StrokeColor :_cf .White };func (_dfg *textObject )setTextMatrix (_deee []float64 ){if len (_deee )!=6{_ee .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u006c\u0065\u006e\u0028\u0066\u0029\u0020\u0021\u003d\u0020\u0036\u0020\u0028\u0025\u0064\u0029",len (_deee ));return ;};_fgb ,_daa ,_ddfe ,_bgd ,_ade ,_adfe :=_deee [0],_deee [1],_deee [2],_deee [3],_deee [4],_deee [5];_dfg ._eegd =_ff .NewMatrix (_fgb ,_daa ,_ddfe ,_bgd ,_ade ,_adfe );_dfg ._egeg =_dfg ._eegd ;};func (_dead *textObject )showText (_dffbe []byte )error {return _dead .renderText (_dffbe )};func (_cabg intSet )has (_dceba int )bool {_ ,_bcbb :=_cabg [_dceba ];return _bcbb };func (_ageb *wordBag )getDepthIdx (_fed float64 )int {_gfced :=_ageb .depthIndexes ();_gece :=_bfbf (_fed );if _gece < _gfced [0]{return _gfced [0];};if _gece > _gfced [len (_gfced )-1]{return _gfced [len (_gfced )-1];};return _gece ;};func (_faf *subpath )add (_bccc ..._ff .Point ){_faf ._bfgc =append (_faf ._bfgc ,_bccc ...)};

// String returns a description of `w`.
func (_cggb *textWord )String ()string {return _ef .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_cggb ._bcbgb ,_cggb .PdfRectangle ,_cggb ._geea ,_cggb ._eddb );};func _abe (_gfge *Extractor ,_bbdb *_fd .PdfPageResources ,_gca _ega .GraphicsState ,_aea *textState ,_baef *stateStack )*textObject {return &textObject {_ccd :_gfge ,_ebdd :_bbdb ,_dbd :_gca ,_fgg :_baef ,_bbda :_aea ,_eegd :_ff .IdentityMatrix (),_egeg :_ff .IdentityMatrix ()};};func (_fee *stateStack )top ()*textState {if _fee .empty (){return nil ;};return (*_fee )[_fee .size ()-1];};func _cgcd (_cbad ,_ggcc _fd .PdfRectangle )bool {return _ggcc .Llx <=_cbad .Urx &&_cbad .Llx <=_ggcc .Urx ;};

// TextMarkArray is a collection of TextMarks.
type TextMarkArray struct{_ebgf []TextMark };func (_acef paraList )readBefore (_egg []int ,_ffc ,_dgdg int )bool {_cdbg ,_cecb :=_acef [_ffc ],_acef [_dgdg ];if _abdfe (_cdbg ,_cecb )&&_cdbg .Lly > _cecb .Lly {return true ;};if !(_cdbg ._bcfd .Urx < _cecb ._bcfd .Llx ){return false ;};_fadba ,_becd :=_cdbg .Lly ,_cecb .Lly ;if _fadba > _becd {_becd ,_fadba =_fadba ,_becd ;};_cedf :=_c .Max (_cdbg ._bcfd .Llx ,_cecb ._bcfd .Llx );_eeef :=_c .Min (_cdbg ._bcfd .Urx ,_cecb ._bcfd .Urx );_efbc :=_acef .llyRange (_egg ,_fadba ,_becd );for _ ,_bdca :=range _efbc {if _bdca ==_ffc ||_bdca ==_dgdg {continue ;};_fdbf :=_acef [_bdca ];if _fdbf ._bcfd .Llx <=_eeef &&_cedf <=_fdbf ._bcfd .Urx {return false ;};};return true ;};func (_ecef *wordBag )sort (){for _ ,_aebeg :=range _ecef ._bdfc {_eg .Slice (_aebeg ,func (_ddg ,_bdaa int )bool {return _dgdc (_aebeg [_ddg ],_aebeg [_bdaa ])< 0});};};func _gbdgg (_fffe string ,_edfg int )string {if len (_fffe )< _edfg {return _fffe ;};return _fffe [:_edfg ];};func (_cdb *textObject )renderText (_caf []byte )error {if _cdb ._dcb {_ee .Log .Debug ("\u0072\u0065\u006e\u0064\u0065r\u0054\u0065\u0078\u0074\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u0066\u006f\u006e\u0074\u002e\u0020\u004e\u006f\u0074\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u002e");return nil ;};_cgd :=_cdb .getCurrentFont ();_cefa :=_cgd .BytesToCharcodes (_caf );_aeb ,_gcb ,_bca :=_cgd .CharcodesToStrings (_cefa );if _bca > 0{_ee .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_gcb ,_bca );};_cdb ._bbda ._cca +=_gcb ;_cdb ._bbda ._eege +=_bca ;_gea :=_cdb ._bbda ;_gabe :=_gea ._cdab ;_fdfe :=_gea ._fcd /100.0;_gcad ,_ebeb :=_cgd .GetRuneMetrics (' ');if !_ebeb {_gcad ,_ebeb =_cgd .GetCharMetrics (32);};if !_ebeb {_gcad ,_ =_fd .DefaultFont ().GetRuneMetrics (' ');};_cfa :=_gcad .Wx *_caa ;_ee .Log .Trace ("\u0073p\u0061\u0063e\u0057\u0069\u0064t\u0068\u003d\u0025\u002e\u0032\u0066\u0020t\u0065\u0078\u0074\u003d\u0025\u0071 \u0066\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0066\u006f\u006et\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",_cfa ,_aeb ,_cgd ,_gabe );_decg :=_ff .NewMatrix (_gabe *_fdfe ,0,0,_gabe ,0,_gea ._bcg );if _gbfba {_ee .Log .Info ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0074\u0065\u0078t\u0073\u003d\u0025\u0071",len (_cefa ),_cefa ,_aeb );};_ee .Log .Trace ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0072\u0075\u006ee\u0073\u003d\u0025\u0071",len (_cefa ),_cefa ,len (_aeb ));_dfd :=_cdb .getFillColor ();_cgf :=_cdb .getStrokeColor ();for _bdf ,_bbdg :=range _aeb {_gcaf :=[]rune (_bbdg );if len (_gcaf )==1&&_gcaf [0]=='\x00'{continue ;};_gcdb :=_cefa [_bdf ];_bda :=_cdb ._dbd .CTM .Mult (_cdb ._eegd ).Mult (_decg );_aag :=0.0;if len (_gcaf )==1&&_gcaf [0]==32{_aag =_gea ._abag ;};_cdc ,_ccbe :=_cgd .GetCharMetrics (_gcdb );if !_ccbe {_ee .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u004e\u006f \u006d\u0065\u0074r\u0069\u0063\u0020\u0066\u006f\u0072\u0020\u0063\u006fde\u003d\u0025\u0064 \u0072\u003d0\u0078\u0025\u0030\u0034\u0078\u003d%\u002b\u0071 \u0025\u0073",_gcdb ,_gcaf ,_gcaf ,_cgd );return _ef .Errorf ("\u006e\u006f\u0020\u0063\u0068\u0061\u0072\u0020\u006d\u0065\u0074\u0072\u0069\u0063\u0073:\u0020f\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0063\u006f\u0064\u0065\u003d\u0025\u0064",_cgd .String (),_gcdb );};_cebd :=_ff .Point {X :_cdc .Wx *_caa ,Y :_cdc .Wy *_caa };_fged :=_ff .Point {X :(_cebd .X *_gabe +_aag )*_fdfe };_gbag :=_ff .Point {X :(_cebd .X *_gabe +_gea ._bcd +_aag )*_fdfe };if _gbfba {_ee .Log .Info ("\u0074\u0066\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0063\u003d\u0025\u002e\u0032f\u0020t\u0077\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_gabe ,_gea ._bcd ,_gea ._abag ,_fdfe );_ee .Log .Info ("\u0064x\u002c\u0064\u0079\u003d%\u002e\u0033\u0066\u0020\u00740\u003d%\u002e3\u0066\u0020\u0074\u003d\u0025\u002e\u0033f",_cebd ,_fged ,_gbag );};_eagd :=_agfg (_fged );_ebcc :=_agfg (_gbag );_babd :=_cdb ._dbd .CTM .Mult (_cdb ._eegd ).Mult (_eagd );if _feec {_ee .Log .Info ("e\u006e\u0064\u003a\u000a\tC\u0054M\u003d\u0025\u0073\u000a\u0009 \u0074\u006d\u003d\u0025\u0073\u000a"+"\u0009\u0020t\u0064\u003d\u0025s\u0020\u0078\u006c\u0061\u0074\u003d\u0025\u0073\u000a"+"\u0009t\u0064\u0030\u003d\u0025s\u000a\u0009\u0020\u0020\u2192 \u0025s\u0020x\u006c\u0061\u0074\u003d\u0025\u0073",_cdb ._dbd .CTM ,_cdb ._eegd ,_ebcc ,_bdg (_cdb ._dbd .CTM .Mult (_cdb ._eegd ).Mult (_ebcc )),_eagd ,_babd ,_bdg (_babd ));};_caff ,_acb :=_cdb .newTextMark (_bb .ExpandLigatures (_gcaf ),_bda ,_bdg (_babd ),_c .Abs (_cfa *_bda .ScalingFactorX ()),_cgd ,_cdb ._bbda ._bcd ,_dfd ,_cgf );if !_acb {_ee .Log .Debug ("\u0054\u0065\u0078\u0074\u0020\u006d\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069d\u0065 \u0070\u0061\u0067\u0065\u002e\u0020\u0053\u006b\u0069\u0070\u0070\u0069\u006e\u0067");continue ;};if _cgd ==nil {_ee .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u002e");}else if _cgd .Encoder ()==nil {_ee .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020N\u006f\u0020\u0065\u006e\u0063\u006f\u0064\u0069\u006eg\u002e\u0020\u0066o\u006et\u003d\u0025\u0073",_cgd );}else {if _ffad ,_afg :=_cgd .Encoder ().CharcodeToRune (_gcdb );_afg {_caff ._abcdc =string (_ffad );};};_ee .Log .Trace ("i\u003d\u0025\u0064\u0020\u0063\u006fd\u0065\u003d\u0025\u0064\u0020\u006d\u0061\u0072\u006b=\u0025\u0073\u0020t\u0072m\u003d\u0025\u0073",_bdf ,_gcdb ,_caff ,_bda );_cdb ._bcf =append (_cdb ._bcf ,&_caff );_cdb ._eegd .Concat (_ebcc );};return nil ;};func (_dgad *shapesState )newSubPath (){_dgad .clearPath ();if _cfe {_ee .Log .Info ("\u006e\u0065\u0077\u0053\u0075\u0062\u0050\u0061\u0074h\u003a\u0020\u0025\u0073",_dgad );};};

// TextMark represents extracted text on a page with information regarding both textual content,
// formatting (font and size) and positioning.
// It is the smallest unit of text on a PDF page, typically a single character.
//
// getBBox() in test_text.go shows how to compute bounding boxes of substrings of extracted text.
// The following code extracts the text on PDF page `page` into `text` then finds the bounding box
// `bbox` of substring `term` in `text`.
//
//     ex, _ := New(page)
//     // handle errors
//     pageText, _, _, err := ex.ExtractPageText()
//     // handle errors
//     text := pageText.Text()
//     textMarks := pageText.Marks()
//
//     	start := strings.Index(text, term)
//      end := start + len(term)
//      spanMarks, err := textMarks.RangeOffset(start, end)
//      // handle errors
//      bbox, ok := spanMarks.BBox()
//      // handle errors
type TextMark struct{

// Text is the extracted text.
Text string ;

// Original is the text in the PDF. It has not been decoded like `Text`.
Original string ;

// BBox is the bounding box of the text.
BBox _fd .PdfRectangle ;

// Font is the font the text was drawn with.
Font *_fd .PdfFont ;

// FontSize is the font size the text was drawn with.
FontSize float64 ;

// Offset is the offset of the start of TextMark.Text in the extracted text. If you do this
//   text, textMarks := pageText.Text(), pageText.Marks()
//   marks := textMarks.Elements()
// then marks[i].Offset is the offset of marks[i].Text in text.
Offset int ;

// Meta is set true for spaces and line breaks that we insert in the extracted text. We insert
// spaces (line breaks) when we see characters that are over a threshold horizontal (vertical)
//  distance  apart. See wordJoiner (lineJoiner) in PageText.computeViews().
Meta bool ;

// FillColor is the fill color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
FillColor _cf .Color ;

// StrokeColor is the stroke color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
StrokeColor _cf .Color ;};func _fbcc (_agdc ,_edgfg _ff .Point )rulingKind {_bacaeb :=_c .Abs (_agdc .X -_edgfg .X );_ebdcb :=_c .Abs (_agdc .Y -_edgfg .Y );return _cfeg (_bacaeb ,_ebdcb ,_bdcd );};func (_bgcd *textLine )appendWord (_cdaab *textWord ){_bgcd ._bbf =append (_bgcd ._bbf ,_cdaab );_bgcd .PdfRectangle =_bbdgb (_bgcd .PdfRectangle ,_cdaab .PdfRectangle );if _cdaab ._geea > _bgcd ._ecg {_bgcd ._ecg =_cdaab ._geea ;};if _cdaab ._bcbgb > _bgcd ._aagbf {_bgcd ._aagbf =_cdaab ._bcbgb ;};};func _agff (_ebfb []TextMark ,_abb *int ,_bfgfb string )[]TextMark {_cdgg :=_bcee ;_cdgg .Text =_bfgfb ;return _dfbf (_ebfb ,_abb ,_cdgg );};type textMark struct{_fd .PdfRectangle ;_gcfgg int ;_aefc string ;_abcdc string ;_cdbd *_fd .PdfFont ;_agcf float64 ;_fege float64 ;_edgf _ff .Matrix ;_fbgf _ff .Point ;_gddfe _fd .PdfRectangle ;_bada _cf .Color ;_afga _cf .Color ;};func _dfbg (_fdgf ,_ffaa bounded )float64 {return _gbd (_fdgf )-_gbd (_ffaa )};func _gee (_dadc []*textMark ,_bbcf _fd .PdfRectangle ,_bfa rulingList ,_aeeb []gridTiling )paraList {_ee .Log .Trace ("\u006d\u0061\u006b\u0065\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065\u003a \u0025\u0064\u0020\u0065\u006c\u0065m\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065=\u0025\u002e\u0032\u0066",len (_dadc ),_bbcf );if len (_dadc )==0{return nil ;};_beab :=_fbdb (_dadc ,_bbcf );if len (_beab )==0{return nil ;};_bfa .log ("\u006d\u0061\u006be\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065");_efdb ,_bceea :=_bfa .vertsHorzs ();_eea :=_dfc (_beab ,_bbcf .Ury ,_efdb ,_bceea );_ffbdc :=_fdfc (_eea ,_bbcf .Ury ,_efdb ,_bceea );_ffbdc =_gef (_ffbdc );_aefbf :=make (paraList ,0,len (_ffbdc ));for _ ,_adfb :=range _ffbdc {_edcb :=_adfb .arrangeText ();if _edcb !=nil {_aefbf =append (_aefbf ,_edcb );};};if len (_aefbf )>=_effe {_aefbf =_aefbf .extractTables (_aeeb );};_aefbf .sortReadingOrder ();_aefbf .log ("\u0073\u006f\u0072te\u0064\u0020\u0069\u006e\u0020\u0072\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u006f\u0072\u0064\u0065\u0072");return _aefbf ;};type rectRuling struct{_gceg rulingKind ;_dgaa markKind ;_cf .Color ;_fd .PdfRectangle ;};func _egbb (_dedca []pathSection )rulingList {_bdaga (_dedca );if _gbde {_ee .Log .Info ("\u006da\u006b\u0065\u0046\u0069l\u006c\u0052\u0075\u006c\u0069n\u0067s\u003a \u0025\u0064\u0020\u0066\u0069\u006c\u006cs",len (_dedca ));};var _fdcb rulingList ;for _ ,_gcda :=range _dedca {for _ ,_ebccb :=range _gcda ._fdag {if !_ebccb .isQuadrilateral (){if _gbde {_ee .Log .Error ("!\u0069s\u0051\u0075\u0061\u0064\u0072\u0069\u006c\u0061t\u0065\u0072\u0061\u006c: \u0025\u0073",_ebccb );};continue ;};if _aafcf ,_aedf :=_ebccb .makeRectRuling (_gcda .Color );_aedf {_fdcb =append (_fdcb ,_aafcf );}else {if _gbde {_ee .Log .Error ("\u0021\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0073",_ebccb );};};};};_fdcb =_fdcb .tidied ("\u0066\u0069\u006cl\u0073");if _gbde {_ee .Log .Info ("\u006d\u0061\u006b\u0065Fi\u006c\u006c\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0073",_fdcb .String ());};return _fdcb ;};func (_acace paraList )findTextTables ()[]*textTable {var _dfde []*textTable ;for _ ,_adgfc :=range _acace {if _adgfc .taken ()||_adgfc .Width ()==0{continue ;};_dgfg :=_adgfc .isAtom ();if _dgfg ==nil {continue ;};_dgfg .growTable ();if _dgfg ._cgba *_dgfg ._cccg < _effe {continue ;};_dgfg .markCells ();_dgfg .log ("\u0067\u0072\u006fw\u006e");_dfde =append (_dfde ,_dgfg );};return _dfde ;};type rulingKind int ;const _caa =1.0/1000.0;

// String returns a human readable description of `s`.
func (_bcada intSet )String ()string {var _agegf []int ;for _gddca :=range _bcada {if _bcada .has (_gddca ){_agegf =append (_agegf ,_gddca );};};_eg .Ints (_agegf );return _ef .Sprintf ("\u0025\u002b\u0076",_agegf );};func _beadd (_fcfae map[int ]intSet )[]int {_ecdec :=make ([]int ,0,len (_fcfae ));for _badd :=range _fcfae {_ecdec =append (_ecdec ,_badd );};_eg .Ints (_ecdec );return _ecdec ;};func (_debga *wordBag )minDepth ()float64 {return _debga ._dcg -(_debga .Ury -_debga ._cgdg )};func _becfb (_eded []*textWord ,_dece *textWord )[]*textWord {for _gbacf ,_cgdf :=range _eded {if _cgdf ==_dece {return _dcaac (_eded ,_gbacf );};};_ee .Log .Error ("\u0072\u0065\u006d\u006f\u0076e\u0057\u006f\u0072\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u0073\u0020\u0064o\u0065\u0073\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",_dece );return nil ;};func (_dbf *shapesState )fill (_acec *[]pathSection ){_cgeg :=pathSection {_fdag :_dbf ._bded ,Color :_dbf ._dfdc .getFillColor ()};*_acec =append (*_acec ,_cgeg );if _gbde {_efd :=_cgeg .bbox ();_ef .Printf ("\u0020 \u0020\u0020\u0046\u0049\u004c\u004c\u003a %\u0032\u0064\u0020\u0066\u0069\u006c\u006c\u0073\u0020\u0028\u0025\u0064\u0020\u006ee\u0077\u0029 \u0073\u0073\u003d%\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d\u0025\u0033\u0076\u0020\u0025\u0036\u002e\u0032f\u003d\u00256.\u0032\u0066\u0078%\u0036\u002e\u0032\u0066\u000a",len (*_acec ),len (_cgeg ._fdag ),_dbf ,_cgeg .Color ,_efd ,_efd .Width (),_efd .Height ());if _ggad {for _ddfa ,_ggcbc :=range _cgeg ._fdag {_ef .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_ddfa ,_ggcbc );if _ddfa ==10{break ;};};};};};func (_gced *ruling )equals (_gefb *ruling )bool {return _gced ._ecgg ==_gefb ._ecgg &&_acfba (_gced ._ebdb ,_gefb ._ebdb )&&_acfba (_gced ._abdb ,_gefb ._abdb )&&_acfba (_gced ._dfbe ,_gefb ._dfbe );};

// String returns a description of `p`.
func (_caeb *textPara )String ()string {_fbgfg :="";if _caeb ._dda !=nil {_fbgfg =_ef .Sprintf ("\u005b\u0025\u0064\u0078\u0025\u0064\u005d\u0020",_caeb ._dda ._cgba ,_caeb ._dda ._cccg );};return _ef .Sprintf ("\u0025\u0036\u002e\u0032f \u0025\u0073\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u0020\u0025\u0071",_caeb .PdfRectangle ,_fbgfg ,len (_caeb ._gcgdb ),_gbdgg (_caeb .text (),50));};func _bdaga (_cdfba []pathSection ){if _bceed < 0.0{return ;};if _gbde {_ee .Log .Info ("\u0067\u0072\u0061\u006e\u0075\u006c\u0061\u0072\u0069\u007a\u0065\u003a\u0020\u0025\u0064 \u0073u\u0062\u0070\u0061\u0074\u0068\u0020\u0073\u0065\u0063\u0074\u0069\u006f\u006e\u0073",len (_cdfba ));};for _fgacc ,_bgfg :=range _cdfba {for _bfed ,_gebdd :=range _bgfg ._fdag {for _aedb ,_ebde :=range _gebdd ._bfgc {_gebdd ._bfgc [_aedb ]=_ff .Point {X :_cfbgb (_ebde .X ),Y :_cfbgb (_ebde .Y )};if _gbde {_bdbf :=_gebdd ._bfgc [_aedb ];if !_eaefg (_ebde ,_bdbf ){_gbbae :=_ff .Point {X :_bdbf .X -_ebde .X ,Y :_bdbf .Y -_ebde .Y };_ef .Printf ("\u0025\u0034d \u002d\u0020\u00254\u0064\u0020\u002d\u0020%4d\u003a %\u002e\u0032\u0066\u0020\u2192\u0020\u0025.2\u0066\u0020\u0028\u0025\u0067\u0029\u000a",_fgacc ,_bfed ,_aedb ,_ebde ,_bdbf ,_gbbae );};};};};};};func _cfeg (_bbfe ,_ecafg ,_geaed float64 )rulingKind {if _bbfe >=_geaed &&_bcdf (_ecafg ,_bbfe ){return _bagdg ;};if _ecafg >=_geaed &&_bcdf (_bbfe ,_ecafg ){return _fafd ;};return _bfbaa ;};func (_gfgf *shapesState )quadraticTo (_aefa ,_gbba ,_abeb ,_abef float64 ){if _cfe {_ee .Log .Info ("\u0071\u0075\u0061d\u0072\u0061\u0074\u0069\u0063\u0054\u006f\u003a");};_gfgf .addPoint (_abeb ,_abef );};func (_ecbe gridTiling )complete ()bool {for _ ,_eaag :=range _ecbe ._aceb {for _ ,_caeae :=range _eaag {if !_caeae .complete (){return false ;};};};return true ;};

// TextTable represents a table.
// Cells are ordered top-to-bottom, left-to-right.
// Cells[y] is the (0-offset) y'th row in the table.
// Cells[y][x] is the (0-offset) x'th column in the table.
type TextTable struct{W ,H int ;Cells [][]TableCell ;};func _ccef (_gddb map[float64 ]gridTile )[]float64 {_gged :=make ([]float64 ,0,len (_gddb ));for _acaag :=range _gddb {_gged =append (_gged ,_acaag );};_eg .Float64s (_gged );return _gged ;};func _dcaac (_cbgg []*textWord ,_fecde int )[]*textWord {_fdccd :=len (_cbgg );copy (_cbgg [_fecde :],_cbgg [_fecde +1:]);return _cbgg [:_fdccd -1];};func (_aggf paraList )computeEBBoxes (){if _bad {_ee .Log .Info ("\u0063o\u006dp\u0075\u0074\u0065\u0045\u0042\u0042\u006f\u0078\u0065\u0073\u003a");};for _ ,_gcgb :=range _aggf {_gcgb ._bcfd =_gcgb .PdfRectangle ;};_bdage :=_aggf .yNeighbours (0);for _gfbg ,_fdgd :=range _aggf {_afaf :=_fdgd ._bcfd ;_dgab ,_cgfe :=-1.0e9,+1.0e9;for _ ,_ecbc :=range _bdage [_fdgd ]{_ccaf :=_aggf [_ecbc ]._bcfd ;if _ccaf .Urx < _afaf .Llx {_dgab =_c .Max (_dgab ,_ccaf .Urx );}else if _afaf .Urx < _ccaf .Llx {_cgfe =_c .Min (_cgfe ,_ccaf .Llx );};};for _egba ,_bbdga :=range _aggf {_dbegf :=_bbdga ._bcfd ;if _gfbg ==_egba ||_dbegf .Ury > _afaf .Lly {continue ;};if _dgab <=_dbegf .Llx &&_dbegf .Llx < _afaf .Llx {_afaf .Llx =_dbegf .Llx ;}else if _dbegf .Urx <=_cgfe &&_afaf .Urx < _dbegf .Urx {_afaf .Urx =_dbegf .Urx ;};};if _bad {_ef .Printf ("\u0025\u0034\u0064\u003a %\u0036\u002e\u0032\u0066\u2192\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0071\u000a",_gfbg ,_fdgd ._bcfd ,_afaf ,_gbdgg (_fdgd .text (),50));};_fdgd ._bcfd =_afaf ;};if _afdg {for _ ,_fadc :=range _aggf {_fadc .PdfRectangle =_fadc ._bcfd ;};};};type rulingList []*ruling ;

// String returns a description of `k`.
func (_abadf markKind )String ()string {_bcfb ,_eagfc :=_bgdg [_abadf ];if !_eagfc {return _ef .Sprintf ("\u004e\u006f\u0074\u0020\u0061\u0020\u006d\u0061\u0072k\u003a\u0020\u0025\u0064",_abadf );};return _bcfb ;};func (_egbe *wordBag )removeWord (_aced *textWord ,_abcg int ){_ggac :=_egbe ._bdfc [_abcg ];_ggac =_becfb (_ggac ,_aced );if len (_ggac )==0{delete (_egbe ._bdfc ,_abcg );}else {_egbe ._bdfc [_abcg ]=_ggac ;};};func (_edgd *textLine )pullWord (_aegab *wordBag ,_cbff *textWord ,_caggd int ){_edgd .appendWord (_cbff );_aegab .removeWord (_cbff ,_caggd );};func (_cdcag *textTable )depth ()float64 {_ddcg :=1e10;for _accd :=0;_accd < _cdcag ._cgba ;_accd ++{_fgge :=_cdcag .get (_accd ,0);if _fgge ==nil ||_fgge ._abafb {continue ;};_ddcg =_c .Min (_ddcg ,_fgge .depth ());};return _ddcg ;};func (_bdgc *textTable )bbox ()_fd .PdfRectangle {return _bdgc .PdfRectangle };func (_fdfda *shapesState )drawRectangle (_fgd ,_egf ,_aca ,_dbg float64 ){if _cfe {_bfcb :=_fdfda .devicePoint (_fgd ,_egf );_fbgg :=_fdfda .devicePoint (_fgd +_aca ,_egf +_dbg );_bccf :=_fd .PdfRectangle {Llx :_bfcb .X ,Lly :_bfcb .Y ,Urx :_fbgg .X ,Ury :_fbgg .Y };_ee .Log .Info ("d\u0072a\u0077\u0052\u0065\u0063\u0074\u0061\u006e\u0067l\u0065\u003a\u0020\u00256.\u0032\u0066",_bccf );};_fdfda .newSubPath ();_fdfda .moveTo (_fgd ,_egf );_fdfda .lineTo (_fgd +_aca ,_egf );_fdfda .lineTo (_fgd +_aca ,_egf +_dbg );_fdfda .lineTo (_fgd ,_egf +_dbg );_fdfda .closePath ();};func _eaefg (_fcbd ,_bafef _ff .Point )bool {return _fcbd .X ==_bafef .X &&_fcbd .Y ==_bafef .Y };

// String returns a string describing `tm`.
func (_ggdc TextMark )String ()string {_eaaf :=_ggdc .BBox ;var _ccdf string ;if _ggdc .Font !=nil {_ccdf =_ggdc .Font .String ();if len (_ccdf )> 50{_ccdf =_ccdf [:50]+"\u002e\u002e\u002e";};};var _abgd string ;if _ggdc .Meta {_abgd ="\u0020\u002a\u004d\u002a";};return _ef .Sprintf ("\u007b\u0054\u0065\u0078t\u004d\u0061\u0072\u006b\u003a\u0020\u0025\u0064\u0020%\u0071\u003d\u0025\u0030\u0032\u0078\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e2\u0066\u0029\u0020\u0028\u00256\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0025\u0073\u007d",_ggdc .Offset ,_ggdc .Text ,[]rune (_ggdc .Text ),_eaaf .Llx ,_eaaf .Lly ,_eaaf .Urx ,_eaaf .Ury ,_ccdf ,_abgd );};func _edfa (_adfec string )string {_gggf :=[]rune (_adfec );return string (_gggf [:len (_gggf )-1])};

// ImageMark represents an image drawn on a page and its position in device coordinates.
// All coordinates are in device coordinates.
type ImageMark struct{Image *_fd .Image ;

// Dimensions of the image as displayed in the PDF.
Width float64 ;Height float64 ;

// Position of the image in PDF coordinates (lower left corner).
X float64 ;Y float64 ;

// Angle in degrees, if rotated.
Angle float64 ;};func (_dggd rulingList )splitSec ()[]rulingList {_eg .Slice (_dggd ,func (_eegcf ,_bdde int )bool {_bbdf ,_fece :=_dggd [_eegcf ],_dggd [_bdde ];if _bbdf ._abdb !=_fece ._abdb {return _bbdf ._abdb < _fece ._abdb ;};return _bbdf ._dfbe < _fece ._dfbe ;});_aggb :=make (map[*ruling ]struct{},len (_dggd ));_ecaa :=func (_bdfe *ruling )rulingList {_cgff :=rulingList {_bdfe };_aggb [_bdfe ]=struct{}{};for _ ,_eeadc :=range _dggd {if _ ,_cbcaf :=_aggb [_eeadc ];_cbcaf {continue ;};for _ ,_ebcf :=range _cgff {if _eeadc .alignsSec (_ebcf ){_cgff =append (_cgff ,_eeadc );_aggb [_eeadc ]=struct{}{};break ;};};};return _cgff ;};_ecde :=[]rulingList {_ecaa (_dggd [0])};for _ ,_caef :=range _dggd [1:]{if _ ,_becc :=_aggb [_caef ];_becc {continue ;};_ecde =append (_ecde ,_ecaa (_caef ));};return _ecde ;};type stateStack []*textState ;func _acfba (_feafc ,_cfbfc float64 )bool {return _c .Abs (_feafc -_cfbfc )<=_edbf };func (_egggc *ruling )alignsPrimary (_feee *ruling )bool {return _egggc ._ecgg ==_feee ._ecgg &&_c .Abs (_egggc ._ebdb -_feee ._ebdb )< _aegb *0.5;};func _adca (_bffa map[float64 ]map[float64 ]gridTile )[]float64 {_ffdb :=make ([]float64 ,0,len (_bffa ));for _dabg :=range _bffa {_ffdb =append (_ffdb ,_dabg );};_eg .Float64s (_ffdb );_feafg :=len (_ffdb );for _dged :=0;_dged < _feafg /2;_dged ++{_ffdb [_dged ],_ffdb [_feafg -1-_dged ]=_ffdb [_feafg -1-_dged ],_ffdb [_dged ];};return _ffdb ;};func (_ggea paraList )reorder (_fcba []int ){_acad :=make (paraList ,len (_ggea ));for _gfggd ,_daba :=range _fcba {_acad [_gfggd ]=_ggea [_daba ];};copy (_ggea ,_acad );};func (_ccgbg *textWord )computeText ()string {_bbad :=make ([]string ,len (_ccgbg ._agfd ));for _cgfc ,_fffg :=range _ccgbg ._agfd {_bbad [_cgfc ]=_fffg ._aefc ;};return _g .Join (_bbad ,"");};func (_aade *textPara )writeCellText (_gbea _ed .Writer ){for _fbae ,_acede :=range _aade ._gcgdb {_geae :=_acede .text ();_ddab :=_dggca &&_acede .endsInHyphen ()&&_fbae !=len (_aade ._gcgdb )-1;if _ddab {_geae =_edfa (_geae );};_gbea .Write ([]byte (_geae ));if !(_ddab ||_fbae ==len (_aade ._gcgdb )-1){_gbea .Write ([]byte (_egfd (_acede ._aagbf ,_aade ._gcgdb [_fbae +1]._aagbf )));};};};func (_aadb *textTable )emptyColumn (_fcbgb int )bool {for _acdf :=0;_acdf < _aadb ._cccg ;_acdf ++{_bade :=_aadb .get (_fcbgb ,_acdf );if _bade !=nil &&_bade .text ()!=""{return false ;};};return true ;};func (_bcde rulingList )mergePrimary ()float64 {_gcae :=_bcde [0]._ebdb ;for _ ,_cbagd :=range _bcde [1:]{_gcae +=_cbagd ._ebdb ;};return _gcae /float64 (len (_bcde ));};func (_gbe *textObject )showTextAdjusted (_aef *_fc .PdfObjectArray )error {_fac :=false ;for _ ,_ddc :=range _aef .Elements (){switch _ddc .(type ){case *_fc .PdfObjectFloat ,*_fc .PdfObjectInteger :_dfe ,_gaf :=_fc .GetNumberAsFloat (_ddc );if _gaf !=nil {_ee .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078t\u0041\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0042\u0061\u0064\u0020\u006e\u0075\u006d\u0065r\u0069\u0063\u0061\u006c\u0020a\u0072\u0067\u002e\u0020\u006f\u003d\u0025\u0073\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ddc ,_aef );return _gaf ;};_cfbf ,_fca :=-_dfe *0.001*_gbe ._bbda ._cdab ,0.0;if _fac {_fca ,_cfbf =_cfbf ,_fca ;};_ebg :=_agfg (_ff .Point {X :_cfbf ,Y :_fca });_gbe ._eegd .Concat (_ebg );case *_fc .PdfObjectString :_ecb ,_abaf :=_fc .GetStringBytes (_ddc );if !_abaf {_ee .Log .Trace ("s\u0068\u006f\u0077\u0054\u0065\u0078\u0074\u0041\u0064j\u0075\u0073\u0074\u0065\u0064\u003a\u0020Ba\u0064\u0020\u0073\u0074r\u0069\u006e\u0067\u0020\u0061\u0072\u0067\u002e\u0020o=\u0025\u0073 \u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ddc ,_aef );return _fc .ErrTypeError ;};_gbe .renderText (_ecb );default:_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078\u0074A\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0055\u006e\u0065\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065\u0020\u0028%T\u0029\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ddc ,_aef );return _fc .ErrTypeError ;};};return nil ;};func (_afdc *wordBag )text ()string {_acbdg :=_afdc .allWords ();_geg :=make ([]string ,len (_acbdg ));for _gbgdg ,_ddda :=range _acbdg {_geg [_gbgdg ]=_ddda ._eddb ;};return _g .Join (_geg ,"\u0020");};func (_efagf *wordBag )blocked (_ffdg *textWord )bool {if _ffdg .Urx < _efagf .Llx {_eefb :=_ceadc (_ffdg .PdfRectangle );_gdd :=_bgab (_efagf .PdfRectangle );if _efagf ._caag .blocks (_eefb ,_gdd ){if _bggg {_ee .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0078\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_ffdg ,_efagf );};return true ;};}else if _efagf .Urx < _ffdg .Llx {_cab :=_ceadc (_efagf .PdfRectangle );_egb :=_bgab (_ffdg .PdfRectangle );if _efagf ._caag .blocks (_cab ,_egb ){if _bggg {_ee .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0078\u2192\u0020:\u0020\u0025\u0073\u0020%s",_ffdg ,_efagf );};return true ;};};if _ffdg .Ury < _efagf .Lly {_fbd :=_fbacd (_ffdg .PdfRectangle );_gdcc :=_gadg (_efagf .PdfRectangle );if _efagf ._dacd .blocks (_fbd ,_gdcc ){if _bggg {_ee .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0079\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_ffdg ,_efagf );};return true ;};}else if _efagf .Ury < _ffdg .Lly {_aaa :=_fbacd (_efagf .PdfRectangle );_baea :=_gadg (_ffdg .PdfRectangle );if _efagf ._dacd .blocks (_aaa ,_baea ){if _bggg {_ee .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0079\u2192\u0020:\u0020\u0025\u0073\u0020%s",_ffdg ,_efagf );};return true ;};};return false ;};func _dbfb (_cfcb ,_bfeb _fd .PdfRectangle )(_fd .PdfRectangle ,bool ){if !_cefb (_cfcb ,_bfeb ){return _fd .PdfRectangle {},false ;};return _fd .PdfRectangle {Llx :_c .Max (_cfcb .Llx ,_bfeb .Llx ),Urx :_c .Min (_cfcb .Urx ,_bfeb .Urx ),Lly :_c .Max (_cfcb .Lly ,_bfeb .Lly ),Ury :_c .Min (_cfcb .Ury ,_bfeb .Ury )},true ;};func (_efagb *shapesState )cubicTo (_acc ,_baaa ,_aecf ,_baca ,_bfg ,_ggda float64 ){if _cfe {_ee .Log .Info ("\u0063\u0075\u0062\u0069\u0063\u0054\u006f\u003a");};_efagb .addPoint (_bfg ,_ggda );};func (_adcg paraList )topoOrder ()[]int {if _cffb {_ee .Log .Info ("\u0074\u006f\u0070\u006f\u004f\u0072\u0064\u0065\u0072\u003a");};_ecac :=len (_adcg );_eacb :=make ([]bool ,_ecac );_agaa :=make ([]int ,0,_ecac );_fedb :=_adcg .llyOrdering ();var _bga func (_gfbe int );_bga =func (_baccb int ){_eacb [_baccb ]=true ;for _dbdc :=0;_dbdc < _ecac ;_dbdc ++{if !_eacb [_dbdc ]{if _adcg .readBefore (_fedb ,_baccb ,_dbdc ){_bga (_dbdc );};};};_agaa =append (_agaa ,_baccb );};for _ggcf :=0;_ggcf < _ecac ;_ggcf ++{if !_eacb [_ggcf ]{_bga (_ggcf );};};return _dgae (_agaa );};func _cefc (_dffba []pathSection )rulingList {_bdaga (_dffba );if _gbde {_ee .Log .Info ("\u006d\u0061k\u0065\u0053\u0074\u0072\u006f\u006b\u0065\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0064\u0020\u0073\u0074\u0072ok\u0065\u0073",len (_dffba ));};var _egec rulingList ;for _ ,_dabb :=range _dffba {for _ ,_aae :=range _dabb ._fdag {if len (_aae ._bfgc )< 2{continue ;};_acac :=_aae ._bfgc [0];for _ ,_gfae :=range _aae ._bfgc [1:]{if _egaf ,_fcff :=_abbf (_acac ,_gfae ,_dabb .Color );_fcff {_egec =append (_egec ,_egaf );};_acac =_gfae ;};};};_egec =_egec .tidied ("\u0073t\u0072\u006f\u006b\u0065\u0073");if _gbde {_ee .Log .Info ("m\u0061\u006b\u0065\u0053tr\u006fk\u0065\u0052\u0075\u006c\u0069n\u0067\u0073\u003a\u0020\u0025\u0073",_egec );};return _egec ;};func _ebbd (_ddgf ,_cgfb _ff .Point )rulingKind {_eebg :=_c .Abs (_ddgf .X -_cgfb .X );_aecd :=_c .Abs (_ddgf .Y -_cgfb .Y );return _cfeg (_eebg ,_aecd ,_ggace );};func _gbd (_gaeb bounded )float64 {return -_gaeb .bbox ().Lly };func (_dbece *subpath )last ()_ff .Point {return _dbece ._bfgc [len (_dbece ._bfgc )-1]};func (_ede *stateStack )pop ()*textState {if _ede .empty (){return nil ;};_ebb :=*(*_ede )[len (*_ede )-1];*_ede =(*_ede )[:len (*_ede )-1];return &_ebb ;};func _cfbgb (_bcaa float64 )float64 {return _bceed *_c .Round (_bcaa /_bceed )};func (_ebdeg paraList )eventNeighbours (_egbad []event )map[*textPara ][]int {_eg .Slice (_egbad ,func (_fccd ,_egac int )bool {_edcae ,_adffb :=_egbad [_fccd ],_egbad [_egac ];_ecada ,_acaae :=_edcae ._ccgdd ,_adffb ._ccgdd ;if _ecada !=_acaae {return _ecada < _acaae ;};if _edcae ._gccge !=_adffb ._gccge {return _edcae ._gccge ;};return _fccd < _egac ;});_bafba :=make (map[int ]intSet );_agaf :=make (intSet );for _ ,_bfcd :=range _egbad {if _bfcd ._gccge {_bafba [_bfcd ._acda ]=make (intSet );for _gbfeg :=range _agaf {if _gbfeg !=_bfcd ._acda {_bafba [_bfcd ._acda ].add (_gbfeg );_bafba [_gbfeg ].add (_bfcd ._acda );};};_agaf .add (_bfcd ._acda );}else {_agaf .del (_bfcd ._acda );};};_ggfeb :=map[*textPara ][]int {};for _efgb ,_agfea :=range _bafba {_adcc :=_ebdeg [_efgb ];if len (_agfea )==0{_ggfeb [_adcc ]=nil ;continue ;};_fcacf :=make ([]int ,len (_agfea ));_cgdd :=0;for _faaag :=range _agfea {_fcacf [_cgdd ]=_faaag ;_cgdd ++;};_ggfeb [_adcc ]=_fcacf ;};return _ggfeb ;};func (_geab paraList )extractTables (_afacf []gridTiling )paraList {if _agbe {_ee .Log .Debug ("\u0065\u0078\u0074r\u0061\u0063\u0074\u0054\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_geab ));};if len (_geab )< _effe {return _geab ;};_adaed :=_geab .findTables (_afacf );if _agbe {_ee .Log .Info ("c\u006f\u006d\u0062\u0069\u006e\u0065d\u0020\u0074\u0061\u0062\u006c\u0065s\u0020\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_adaed ));for _egce ,_bafc :=range _adaed {_bafc .log (_ef .Sprintf ("c\u006f\u006d\u0062\u0069\u006e\u0065\u0064\u0020\u0025\u0064",_egce ));};};return _geab .applyTables (_adaed );};type gridTile struct{_fd .PdfRectangle ;_ggb ,_aegfg ,_aebf ,_face bool ;};type markKind int ;const (_dggca =true ;_eagb =true ;_aaggg =true ;_afdg =false ;_ecce =false ;_adg =6;_eddg =3.0;_dggb =200;_ebbc =true ;_cfd =true ;_daed =true ;_edbba =true ;_ddea =false ;);func (_edfc rulingList )coalesce ()rulingList {if len (_edfc )==0{return nil ;};_edfc .sortStrict ();_bbgf :=_edfc [0];var _abff rulingList ;for _ ,_cfae :=range _edfc [1:]{_ecec :=_bbgf ._ecgg ==_cfae ._ecgg &&_bbgf ._ebdb ==_cfae ._ebdb &&_cfae ._abdb <=_bbgf ._dfbe +_aegb ;if _ecec {_cdbaa :=*_bbgf ;_bbgf ._dfbe =_cfae ._dfbe ;if _bbgf ._dfbe < _bbgf ._abdb {_ee .Log .Error ("v\u0030\u002e\u0068\u0069\u0020\u003c \u0076\u0030\u002e\u006c\u006f\u000a\t\u0076\u0030\u003d\u0025\u0073\u000a\u0009 \u0076\u003d\u0025\u0073\u000a\u0009\u0020\u2192\u0025\u0073",_cdbaa .String (),_cfae .String (),_bbgf .String ());return nil ;};}else {_abff =append (_abff ,_bbgf );_bbgf =_cfae ;};};_abff =append (_abff ,_bbgf );return _abff ;};func (_fdgb *textObject )moveTextSetLeading (_gaaf ,_cda float64 ){_fdgb ._bbda ._dffa =-_cda ;_fdgb .moveLP (_gaaf ,_cda );};func _gadg (_fbbe _fd .PdfRectangle )*ruling {return &ruling {_ecgg :_bagdg ,_ebdb :_fbbe .Lly ,_abdb :_fbbe .Llx ,_dfbe :_fbbe .Urx };};type cachedImage struct{_dd *_fd .Image ;_fa _fd .PdfColorspace ;};const _gfcec =10;func (_edag lineRuling )asRuling ()(*ruling ,bool ){_ebagd :=ruling {_ecgg :_edag ._cfgf ,Color :_edag .Color ,_caeg :_edbe };switch _edag ._cfgf {case _fafd :_ebagd ._ebdb =_edag .xMean ();_ebagd ._abdb =_c .Min (_edag ._eggg .Y ,_edag ._beea .Y );_ebagd ._dfbe =_c .Max (_edag ._eggg .Y ,_edag ._beea .Y );case _bagdg :_ebagd ._ebdb =_edag .yMean ();_ebagd ._abdb =_c .Min (_edag ._eggg .X ,_edag ._beea .X );_ebagd ._dfbe =_c .Max (_edag ._eggg .X ,_edag ._beea .X );default:_ee .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_edag ._cfgf );return nil ,false ;};return &_ebagd ,true ;};type intSet map[int ]struct{};func (_fffa *textPara )toCellTextMarks (_fgfce *int )[]TextMark {var _edcg []TextMark ;for _afgef ,_gfca :=range _fffa ._gcgdb {_dggf :=_gfca .toTextMarks (_fgfce );_acgb :=_dggca &&_gfca .endsInHyphen ()&&_afgef !=len (_fffa ._gcgdb )-1;if _acgb {_dggf =_gddfee (_dggf ,_fgfce );};_edcg =append (_edcg ,_dggf ...);if !(_acgb ||_afgef ==len (_fffa ._gcgdb )-1){_edcg =_agff (_edcg ,_fgfce ,_egfd (_gfca ._aagbf ,_fffa ._gcgdb [_afgef +1]._aagbf ));};};return _edcg ;};func (_fegf rulingList )tidied (_gdbe string )rulingList {_fadg :=_fegf .removeDuplicates ();_gbgcab :=_fadg .coalesce ();if _gbgcab ==nil {return nil ;};_gbgcab .sort ();if _gbde {_ee .Log .Info ("\u0074\u0069\u0064i\u0065\u0064\u003a\u0020\u0025\u0071\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u0075\u006e\u0069\u0071\u0075\u0065\u0073\u003d\u0025\u0064\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0064\u003d\u0025\u0064",_gdbe ,len (_fegf ),len (_fadg ),len (_gbgcab ));};_gbgcab .log ("\u0063o\u0061\u006c\u0065\u0073\u0063\u0065d");return _gbgcab ;};func (_efef *textPara )toTextMarks (_bgbda *int )[]TextMark {if _efef ._dda ==nil {return _efef .toCellTextMarks (_bgbda );};var _agef []TextMark ;for _bacae :=0;_bacae < _efef ._dda ._cccg ;_bacae ++{for _geee :=0;_geee < _efef ._dda ._cgba ;_geee ++{_gfbd :=_efef ._dda .get (_geee ,_bacae );if _gfbd ==nil {_agef =_agff (_agef ,_bgbda ,"\u0009");}else {_abbd :=_gfbd .toCellTextMarks (_bgbda );_agef =append (_agef ,_abbd ...);};_agef =_agff (_agef ,_bgbda ,"\u0020");};if _bacae < _efef ._dda ._cccg -1{_agef =_agff (_agef ,_bgbda ,"\u000a");};};return _agef ;};func (_gbed lineRuling )xMean ()float64 {return 0.5*(_gbed ._eggg .X +_gbed ._beea .X )};

// String returns a description of `b`.
func (_gbgc *wordBag )String ()string {var _cfba []string ;for _ ,_edgga :=range _gbgc .depthIndexes (){_afcb ,_ :=_gbgc ._bdfc [_edgga ];for _ ,_gfe :=range _afcb {_cfba =append (_cfba ,_gfe ._eddb );};};return _ef .Sprintf ("\u0025.\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065=\u0025\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0025\u0071",_gbgc .PdfRectangle ,_gbgc ._cgdg ,len (_cfba ),_cfba );};func (_bgag gridTile )complete ()bool {return _bgag .numBorders ()==4};func (_fcda rulingList )primaries ()[]float64 {_cddd :=make (map[float64 ]struct{},len (_fcda ));for _ ,_eadd :=range _fcda {_cddd [_eadd ._ebdb ]=struct{}{};};_ccf :=make ([]float64 ,len (_cddd ));_cddb :=0;for _eeed :=range _cddd {_ccf [_cddb ]=_eeed ;_cddb ++;};_eg .Float64s (_ccf );return _ccf ;};func (_dfcg *ruling )gridIntersecting (_gfcce *ruling )bool {return _acfba (_dfcg ._abdb ,_gfcce ._abdb )&&_acfba (_dfcg ._dfbe ,_gfcce ._dfbe );};func (_ddac *wordBag )arrangeText ()*textPara {_ddac .sort ();if _eagb {_ddac .removeDuplicates ();};var _aeec []*textLine ;for _ ,_debc :=range _ddac .depthIndexes (){for !_ddac .empty (_debc ){_eaba :=_ddac .firstReadingIndex (_debc );_feba :=_ddac .firstWord (_eaba );_bccee :=_cfac (_ddac ,_eaba );_dbfgd :=_feba ._geea ;_abggf :=_feba ._bcbgb -_eaee *_dbfgd ;_ffbb :=_feba ._bcbgb +_eaee *_dbfgd ;_feeac :=_ccgf *_dbfgd ;_ageg :=_bbeg *_dbfgd ;_fgdca :for {var _gcde *textWord ;_eagf :=0;for _ ,_gabg :=range _ddac .depthBand (_abggf ,_ffbb ){_eead :=_ddac .highestWord (_gabg ,_abggf ,_ffbb );if _eead ==nil {continue ;};_facf :=_dffac (_eead ,_bccee ._bbf [len (_bccee ._bbf )-1]);if _facf < -_ageg {break _fgdca ;};if _facf > _feeac {continue ;};if _gcde !=nil &&_dgdc (_eead ,_gcde )>=0{continue ;};_gcde =_eead ;_eagf =_gabg ;};if _gcde ==nil {break ;};_bccee .pullWord (_ddac ,_gcde ,_eagf );};_bccee .markWordBoundaries ();_aeec =append (_aeec ,_bccee );};};if len (_aeec )==0{return nil ;};_eg .Slice (_aeec ,func (_aace ,_bgga int )bool {return _adab (_aeec [_aace ],_aeec [_bgga ])< 0});_acgg :=_bfda (_ddac .PdfRectangle ,_aeec );if _cdfa {_ee .Log .Info ("\u0061\u0072\u0072an\u0067\u0065\u0054\u0065\u0078\u0074\u0020\u0021\u0021\u0021\u0020\u0070\u0061\u0072\u0061\u003d\u0025\u0073",_acgg .String ());if _gegc {for _egcgf ,_dafg :=range _acgg ._gcgdb {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_egcgf ,_dafg .String ());if _bage {for _agbc ,_ccdd :=range _dafg ._bbf {_ef .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_agbc ,_ccdd .String ());for _fgbff ,_feece :=range _ccdd ._agfd {_ef .Printf ("\u00251\u0032\u0064\u003a\u0020\u0025\u0073\n",_fgbff ,_feece .String ());};};};};};};return _acgg ;};

// String returns a human readable description of `path`.
func (_aecg *subpath )String ()string {_baec :=_aecg ._bfgc ;_dag :=len (_baec );if _dag <=5{return _ef .Sprintf ("\u0025d\u003a\u0020\u0025\u0036\u002e\u0032f",_dag ,_baec );};return _ef .Sprintf ("\u0025d\u003a\u0020\u0025\u0036.\u0032\u0066\u0020\u0025\u0036.\u0032f\u0020.\u002e\u002e\u0020\u0025\u0036\u002e\u0032f",_dag ,_baec [0],_baec [1],_baec [_dag -1]);};func _afeb (_eagfd string )(string ,bool ){_efbe :=[]rune (_eagfd );if len (_efbe )!=1{return "",false ;};_acefg ,_geac :=_gcgbcd [_efbe [0]];return _acefg ,_geac ;};

// String returns a human readable description of `vecs`.
func (_bfce rulingList )String ()string {if len (_bfce )==0{return "\u007b \u0045\u004d\u0050\u0054\u0059\u0020}";};_ggff ,_debe :=_bfce .vertsHorzs ();_bdaeg :=len (_ggff );_gfadd :=len (_debe );if _bdaeg ==0||_gfadd ==0{return _ef .Sprintf ("\u007b%\u0064\u0020\u0078\u0020\u0025\u0064}",_bdaeg ,_gfadd );};_dgbf :=_fd .PdfRectangle {Llx :_ggff [0]._ebdb ,Urx :_ggff [_bdaeg -1]._ebdb ,Lly :_debe [_gfadd -1]._ebdb ,Ury :_debe [0]._ebdb };return _ef .Sprintf ("\u007b%\u0064 \u0078\u0020\u0025\u0064\u003a\u0020\u0025\u002e\u0032\u0066\u007d",_bdaeg ,_gfadd ,_dgbf );};func (_dgdd *subpath )removeDuplicates (){if len (_dgdd ._bfgc )==0{return ;};_gdcg :=[]_ff .Point {_dgdd ._bfgc [0]};for _ ,_gaba :=range _dgdd ._bfgc [1:]{if !_eaefg (_gaba ,_gdcg [len (_gdcg )-1]){_gdcg =append (_gdcg ,_gaba );};};_dgdd ._bfgc =_gdcg ;};func (_degg *textLine )text ()string {var _ceec []string ;for _ ,_acgd :=range _degg ._bbf {if _acgd ._caeba {_ceec =append (_ceec ,"\u0020");};_ceec =append (_ceec ,_acgd ._eddb );};return _g .Join (_ceec ,"");};

// ExtractTextWithStats works like ExtractText but returns the number of characters in the output
// (`numChars`) and the number of characters that were not decoded (`numMisses`).
func (_ffa *Extractor )ExtractTextWithStats ()(_ddf string ,_dade int ,_ggdf int ,_ecd error ){_cfc ,_dade ,_ggdf ,_ecd :=_ffa .ExtractPageText ();if _ecd !=nil {return "",_dade ,_ggdf ,_ecd ;};return _cfc .Text (),_dade ,_ggdf ,nil ;};func (_eagdc *textWord )appendMark (_bebac *textMark ,_afage _fd .PdfRectangle ){_eagdc ._agfd =append (_eagdc ._agfd ,_bebac );_eagdc .PdfRectangle =_bbdgb (_eagdc .PdfRectangle ,_bebac .PdfRectangle );if _bebac ._agcf > _eagdc ._geea {_eagdc ._geea =_bebac ._agcf ;};_eagdc ._bcbgb =_afage .Ury -_eagdc .PdfRectangle .Lly ;};

// BBox returns the smallest axis-aligned rectangle that encloses all the TextMarks in `ma`.
func (_bcff *TextMarkArray )BBox ()(_fd .PdfRectangle ,bool ){var _fdd _fd .PdfRectangle ;_ffec :=false ;for _ ,_befa :=range _bcff ._ebgf {if _befa .Meta ||_geaf (_befa .Text ){continue ;};if _ffec {_fdd =_bbdgb (_fdd ,_befa .BBox );}else {_fdd =_befa .BBox ;_ffec =true ;};};return _fdd ,_ffec ;};func (_gffc *textTable )newTablePara ()*textPara {_fadca :=_gffc .computeBbox ();_fadee :=&textPara {PdfRectangle :_fadca ,_bcfd :_fadca ,_dda :_gffc };if _agbe {_ee .Log .Info ("\u006e\u0065w\u0054\u0061\u0062l\u0065\u0050\u0061\u0072\u0061\u003a\u0020\u0025\u0073",_fadee );};return _fadee ;};func (_dagc *textWord )toTextMarks (_dbad *int )[]TextMark {var _gddd []TextMark ;for _ ,_eeead :=range _dagc ._agfd {_gddd =_dfbf (_gddd ,_dbad ,_eeead .ToTextMark ());};return _gddd ;};func (_cfab *textMark )inDiacriticArea (_cfcg *textMark )bool {_fggbb :=_cfab .Llx -_cfcg .Llx ;_gagcc :=_cfab .Urx -_cfcg .Urx ;_gcfgd :=_cfab .Lly -_cfcg .Lly ;return _c .Abs (_fggbb +_gagcc )< _cfab .Width ()*_baega &&_c .Abs (_gcfgd )< _cfab .Height ()*_baega ;};func (_gfcf *shapesState )closePath (){if _gfcf ._gfad {_gfcf ._bded =append (_gfcf ._bded ,_efe (_gfcf ._gdfb ));_gfcf ._gfad =false ;}else if len (_gfcf ._bded )==0{if _cfe {_ee .Log .Debug ("\u0063\u006c\u006f\u0073eP\u0061\u0074\u0068\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f\u0020\u0070\u0061t\u0068");};_gfcf ._gfad =false ;return ;};_gfcf ._bded [len (_gfcf ._bded )-1].close ();if _cfe {_ee .Log .Info ("\u0063\u006c\u006f\u0073\u0065\u0050\u0061\u0074\u0068\u003a\u0020\u0025\u0073",_gfcf );};};const _ccc =20;func (_bfbfc *textPara )writeText (_dbfg _ed .Writer ){if _bfbfc ._dda ==nil {_bfbfc .writeCellText (_dbfg );return ;};for _ggfc :=0;_ggfc < _bfbfc ._dda ._cccg ;_ggfc ++{for _dcbc :=0;_dcbc < _bfbfc ._dda ._cgba ;_dcbc ++{_edccf :=_bfbfc ._dda .get (_dcbc ,_ggfc );if _edccf ==nil {_dbfg .Write ([]byte ("\u0009"));}else {_edccf .writeCellText (_dbfg );};_dbfg .Write ([]byte ("\u0020"));};if _ggfc < _bfbfc ._dda ._cccg -1{_dbfg .Write ([]byte ("\u000a"));};};};func (_dced *wordBag )depthBand (_ddbe ,_dcba float64 )[]int {if len (_dced ._bdfc )==0{return nil ;};return _dced .depthRange (_dced .getDepthIdx (_ddbe ),_dced .getDepthIdx (_dcba ));};type textPara struct{_fd .PdfRectangle ;_bcfd _fd .PdfRectangle ;_gcgdb []*textLine ;_dda *textTable ;_cdag bool ;_abafb bool ;_aaab *textPara ;_aab *textPara ;_cdaf *textPara ;_gebc *textPara ;};func (_ffeag rulingList )sortStrict (){_eg .Slice (_ffeag ,func (_adacb ,_afbc int )bool {_dfgef ,_gcef :=_ffeag [_adacb ],_ffeag [_afbc ];_gbbda ,_bbca :=_dfgef ._ecgg ,_gcef ._ecgg ;if _gbbda !=_bbca {return _gbbda > _bbca ;};_gafb ,_cbcc :=_dfgef ._ebdb ,_gcef ._ebdb ;if _gafb !=_cbcc {return _gafb < _cbcc ;};_gafb ,_cbcc =_dfgef ._abdb ,_gcef ._abdb ;if _gafb !=_cbcc {return _gafb < _cbcc ;};return _dfgef ._dfbe < _gcef ._dfbe ;});};func (_cdee *textObject )checkOp (_bfe *_ega .ContentStreamOperation ,_afc int ,_fbc bool )(_fge bool ,_decd error ){if _cdee ==nil {var _egcg []_fc .PdfObject ;if _afc > 0{_egcg =_bfe .Params ;if len (_egcg )> _afc {_egcg =_egcg [:_afc ];};};_ee .Log .Debug ("\u0025\u0023q \u006f\u0070\u0065r\u0061\u006e\u0064\u0020out\u0073id\u0065\u0020\u0074\u0065\u0078\u0074\u002e p\u0061\u0072\u0061\u006d\u0073\u003d\u0025+\u0076",_bfe .Operand ,_egcg );};if _afc >=0{if len (_bfe .Params )!=_afc {if _fbc {_decd =_e .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");};_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_bfe .Operand ,_afc ,len (_bfe .Params ),_bfe .Params );return false ,_decd ;};};return true ,nil ;};func (_dae *textObject )setTextLeading (_feca float64 ){if _dae ==nil {return ;};_dae ._bbda ._dffa =_feca ;};func _bbge (_eabea *PageText )error {_fbdc :=_ec .GetLicenseKey ();if _fbdc !=nil &&_fbdc .IsLicensed ()||_bf {return nil ;};_ef .Printf ("\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064\u0020c\u006f\u0070\u0079\u0020\u006f\u0066\u0020\u0055\u006e\u0069P\u0044\u0046\u000a");_ef .Println ("-\u0020\u0047\u0065\u0074\u0020\u0061\u0020\u0066\u0072e\u0065\u0020\u0074\u0072\u0069\u0061\u006c l\u0069\u0063\u0065\u006es\u0065\u0020\u006f\u006e\u0020\u0068\u0074\u0074\u0070s:\u002f\u002fu\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");return _e .New ("\u0075\u006e\u0069\u0070d\u0066\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020c\u006fd\u0065\u0020\u0072\u0065\u0071\u0075\u0069r\u0065\u0064");};

// String returns a string describing the current state of the textState stack.
func (_baa *stateStack )String ()string {_cbca :=[]string {_ef .Sprintf ("\u002d\u002d\u002d\u002d f\u006f\u006e\u0074\u0020\u0073\u0074\u0061\u0063\u006b\u003a\u0020\u0025\u0064",len (*_baa ))};for _bae ,_gbf :=range *_baa {_fecg :="\u003c\u006e\u0069l\u003e";if _gbf !=nil {_fecg =_gbf .String ();};_cbca =append (_cbca ,_ef .Sprintf ("\u0009\u0025\u0032\u0064\u003a\u0020\u0025\u0073",_bae ,_fecg ));};return _g .Join (_cbca ,"\u000a");};func (_dedc *textObject )getFont (_caee string )(*_fd .PdfFont ,error ){if _dedc ._ccd ._gb !=nil {_dedc ._ccd ._fg ++;_gfaf ,_bdgg :=_dedc ._ccd ._gb [_caee ];if _bdgg {_gfaf ._bgbg =_dedc ._ccd ._fg ;return _gfaf ._bfc ,nil ;};};_eda ,_gaec :=_dedc .getFontDirect (_caee );if _gaec !=nil {return nil ,_gaec ;};if _dedc ._ccd ._gb !=nil {_aebe :=fontEntry {_eda ,_dedc ._ccd ._fg };if len (_dedc ._ccd ._gb )>=_gfcec {var _ccg []string ;for _cfbee :=range _dedc ._ccd ._gb {_ccg =append (_ccg ,_cfbee );};_eg .Slice (_ccg ,func (_babb ,_edbb int )bool {return _dedc ._ccd ._gb [_ccg [_babb ]]._bgbg < _dedc ._ccd ._gb [_ccg [_edbb ]]._bgbg ;});delete (_dedc ._ccd ._gb ,_ccg [0]);};_dedc ._ccd ._gb [_caee ]=_aebe ;};return _eda ,nil ;};

// String returns a description of `k`.
func (_aadd rulingKind )String ()string {_dedeg ,_aefd :=_gddg [_aadd ];if !_aefd {return _ef .Sprintf ("\u004e\u006ft\u0020\u0061\u0020r\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0064",_aadd );};return _dedeg ;};type textObject struct{_ccd *Extractor ;_ebdd *_fd .PdfPageResources ;_dbd _ega .GraphicsState ;_bbda *textState ;_fgg *stateStack ;_eegd _ff .Matrix ;_egeg _ff .Matrix ;_bcf []*textMark ;_dcb bool ;};func (_bee *imageExtractContext )processOperand (_ac *_ega .ContentStreamOperation ,_cb _ega .GraphicsState ,_ae *_fd .PdfPageResources )error {if _ac .Operand =="\u0042\u0049"&&len (_ac .Params )==1{_ce ,_ecc :=_ac .Params [0].(*_ega .ContentStreamInlineImage );if !_ecc {return nil ;};if _gfc ,_gd :=_fc .GetBoolVal (_ce .ImageMask );_gd {if _gfc &&!_bee ._ga .IncludeInlineStencilMasks {return nil ;};};return _bee .extractInlineImage (_ce ,_cb ,_ae );}else if _ac .Operand =="\u0044\u006f"&&len (_ac .Params )==1{_bc ,_edb :=_fc .GetName (_ac .Params [0]);if !_edb {_ee .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");return _bg ;};_ ,_cag :=_ae .GetXObjectByName (*_bc );switch _cag {case _fd .XObjectTypeImage :return _bee .extractXObjectImage (_bc ,_cb ,_ae );case _fd .XObjectTypeForm :return _bee .extractFormImages (_bc ,_cb ,_ae );};};return nil ;};func (_aege rulingList )merge (_fedc bool )*ruling {_egcba :=_aege [0]._ebdb ;_gacg :=_aege [0]._abdb ;_dfcf :=_aege [0]._dfbe ;for _ ,_ccddc :=range _aege [1:]{_egcba +=_ccddc ._ebdb ;if _ccddc ._abdb < _gacg {_gacg =_ccddc ._abdb ;};if _ccddc ._dfbe > _dfcf {_dfcf =_ccddc ._dfbe ;};};_dfdcd :=&ruling {_ecgg :_aege [0]._ecgg ,_caeg :_aege [0]._caeg ,Color :_aege [0].Color ,_ebdb :_egcba /float64 (len (_aege )),_abdb :_gacg ,_dfbe :_dfcf };if _gbde &&_fedc {_ee .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u003a\u0020\u0025\u0064\u0020\u0076\u0065c\u0073\u0020\u0025\u0073",len (_aege ),_dfdcd );for _aacd ,_gccf :=range _aege {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_aacd ,_gccf );};};return _dfdcd ;};func (_ffbbb gridTile )contains (_aeeea _fd .PdfRectangle )bool {if _ffbbb .numBorders ()< 3{return false ;};if _ffbbb ._aegfg &&_aeeea .Llx < _ffbbb .Llx -_feggf {return false ;};if _ffbbb ._face &&_aeeea .Urx > _ffbbb .Urx +_feggf {return false ;};if _ffbbb ._aebf &&_aeeea .Lly < _ffbbb .Lly -_feggf {return false ;};if _ffbbb ._ggb &&_aeeea .Ury > _ffbbb .Ury +_feggf {return false ;};return true ;};func (_abdfg *textTable )get (_bcfbc ,_fbab int )*textPara {return _abdfg ._caegc [_ebbe (_bcfbc ,_fbab )]};func (_fcfa rulingList )isActualGrid ()bool {_fef ,_bbcfa :=_fcfa .vertsHorzs ();if _gbde {_ee .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0073\u0020\u003a\u0020\u0025t\u0020\u0026\u0020\u0025\u0074\u0020\u2192 \u0025\u0074",_fcfa ,len (_fef )>=2,len (_bbcfa )>=2,len (_fef )>=2&&len (_bbcfa )>=2);for _beeb ,_fdcc :=range _fcfa {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0076\u000a",_beeb ,_fdcc );};};if !(len (_fef )>=_fegg +1&&len (_bbcfa )>=_gcbb +1){if _dgbe {_ee .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u004e\u006f\u0074\u0020\u0061\u006ci\u0067\u006e\u0065\u0064\u0020\u0025\u0064 \u0078\u0020\u0025\u0064",len (_fef ),len (_bbcfa ));};return false ;};if _ddea {_cgfbc ,_egcb :=_fef [0],_fef [len (_fef )-1];_cdfb ,_ffaeg :=_bbcfa [0],_bbcfa [len (_bbcfa )-1];if !(_aadeb (_cgfbc ._ebdb -_cdfb ._abdb )&&_aadeb (_egcb ._ebdb -_cdfb ._dfbe )&&_aadeb (_cdfb ._ebdb -_cgfbc ._dfbe )&&_aadeb (_ffaeg ._ebdb -_cgfbc ._abdb )){if _dgbe {_ee .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067\u006e\u0065\u0064\u000a\u0009\u00760\u003d\u0025\u0073\u000a\u0009\u0076\u0031\u003d\u0025\u0073\u000a\u0009h0\u003d\u0025\u0073\u000a\u0009\u0068\u0031\u003d\u0025\u0073",_cgfbc ,_egcb ,_cdfb ,_ffaeg );};return false ;};}else {if !_fef .aligned (){if _dgbe {_ee .Log .Info ("\u0069\u0073\u0041ct\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u003a\u0020N\u006ft\u0020a\u006ci\u0067\u006e\u0065\u0064\u0020\u0076\u0065\u0072\u0074\u0073\u0020\u0025\u0064",len (_fef ));};return false ;};if !_bbcfa .aligned (){if _dgbe {_ee .Log .Info (" \u004e\u006f\u0074\u0020al\u0069g\u006e\u0065\u0064\u0020\u0068o\u0072\u007a\u0073\u0020\u0025\u0064",len (_bbcfa ));};return false ;};};return true ;};func (_bcce *textPara )depth ()float64 {if len (_bcce ._gcgdb )> 0{return _bcce ._gcgdb [0]._aagbf ;};return _bcce ._dda .depth ();};func (_ddd *shapesState )establishSubpath ()*subpath {_cdg ,_gdc :=_ddd .lastpointEstablished ();if !_gdc {_ddd ._bded =append (_ddd ._bded ,_efe (_cdg ));};if len (_ddd ._bded )==0{return nil ;};_ddd ._gfad =false ;return _ddd ._bded [len (_ddd ._bded )-1];};var _begf =_d .MustCompile ("\u005e\u005c\u0073\u002a\u0028\u005c\u0064\u002b\u005c\u002e\u003f|\u005b\u0049\u0069\u0076\u005d\u002b\u0029\u005c\u0073\u002a\\\u0029\u003f\u0024");func _gef (_dgfb []*wordBag )[]*wordBag {if len (_dgfb )<=1{return _dgfb ;};if _cdfa {_ee .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u0057\u006f\u0072\u0064B\u0061\u0067\u0073\u003a");};_eg .Slice (_dgfb ,func (_gcgdf ,_ffg int )bool {_gcfa ,_ebf :=_dgfb [_gcgdf ],_dgfb [_ffg ];_bagf :=_gcfa .Width ()*_gcfa .Height ();_eee :=_ebf .Width ()*_ebf .Height ();if _bagf !=_eee {return _bagf > _eee ;};if _gcfa .Height ()!=_ebf .Height (){return _gcfa .Height ()> _ebf .Height ();};return _gcgdf < _ffg ;});var _cdeec []*wordBag ;_abge :=make (intSet );for _bcab :=0;_bcab < len (_dgfb );_bcab ++{if _abge .has (_bcab ){continue ;};_ccea :=_dgfb [_bcab ];for _fggb :=_bcab +1;_fggb < len (_dgfb );_fggb ++{if _abge .has (_bcab ){continue ;};_bcad :=_dgfb [_fggb ];_dbddd :=_ccea .PdfRectangle ;_dbddd .Llx -=_ccea ._cgdg ;if _bbed (_dbddd ,_bcad .PdfRectangle ){_ccea .absorb (_bcad );_abge .add (_fggb );};};_cdeec =append (_cdeec ,_ccea );};if len (_dgfb )!=len (_cdeec )+len (_abge ){_ee .Log .Error ("\u006d\u0065\u0072ge\u0057\u006f\u0072\u0064\u0042\u0061\u0067\u0073\u003a \u0025d\u2192%\u0064 \u0061\u0062\u0073\u006f\u0072\u0062\u0065\u0064\u003d\u0025\u0064",len (_dgfb ),len (_cdeec ),len (_abge ));};return _cdeec ;};func (_fefg rulingList )findPrimSec (_dgabd string ,_accg rulingKind ,_cgde ,_bbedf float64 )*ruling {var _aabd ,_afdd float64 ;if _accg ==_fafd {_aabd ,_afdd =_cgde ,_bbedf ;}else {_afdd ,_aabd =_cgde ,_bbedf ;};var _fecgb rulingList ;for _ ,_fafg :=range _fefg {if _gdbb (_fafg ._ebdb -_cgde )&&(_fafg ._abdb -1.0<=_bbedf &&_bbedf <=_fafg ._dfbe +1.0){_fecgb =append (_fecgb ,_fafg );};};if len (_fecgb )> 1{_ef .Printf ("\u0020\u0020 \u0020\u0020\u0020\u0020\u0020\u0025\u0073\u0020\u005b\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u005d -\u002d\u000a",_dgabd ,_aabd ,_afdd );for _abcgf ,_geec :=range _fecgb {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_abcgf ,_geec );};_ee .Log .Error ("\u000a\u0009\u0025\u0064\u0020\u006d\u0061\u0074\u0063\u0068\u0065\u0073\n\u0009\u0025\u002b\u0076",len (_fecgb ),_fecgb );};var _afbd *ruling ;if len (_fecgb )==1{_afbd =_fecgb [0];};if _fadb {_ef .Printf ("\u0020\u0020 \u0020\u0020\u0020\u0020\u0020\u0025\u0073\u0020\u005b\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u005d %\u0073\u000a",_dgabd ,_aabd ,_afdd ,_afbd );};return _afbd ;};

// ToText returns the page text as a single string.
// Deprecated: This function is deprecated and will be removed in a future major version. Please use
// Text() instead.
func (_gagbe PageText )ToText ()string {return _gagbe .Text ()};func (_gab *textObject )nextLine (){_gab .moveLP (0,-_gab ._bbda ._dffa )};func _bgab (_bbcb _fd .PdfRectangle )*ruling {return &ruling {_ecgg :_fafd ,_ebdb :_bbcb .Llx ,_abdb :_bbcb .Lly ,_dfbe :_bbcb .Ury };};

// Elements returns the TextMarks in `ma`.
func (_cee *TextMarkArray )Elements ()[]TextMark {return _cee ._ebgf };var (_gcgbcd =map[rune ]string {0x0060:"\u0300",0x02CB:"\u0300",0x0027:"\u0301",0x00B4:"\u0301",0x02B9:"\u0301",0x02CA:"\u0301",0x005E:"\u0302",0x02C6:"\u0302",0x007E:"\u0303",0x02DC:"\u0303",0x00AF:"\u0304",0x02C9:"\u0304",0x02D8:"\u0306",0x02D9:"\u0307",0x00A8:"\u0308",0x00B0:"\u030a",0x02DA:"\u030a",0x02BA:"\u030b",0x02DD:"\u030b",0x02C7:"\u030c",0x02C8:"\u030d",0x0022:"\u030e",0x02BB:"\u0312",0x02BC:"\u0313",0x0486:"\u0313",0x055A:"\u0313",0x02BD:"\u0314",0x0485:"\u0314",0x0559:"\u0314",0x02D4:"\u031d",0x02D5:"\u031e",0x02D6:"\u031f",0x02D7:"\u0320",0x02B2:"\u0321",0x00B8:"\u0327",0x02CC:"\u0329",0x02B7:"\u032b",0x02CD:"\u0331",0x005F:"\u0332",0x204E:"\u0359"};);func (_gbaf *wordBag )removeDuplicates (){if _faec {_ee .Log .Info ("r\u0065m\u006f\u0076\u0065\u0044\u0075\u0070\u006c\u0069c\u0061\u0074\u0065\u0073: \u0025\u0071",_gbaf .text ());};for _ ,_efcdf :=range _gbaf .depthIndexes (){if len (_gbaf ._bdfc [_efcdf ])==0{continue ;};_dege :=_gbaf ._bdfc [_efcdf ][0];_gfeb :=_efad *_dege ._geea ;_ccbf :=_dege ._bcbgb ;for _ ,_bgfe :=range _gbaf .depthBand (_ccbf ,_ccbf +_gfeb ){_aac :=map[*textWord ]struct{}{};_eabb :=_gbaf ._bdfc [_bgfe ];for _ ,_gabaf :=range _eabb {if _ ,_bafe :=_aac [_gabaf ];_bafe {continue ;};for _ ,_adcb :=range _eabb {if _ ,_caec :=_aac [_adcb ];_caec {continue ;};if _adcb !=_gabaf &&_adcb ._eddb ==_gabaf ._eddb &&_c .Abs (_adcb .Llx -_gabaf .Llx )< _gfeb &&_c .Abs (_adcb .Urx -_gabaf .Urx )< _gfeb &&_c .Abs (_adcb .Lly -_gabaf .Lly )< _gfeb &&_c .Abs (_adcb .Ury -_gabaf .Ury )< _gfeb {_aac [_adcb ]=struct{}{};};};};if len (_aac )> 0{_daedb :=0;for _ ,_dbbf :=range _eabb {if _ ,_aaca :=_aac [_dbbf ];!_aaca {_eabb [_daedb ]=_dbbf ;_daedb ++;};};_gbaf ._bdfc [_bgfe ]=_eabb [:len (_eabb )-len (_aac )];if len (_gbaf ._bdfc [_bgfe ])==0{delete (_gbaf ._bdfc ,_bgfe );};};};};};func (_gff *imageExtractContext )extractInlineImage (_cc *_ega .ContentStreamInlineImage ,_dde _ega .GraphicsState ,_fga *_fd .PdfPageResources )error {_dce ,_ggc :=_cc .ToImage (_fga );if _ggc !=nil {return _ggc ;};_dafe ,_ggc :=_cc .GetColorSpace (_fga );if _ggc !=nil {return _ggc ;};if _dafe ==nil {_dafe =_fd .NewPdfColorspaceDeviceGray ();};_bce ,_ggc :=_dafe .ImageToRGB (*_dce );if _ggc !=nil {return _ggc ;};_fdf :=ImageMark {Image :&_bce ,Width :_dde .CTM .ScalingFactorX (),Height :_dde .CTM .ScalingFactorY (),Angle :_dde .CTM .Angle ()};_fdf .X ,_fdf .Y =_dde .CTM .Translation ();_gff ._efc =append (_gff ._efc ,_fdf );_gff ._ab ++;return nil ;};func (_aaeb rulingList )vertsHorzs ()(rulingList ,rulingList ){var _ccgd ,_dgfa rulingList ;for _ ,_acfbae :=range _aaeb {switch _acfbae ._ecgg {case _fafd :_ccgd =append (_ccgd ,_acfbae );case _bagdg :_dgfa =append (_dgfa ,_acfbae );};};return _ccgd ,_dgfa ;};func (_bbg *textLine )endsInHyphen ()bool {_cfgg :=_bbg ._bbf [len (_bbg ._bbf )-1];_cdgd :=_cfgg ._eddb ;_ffbd ,_acba :=_a .DecodeLastRuneInString (_cdgd );if _acba <=0||!_b .Is (_b .Hyphen ,_ffbd ){return false ;};if _cfgg ._caeba &&_ecfe (_cdgd ){return true ;};return _ecfe (_bbg .text ());};

// Extractor stores and offers functionality for extracting content from PDF pages.
type Extractor struct{_ge string ;_ca *_fd .PdfPageResources ;_ea _fd .PdfRectangle ;_gb map[string ]fontEntry ;_be map[string ]textResult ;_fg int64 ;_fe int ;};func (_cbgb *subpath )isQuadrilateral ()bool {if len (_cbgb ._bfgc )< 4||len (_cbgb ._bfgc )> 5{return false ;};if len (_cbgb ._bfgc )==5{_agde :=_cbgb ._bfgc [0];_adde :=_cbgb ._bfgc [4];if _agde .X !=_adde .X ||_agde .Y !=_adde .Y {return false ;};};return true ;};

// PageImages represents extracted images on a PDF page with spatial information:
// display position and size.
type PageImages struct{Images []ImageMark ;};func (_fceb paraList )addNeighbours (){_dbcgf :=func (_bdee []int ,_fdab *textPara )([]*textPara ,[]*textPara ){_bdbd :=make ([]*textPara ,0,len (_bdee )-1);_ecdc :=make ([]*textPara ,0,len (_bdee )-1);for _ ,_bfca :=range _bdee {_eeadb :=_fceb [_bfca ];if _eeadb .Urx <=_fdab .Llx {_bdbd =append (_bdbd ,_eeadb );}else if _eeadb .Llx >=_fdab .Urx {_ecdc =append (_ecdc ,_eeadb );};};return _bdbd ,_ecdc ;};_cecc :=func (_bbff []int ,_gadd *textPara )([]*textPara ,[]*textPara ){_gbfbaf :=make ([]*textPara ,0,len (_bbff )-1);_dgabe :=make ([]*textPara ,0,len (_bbff )-1);for _ ,_adfcb :=range _bbff {_ecffd :=_fceb [_adfcb ];if _ecffd .Ury <=_gadd .Lly {_dgabe =append (_dgabe ,_ecffd );}else if _ecffd .Lly >=_gadd .Ury {_gbfbaf =append (_gbfbaf ,_ecffd );};};return _gbfbaf ,_dgabe ;};_fcgdd :=_fceb .yNeighbours (_bdbg );for _ ,_aaabd :=range _fceb {_fbfe :=_fcgdd [_aaabd ];if len (_fbfe )==0{continue ;};_ebaa ,_cfgb :=_dbcgf (_fbfe ,_aaabd );if len (_ebaa )==0&&len (_cfgb )==0{continue ;};if len (_ebaa )> 0{_beded :=_ebaa [0];for _ ,_aaaff :=range _ebaa [1:]{if _aaaff .Urx >=_beded .Urx {_beded =_aaaff ;};};for _ ,_dcee :=range _ebaa {if _dcee !=_beded &&_dcee .Urx > _beded .Llx {_beded =nil ;break ;};};if _beded !=nil &&_egab (_aaabd .PdfRectangle ,_beded .PdfRectangle ){_aaabd ._aaab =_beded ;};};if len (_cfgb )> 0{_bedda :=_cfgb [0];for _ ,_dcbf :=range _cfgb [1:]{if _dcbf .Llx <=_bedda .Llx {_bedda =_dcbf ;};};for _ ,_cbfd :=range _cfgb {if _cbfd !=_bedda &&_cbfd .Llx < _bedda .Urx {_bedda =nil ;break ;};};if _bedda !=nil &&_egab (_aaabd .PdfRectangle ,_bedda .PdfRectangle ){_aaabd ._aab =_bedda ;};};};_fcgdd =_fceb .xNeighbours (_ddbde );for _ ,_deac :=range _fceb {_bddg :=_fcgdd [_deac ];if len (_bddg )==0{continue ;};_bagb ,_egag :=_cecc (_bddg ,_deac );if len (_bagb )==0&&len (_egag )==0{continue ;};if len (_egag )> 0{_dcef :=_egag [0];for _ ,_gefa :=range _egag [1:]{if _gefa .Ury >=_dcef .Ury {_dcef =_gefa ;};};for _ ,_edcgb :=range _egag {if _edcgb !=_dcef &&_edcgb .Ury > _dcef .Lly {_dcef =nil ;break ;};};if _dcef !=nil &&_cgcd (_deac .PdfRectangle ,_dcef .PdfRectangle ){_deac ._gebc =_dcef ;};};if len (_bagb )> 0{_bceedf :=_bagb [0];for _ ,_dgeb :=range _bagb [1:]{if _dgeb .Lly <=_bceedf .Lly {_bceedf =_dgeb ;};};for _ ,_bebg :=range _bagb {if _bebg !=_bceedf &&_bebg .Lly < _bceedf .Ury {_bceedf =nil ;break ;};};if _bceedf !=nil &&_cgcd (_deac .PdfRectangle ,_bceedf .PdfRectangle ){_deac ._cdaf =_bceedf ;};};};for _ ,_adfbd :=range _fceb {if _adfbd ._aaab !=nil &&_adfbd ._aaab ._aab !=_adfbd {_adfbd ._aaab =nil ;};if _adfbd ._cdaf !=nil &&_adfbd ._cdaf ._gebc !=_adfbd {_adfbd ._cdaf =nil ;};if _adfbd ._aab !=nil &&_adfbd ._aab ._aaab !=_adfbd {_adfbd ._aab =nil ;};if _adfbd ._gebc !=nil &&_adfbd ._gebc ._cdaf !=_adfbd {_adfbd ._gebc =nil ;};};};

// String returns a description of `v`.
func (_fdfa *ruling )String ()string {if _fdfa ._ecgg ==_bfbaa {return "\u004e\u004f\u0054\u0020\u0052\u0055\u004c\u0049\u004e\u0047";};_gbbg ,_cgae :="\u0078","\u0079";if _fdfa ._ecgg ==_bagdg {_gbbg ,_cgae ="\u0079","\u0078";};_cccag :="";if _fdfa ._eaed !=0.0{_cccag =_ef .Sprintf (" \u0077\u0069\u0064\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_fdfa ._eaed );};return _ef .Sprintf ("\u0025\u00310\u0073\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0020\u0025\u0076\u0025\u0073",_fdfa ._ecgg ,_gbbg ,_fdfa ._ebdb ,_cgae ,_fdfa ._abdb ,_fdfa ._dfbe ,_fdfa ._dfbe -_fdfa ._abdb ,_fdfa ._caeg ,_fdfa .Color ,_cccag );};func (_fdge *textTable )log (_fdce string ){if !_agbe {return ;};_ee .Log .Info ("~\u007e\u007e\u0020\u0025\u0073\u003a \u0025\u0064\u0020\u0078\u0020\u0025d\u0020\u0067\u0072\u0069\u0064\u003d\u0025t\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0025\u0036\u002e2\u0066",_fdce ,_fdge ._cgba ,_fdge ._cccg ,_fdge ._agggc ,_fdge .PdfRectangle );for _afcd :=0;_afcd < _fdge ._cccg ;_afcd ++{for _eacae :=0;_eacae < _fdge ._cgba ;_eacae ++{_agdg :=_fdge .get (_eacae ,_afcd );if _agdg ==nil {continue ;};_ef .Printf ("%\u0034\u0064\u0020\u00252d\u003a \u0025\u0036\u002e\u0032\u0066 \u0025\u0071\u0020\u0025\u0064\u000a",_eacae ,_afcd ,_agdg .PdfRectangle ,_gbdgg (_agdg .text (),50),_a .RuneCountInString (_agdg .text ()));};};};func _adab (_bccg ,_ddce bounded )float64 {_dba :=_dfbg (_bccg ,_ddce );if !_gdbb (_dba ){return _dba ;};return _dgdc (_bccg ,_ddce );};func (_adgg paraList )writeText (_cecdf _ed .Writer ){for _afdcd ,_bgdf :=range _adgg {if _bgdf ._abafb {continue ;};_bgdf .writeText (_cecdf );if _afdcd !=len (_adgg )-1{if _accf (_bgdf ,_adgg [_afdcd +1]){_cecdf .Write ([]byte ("\u0020"));}else {_cecdf .Write ([]byte ("\u000a"));_cecdf .Write ([]byte ("\u000a"));};};};_cecdf .Write ([]byte ("\u000a"));_cecdf .Write ([]byte ("\u000a"));};func (_dfaf *textPara )fontsize ()float64 {return _dfaf ._gcgdb [0]._ecg };

// ToTextMark returns the public view of `tm`.
func (_fadd *textMark )ToTextMark ()TextMark {return TextMark {Text :_fadd ._aefc ,Original :_fadd ._abcdc ,BBox :_fadd ._gddfe ,Font :_fadd ._cdbd ,FontSize :_fadd ._agcf ,FillColor :_fadd ._bada ,StrokeColor :_fadd ._afga };};func (_eafa *textObject )setHorizScaling (_bffb float64 ){if _eafa ==nil {return ;};_eafa ._bbda ._fcd =_bffb ;};type bounded interface{bbox ()_fd .PdfRectangle };func (_ffeaa *shapesState )stroke (_gcce *[]pathSection ){_bdd :=pathSection {_fdag :_ffeaa ._bded ,Color :_ffeaa ._dfdc .getStrokeColor ()};*_gcce =append (*_gcce ,_bdd );if _gbde {_ef .Printf ("\u0020 \u0020\u0020S\u0054\u0052\u004fK\u0045\u003a\u0020\u0025\u0064\u0020\u0073t\u0072\u006f\u006b\u0065\u0073\u0020s\u0073\u003d\u0025\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d%\u002b\u0076\u0020\u0025\u0036\u002e\u0032\u0066\u000a",len (*_gcce ),_ffeaa ,_ffeaa ._dfdc .getStrokeColor (),_bdd .bbox ());if _ggad {for _acbd ,_begb :=range _ffeaa ._bded {_ef .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_acbd ,_begb );if _acbd ==10{break ;};};};};};func _ebbe (_aabdc ,_bbbg int )uint64 {return uint64 (_aabdc )*0x1000000+uint64 (_bbbg )};func (_fdb *wordBag )pullWord (_efdg *textWord ,_ffff int ,_effd map[int ]map[*textWord ]struct{}){_fdb .PdfRectangle =_bbdgb (_fdb .PdfRectangle ,_efdg .PdfRectangle );if _efdg ._geea > _fdb ._cgdg {_fdb ._cgdg =_efdg ._geea ;};_fdb ._bdfc [_ffff ]=append (_fdb ._bdfc [_ffff ],_efdg );_effd [_ffff ][_efdg ]=struct{}{};};func _acd (_edbc _fd .PdfRectangle ,_cgef bounded )float64 {return _edbc .Ury -_cgef .bbox ().Lly };func (_fafc *subpath )makeRectRuling (_bcda _cf .Color )(*ruling ,bool ){if _bdcff {_ee .Log .Info ("\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0070\u0061\u0074\u0068\u003d\u0025\u0076",_fafc );};_ggae :=_fafc ._bfgc [:4];_eacgc :=make (map[int ]rulingKind ,len (_ggae ));for _aaed ,_egaa :=range _ggae {_acfb :=_fafc ._bfgc [(_aaed +1)%4];_eacgc [_aaed ]=_fbcc (_egaa ,_acfb );if _bdcff {_ef .Printf ("\u0025\u0034\u0064: \u0025\u0073\u0020\u003d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066",_aaed ,_eacgc [_aaed ],_egaa ,_acfb );};};if _bdcff {_ef .Printf ("\u0020\u0020\u0020\u006b\u0069\u006e\u0064\u0073\u003d\u0025\u002b\u0076\u000a",_eacgc );};var _bgac ,_gac []int ;for _dabdf ,_gbee :=range _eacgc {switch _gbee {case _bagdg :_gac =append (_gac ,_dabdf );case _fafd :_bgac =append (_bgac ,_dabdf );};};if _bdcff {_ef .Printf ("\u0020\u0020 \u0068\u006f\u0072z\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_gac ),_gac );_ef .Printf ("\u0020\u0020 \u0076\u0065\u0072t\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_bgac ),_bgac );};_afdgf :=(len (_gac )==2&&len (_bgac )==2)||(len (_gac )==2&&len (_bgac )==0&&_fgcd (_ggae [_gac [0]],_ggae [_gac [1]]))||(len (_bgac )==2&&len (_gac )==0&&_babdg (_ggae [_bgac [0]],_ggae [_bgac [1]]));if _bdcff {_ef .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_gac ),len (_bgac ),_afdgf );};if !_afdgf {if _bdcff {_ee .Log .Error ("\u0021!\u006d\u0061\u006b\u0065R\u0065\u0063\u0074\u0052\u0075l\u0069n\u0067:\u0020\u0070\u0061\u0074\u0068\u003d\u0025v",_fafc );_ef .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_gac ),len (_bgac ),_afdgf );};return &ruling {},false ;};if len (_bgac )==0{for _gefda ,_eaeeg :=range _eacgc {if _eaeeg !=_bagdg {_bgac =append (_bgac ,_gefda );};};};if len (_gac )==0{for _cbb ,_cdgec :=range _eacgc {if _cdgec !=_fafd {_gac =append (_gac ,_cbb );};};};if _bdcff {_ee .Log .Info ("\u006da\u006b\u0065R\u0065\u0063\u0074\u0052u\u006c\u0069\u006eg\u003a\u0020\u0068\u006f\u0072\u007a\u0073\u003d\u0025d \u0076\u0065\u0072t\u0073\u003d%\u0064\u0020\u0070\u006f\u0069\u006et\u0073\u003d%\u0064\u000a"+"\u0009\u0020\u0068o\u0072\u007a\u0073\u003d\u0025\u002b\u0076\u000a"+"\u0009\u0020\u0076e\u0072\u0074\u0073\u003d\u0025\u002b\u0076\u000a"+"\t\u0070\u006f\u0069\u006e\u0074\u0073\u003d\u0025\u002b\u0076",len (_gac ),len (_bgac ),len (_ggae ),_gac ,_bgac ,_ggae );};var _cggf ,_gccd ,_dbcg ,_fecf _ff .Point ;if _ggae [_gac [0]].Y > _ggae [_gac [1]].Y {_dbcg ,_fecf =_ggae [_gac [0]],_ggae [_gac [1]];}else {_dbcg ,_fecf =_ggae [_gac [1]],_ggae [_gac [0]];};if _ggae [_bgac [0]].X > _ggae [_bgac [1]].X {_cggf ,_gccd =_ggae [_bgac [0]],_ggae [_bgac [1]];}else {_cggf ,_gccd =_ggae [_bgac [1]],_ggae [_bgac [0]];};_cfdb :=_fd .PdfRectangle {Llx :_cggf .X ,Urx :_gccd .X ,Lly :_fecf .Y ,Ury :_dbcg .Y };if _cfdb .Llx > _cfdb .Urx {_cfdb .Llx ,_cfdb .Urx =_cfdb .Urx ,_cfdb .Llx ;};if _cfdb .Lly > _cfdb .Ury {_cfdb .Lly ,_cfdb .Ury =_cfdb .Ury ,_cfdb .Lly ;};_afgcf :=rectRuling {PdfRectangle :_cfdb ,_gceg :_aafb (_cfdb ),Color :_bcda };if _afgcf ._gceg ==_bfbaa {return nil ,false ;};_aede ,_afag :=_afgcf .asRuling ();if !_afag {return nil ,false ;};if _gbde {_ef .Printf ("\u0020\u0020\u0020\u0072\u003d\u0025\u0073\u000a",_aede .String ());};return _aede ,true ;};func (_gcafb rulingList )intersections ()map[int ]intSet {var _bcccd ,_eagbg []int ;for _gfgb ,_gecb :=range _gcafb {switch _gecb ._ecgg {case _fafd :_bcccd =append (_bcccd ,_gfgb );case _bagdg :_eagbg =append (_eagbg ,_gfgb );};};if len (_bcccd )< _fegg +1||len (_eagbg )< _gcbb +1{return nil ;};if len (_bcccd )+len (_eagbg )> _bccb {_ee .Log .Debug ("\u0069\u006e\u0074\u0065\u0072\u0073e\u0063\u0074\u0069\u006f\u006e\u0073\u003a\u0020\u0054\u004f\u004f\u0020\u004d\u0041\u004e\u0059\u0020\u0072\u0075\u006ci\u006e\u0067\u0073\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u003d\u0020%\u0064 \u0078\u0020\u0025\u0064",len (_gcafb ),len (_bcccd ),len (_eagbg ));return nil ;};_adfg :=make (map[int ]intSet ,len (_bcccd )+len (_eagbg ));for _ ,_cebfg :=range _bcccd {for _ ,_aabg :=range _eagbg {if _gcafb [_cebfg ].intersects (_gcafb [_aabg ]){if _ ,_aeebc :=_adfg [_cebfg ];!_aeebc {_adfg [_cebfg ]=make (intSet );};if _ ,_egca :=_adfg [_aabg ];!_egca {_adfg [_aabg ]=make (intSet );};_adfg [_cebfg ].add (_aabg );_adfg [_aabg ].add (_cebfg );};};};return _adfg ;};func _egfd (_abdc ,_bgggc float64 )string {_edbcf :=!_gdbb (_abdc -_bgggc );if _edbcf {return "\u000a";};return "\u0020";};func (_fgdb *textWord )bbox ()_fd .PdfRectangle {return _fgdb .PdfRectangle };func (_ffca rulingList )comp (_dace ,_febf int )bool {_ffbe ,_abagf :=_ffca [_dace ],_ffca [_febf ];_cbbg ,_ecff :=_ffbe ._ecgg ,_abagf ._ecgg ;if _cbbg !=_ecff {return _cbbg > _ecff ;};if _cbbg ==_bfbaa {return false ;};_bfec :=func (_ccfb bool )bool {if _cbbg ==_bagdg {return _ccfb ;};return !_ccfb ;};_ggfg ,_gbef :=_ffbe ._ebdb ,_abagf ._ebdb ;if _ggfg !=_gbef {return _bfec (_ggfg > _gbef );};_ggfg ,_gbef =_ffbe ._abdb ,_abagf ._abdb ;if _ggfg !=_gbef {return _bfec (_ggfg < _gbef );};return _bfec (_ffbe ._dfbe < _abagf ._dfbe );};type paraList []*textPara ;func (_fgfd *textObject )setTextRenderMode (_gcc int ){if _fgfd ==nil {return ;};_fgfd ._bbda ._bcc =RenderMode (_gcc );};type textResult struct{_eaf PageText ;_begc int ;_gaa int ;};type textTable struct{_fd .PdfRectangle ;_cgba ,_cccg int ;_agggc bool ;_caegc map[uint64 ]*textPara ;};func (_egc *textObject )setTextRise (_gfg float64 ){if _egc ==nil {return ;};_egc ._bbda ._bcg =_gfg ;};func (_cebe pathSection )bbox ()_fd .PdfRectangle {_ffd :=_cebe ._fdag [0]._bfgc [0];_fgbe :=_fd .PdfRectangle {Llx :_ffd .X ,Urx :_ffd .X ,Lly :_ffd .Y ,Ury :_ffd .Y };_fgac :=func (_cegb _ff .Point ){if _cegb .X < _fgbe .Llx {_fgbe .Llx =_cegb .X ;}else if _cegb .X > _fgbe .Urx {_fgbe .Urx =_cegb .X ;};if _cegb .Y < _fgbe .Lly {_fgbe .Lly =_cegb .Y ;}else if _cegb .Y > _fgbe .Ury {_fgbe .Ury =_cegb .Y ;};};for _ ,_bfgf :=range _cebe ._fdag [0]._bfgc [1:]{_fgac (_bfgf );};for _ ,_ggee :=range _cebe ._fdag [1:]{for _ ,_afgc :=range _ggee ._bfgc {_fgac (_afgc );};};return _fgbe ;};func (_edda *wordBag )allWords ()[]*textWord {var _edgef []*textWord ;for _ ,_aega :=range _edda ._bdfc {_edgef =append (_edgef ,_aega ...);};return _edgef ;};

// String returns a description of `state`.
func (_daaf *textState )String ()string {_cgeb :="\u005bN\u004f\u0054\u0020\u0053\u0045\u0054]";if _daaf ._fba !=nil {_cgeb =_daaf ._fba .BaseFont ();};return _ef .Sprintf ("\u0074\u0063\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0077\u003d\u0025\u002e\u0032\u0066 \u0074f\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u003d\u0025\u0071",_daaf ._bcd ,_daaf ._abag ,_daaf ._cdab ,_cgeb );};

// String returns a human readable description of `ss`.
func (_deef *shapesState )String ()string {return _ef .Sprintf ("\u007b\u0025\u0064\u0020su\u0062\u0070\u0061\u0074\u0068\u0073\u0020\u0066\u0072\u0065\u0073\u0068\u003d\u0025t\u007d",len (_deef ._bded ),_deef ._gfad );};

// Marks returns the TextMark collection for a page. It represents all the text on the page.
func (_cacg PageText )Marks ()*TextMarkArray {return &TextMarkArray {_ebgf :_cacg ._bcb }};

// ImageExtractOptions contains options for controlling image extraction from
// PDF pages.
type ImageExtractOptions struct{IncludeInlineStencilMasks bool ;};

// PageText represents the layout of text on a device page.
type PageText struct{_acbg []*textMark ;_adff string ;_bcb []TextMark ;_gdgd []TextTable ;_dbeg _fd .PdfRectangle ;_cdf []pathSection ;_ebdc []pathSection ;};func (_gfgg *textLine )markWordBoundaries (){_efcfe :=_bede *_gfgg ._ecg ;for _edad ,_gfga :=range _gfgg ._bbf [1:]{if _dffac (_gfga ,_gfgg ._bbf [_edad ])>=_efcfe {_gfga ._caeba =true ;};};};func (_fgc *stateStack )push (_ebe *textState ){_edg :=*_ebe ;*_fgc =append (*_fgc ,&_edg )};func (_aebg *shapesState )clearPath (){_aebg ._bded =nil ;_aebg ._gfad =false ;if _cfe {_ee .Log .Info ("\u0043\u004c\u0045A\u0052\u003a\u0020\u0073\u0073\u003d\u0025\u0073",_aebg );};};func (_dacca *textTable )reduce ()*textTable {_bgdc :=make ([]int ,0,_dacca ._cccg );_bebb :=make ([]int ,0,_dacca ._cgba );for _afcgb :=0;_afcgb < _dacca ._cccg ;_afcgb ++{if !_dacca .emptyRow (_afcgb ){_bgdc =append (_bgdc ,_afcgb );};};for _eabbc :=0;_eabbc < _dacca ._cgba ;_eabbc ++{if !_dacca .emptyColumn (_eabbc ){_bebb =append (_bebb ,_eabbc );};};if len (_bgdc )==_dacca ._cccg &&len (_bebb )==_dacca ._cgba {return _dacca ;};_bebe :=textTable {_agggc :_dacca ._agggc ,_cgba :len (_bebb ),_cccg :len (_bgdc ),_caegc :make (map[uint64 ]*textPara ,len (_bebb )*len (_bgdc ))};if _agbe {_ee .Log .Info ("\u0072\u0065\u0064\u0075ce\u003a\u0020\u0025\u0064\u0078\u0025\u0064\u0020\u002d\u003e\u0020\u0025\u0064\u0078%\u0064",_dacca ._cgba ,_dacca ._cccg ,len (_bebb ),len (_bgdc ));_ee .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_bebb );_ee .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_bgdc );};for _bdccc ,_dgee :=range _bgdc {for _ecfeg ,_agcg :=range _bebb {_aagd :=_dacca .get (_agcg ,_dgee );if _aagd ==nil {continue ;};if _agbe {_ef .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_ecfeg ,_bdccc ,_agcg ,_dgee ,_gbdgg (_aagd .text (),50));};_bebe .put (_ecfeg ,_bdccc ,_aagd );};};return &_bebe ;};func (_aa *Extractor )extractPageText (_eccf string ,_dea *_fd .PdfPageResources ,_bab _ff .Matrix ,_eff int )(*PageText ,int ,int ,error ){_ee .Log .Trace ("\u0065x\u0074\u0072\u0061\u0063t\u0050\u0061\u0067\u0065\u0054e\u0078t\u003a \u006c\u0065\u0076\u0065\u006c\u003d\u0025d",_eff );_abg :=&PageText {_dbeg :_aa ._ea };_dee :=_abac (_aa ._ea );var _gcf stateStack ;_ccca :=_abe (_aa ,_dea ,_ega .GraphicsState {},&_dee ,&_gcf );_dge :=shapesState {_gge :_bab ,_cacc :_ff .IdentityMatrix (),_dfdc :_ccca };var _ag bool ;if _eff > _ccc {_cfce :=_e .New ("\u0066\u006f\u0072\u006d s\u0074\u0061\u0063\u006b\u0020\u006f\u0076\u0065\u0072\u0066\u006c\u006f\u0077");_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0065\u0078\u0074\u0072\u0061\u0063\u0074\u0050\u0061\u0067\u0065\u0054\u0065\u0078\u0074\u002e\u0020\u0072\u0065\u0063u\u0072\u0073\u0069\u006f\u006e\u0020\u006c\u0065\u0076\u0065\u006c\u003d\u0025\u0064 \u0065r\u0072\u003d\u0025\u0076",_eff ,_cfce );return _abg ,_dee ._cca ,_dee ._eege ,_cfce ;};_deb :=_ega .NewContentStreamParser (_eccf );_caga ,_bed :=_deb .Parse ();if _bed !=nil {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020e\u0078\u0074\u0072a\u0063\u0074\u0050\u0061g\u0065\u0054\u0065\u0078\u0074\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bed );return _abg ,_dee ._cca ,_dee ._eege ,_bed ;};_gfa :=_ega .NewContentStreamProcessor (*_caga );_gfa .AddHandler (_ega .HandlerConditionEnumAllOperands ,"",func (_cd *_ega .ContentStreamOperation ,_bdc _ega .GraphicsState ,_ggf *_fd .PdfPageResources )error {_ada :=_cd .Operand ;if _dafa {_ee .Log .Info ("\u0026&\u0026\u0020\u006f\u0070\u003d\u0025s",_cd );};switch _ada {case "\u0071":if _cfe {_ee .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_dge ._cacc );};_gcf .push (&_dee );case "\u0051":if !_gcf .empty (){_dee =*_gcf .top ();if len (_gcf )>=2{_gcf .pop ();};};_dge ._cacc =_bdc .CTM ;if _cfe {_ee .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_dge ._cacc );};case "\u0042\u0054":if _ag {_ee .Log .Debug ("\u0042\u0054\u0020\u0063\u0061\u006c\u006c\u0065\u0064\u0020\u0077\u0068\u0069\u006c\u0065 \u0069n\u0020\u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");_abg ._acbg =append (_abg ._acbg ,_ccca ._bcf ...);};_ag =true ;_age :=_bdc ;_age .CTM =_bab .Mult (_age .CTM );_ccca =_abe (_aa ,_ggf ,_age ,&_dee ,&_gcf );_dge ._dfdc =_ccca ;case "\u0045\u0054":if !_ag {_ee .Log .Debug ("\u0045\u0054\u0020ca\u006c\u006c\u0065\u0064\u0020\u006f\u0075\u0074\u0073i\u0064e\u0020o\u0066 \u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");};_ag =false ;_abg ._acbg =append (_abg ._acbg ,_ccca ._bcf ...);_ccca .reset ();case "\u0054\u002a":_ccca .nextLine ();case "\u0054\u0064":if _gde ,_bfd :=_ccca .checkOp (_cd ,2,true );!_gde {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bfd );return _bfd ;};_dcf ,_cga ,_ege :=_dgeea (_cd .Params );if _ege !=nil {return _ege ;};_ccca .moveText (_dcf ,_cga );case "\u0054\u0044":if _aeg ,_bbc :=_ccca .checkOp (_cd ,2,true );!_aeg {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bbc );return _bbc ;};_ddb ,_aaf ,_cbd :=_dgeea (_cd .Params );if _cbd !=nil {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cbd );return _cbd ;};_ccca .moveTextSetLeading (_ddb ,_aaf );case "\u0054\u006a":if _fgab ,_gdee :=_ccca .checkOp (_cd ,1,true );!_fgab {_ee .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0054\u006a\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d%\u0076",_cd ,_gdee );return _gdee ;};_adac ,_ecf :=_fc .GetStringBytes (_cd .Params [0]);if !_ecf {_ee .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020T\u006a\u0020o\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074S\u0074\u0072\u0069\u006e\u0067\u0042\u0079\u0074\u0065\u0073\u0020\u0066a\u0069\u006c\u0065\u0064",_cd );return _fc .ErrTypeError ;};return _ccca .showText (_adac );case "\u0054\u004a":if _fcc ,_decb :=_ccca .checkOp (_cd ,1,true );!_fcc {_ee .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_decb );return _decb ;};_gfce ,_gag :=_fc .GetArray (_cd .Params [0]);if !_gag {_ee .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0054\u004a\u0020\u006f\u0070\u003d\u0025s\u0020G\u0065t\u0041r\u0072\u0061\u0079\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_cd );return _bed ;};return _ccca .showTextAdjusted (_gfce );case "\u0027":if _cde ,_agg :=_ccca .checkOp (_cd ,1,true );!_cde {_ee .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0027\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_agg );return _agg ;};_bag ,_afa :=_fc .GetStringBytes (_cd .Params [0]);if !_afa {_ee .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020'\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_cd );return _fc .ErrTypeError ;};_ccca .nextLine ();return _ccca .showText (_bag );case "\u0022":if _ffb ,_agf :=_ccca .checkOp (_cd ,3,true );!_ffb {_ee .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0022\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_agf );return _agf ;};_gdb ,_bfdf ,_afe :=_dgeea (_cd .Params [:2]);if _afe !=nil {return _afe ;};_gcd ,_bff :=_fc .GetStringBytes (_cd .Params [2]);if !_bff {_ee .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020\"\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_cd );return _fc .ErrTypeError ;};_ccca .setCharSpacing (_gdb );_ccca .setWordSpacing (_bfdf );_ccca .nextLine ();return _ccca .showText (_gcd );case "\u0054\u004c":_gdg ,_aba :=_eac (_cd );if _aba !=nil {_ee .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004c\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aba );return _aba ;};_ccca .setTextLeading (_gdg );case "\u0054\u0063":_eaad ,_fdfd :=_eac (_cd );if _fdfd !=nil {_ee .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0063\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fdfd );return _fdfd ;};_ccca .setCharSpacing (_eaad );case "\u0054\u0066":if _afd ,_adf :=_ccca .checkOp (_cd ,2,true );!_afd {_ee .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0066\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_adf );return _adf ;};_dgd ,_fdc :=_fc .GetNameVal (_cd .Params [0]);if !_fdc {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u004ea\u006d\u0065\u0056\u0061\u006c\u0020\u0066a\u0069\u006c\u0065\u0064",_cd );return _fc .ErrTypeError ;};_ded ,_efg :=_fc .GetNumberAsFloat (_cd .Params [1]);if !_fdc {_ee .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u0046\u006c\u006f\u0061\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065d\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cd ,_efg );return _efg ;};_efg =_ccca .setFont (_dgd ,_ded );_ccca ._dcb =_df .Is (_efg ,_fc .ErrNotSupported );if _efg !=nil &&!_ccca ._dcb {return _efg ;};case "\u0054\u006d":if _fff ,_eeg :=_ccca .checkOp (_cd ,6,true );!_fff {_ee .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u006d\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eeg );return _eeg ;};_fdg ,_dffb :=_fc .GetNumbersAsFloat (_cd .Params );if _dffb !=nil {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dffb );return _dffb ;};_ccca .setTextMatrix (_fdg );case "\u0054\u0072":if _adad ,_bagd :=_ccca .checkOp (_cd ,1,true );!_adad {_ee .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0072\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bagd );return _bagd ;};_gad ,_gdf :=_fc .GetIntVal (_cd .Params [0]);if !_gdf {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0072\u0020\u006f\u0070\u003d\u0025\u0073 \u0047e\u0074\u0049\u006e\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_cd );return _fc .ErrTypeError ;};_ccca .setTextRenderMode (_gad );case "\u0054\u0073":if _dga ,_ddbd :=_ccca .checkOp (_cd ,1,true );!_dga {_ee .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ddbd );return _ddbd ;};_abad ,_dede :=_fc .GetNumberAsFloat (_cd .Params [0]);if _dede !=nil {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dede );return _dede ;};_ccca .setTextRise (_abad );case "\u0054\u0077":if _fabc ,_ffe :=_ccca .checkOp (_cd ,1,true );!_fabc {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ffe );return _ffe ;};_bedd ,_abc :=_fc .GetNumberAsFloat (_cd .Params [0]);if _abc !=nil {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_abc );return _abc ;};_ccca .setWordSpacing (_bedd );case "\u0054\u007a":if _ffae ,_geb :=_ccca .checkOp (_cd ,1,true );!_ffae {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_geb );return _geb ;};_fgff ,_def :=_fc .GetNumberAsFloat (_cd .Params [0]);if _def !=nil {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_def );return _def ;};_ccca .setHorizScaling (_fgff );case "\u0063\u006d":_dge ._cacc =_bdc .CTM ;if _dge ._cacc .Singular (){_bdcf :=_ff .IdentityMatrix ().Translate (_dge ._cacc .Translation ());_ee .Log .Debug ("S\u0069n\u0067\u0075\u006c\u0061\u0072\u0020\u0063\u0074m\u003d\u0025\u0073\u2192%s",_dge ._cacc ,_bdcf );_dge ._cacc =_bdcf ;};if _cfe {_ee .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_dge ._cacc );};case "\u006d":if len (_cd .Params )!=2{_ee .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_af );return nil ;};_eabf ,_efce :=_fc .GetNumbersAsFloat (_cd .Params );if _efce !=nil {return _efce ;};_ee .Log .Debug ("\u004d\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u002e\u0032\u0066",_eabf );_dge .moveTo (_eabf [0],_eabf [1]);case "\u006c":if len (_cd .Params )!=2{_ee .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_af );return nil ;};_cge ,_efcf :=_fc .GetNumbersAsFloat (_cd .Params );if _efcf !=nil {return _efcf ;};_dge .lineTo (_cge [0],_cge [1]);case "\u0063":if len (_cd .Params )!=6{return _af ;};_gga ,_ebdf :=_fc .GetNumbersAsFloat (_cd .Params );if _ebdf !=nil {return _ebdf ;};_ee .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_gga );_dge .cubicTo (_gga [0],_gga [1],_gga [2],_gga [3],_gga [4],_gga [5]);case "\u0076","\u0079":if len (_cd .Params )!=4{return _af ;};_dafb ,_ead :=_fc .GetNumbersAsFloat (_cd .Params );if _ead !=nil {return _ead ;};_ee .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_dafb );_dge .quadraticTo (_dafb [0],_dafb [1],_dafb [2],_dafb [3]);case "\u0068":_dge .closePath ();case "\u0072\u0065":if len (_cd .Params )!=4{return _af ;};_dgec ,_eef :=_fc .GetNumbersAsFloat (_cd .Params );if _eef !=nil {return _eef ;};_dge .drawRectangle (_dgec [0],_dgec [1],_dgec [2],_dgec [3]);_dge .closePath ();case "\u0053":_dge .stroke (&_abg ._cdf );_dge .clearPath ();case "\u0073":_dge .closePath ();_dge .stroke (&_abg ._cdf );_dge .clearPath ();case "\u0046":_dge .fill (&_abg ._ebdc );_dge .clearPath ();case "\u0066","\u0066\u002a":_dge .closePath ();_dge .fill (&_abg ._ebdc );_dge .clearPath ();case "\u0042","\u0042\u002a":_dge .fill (&_abg ._ebdc );_dge .stroke (&_abg ._cdf );_dge .clearPath ();case "\u0062","\u0062\u002a":_dge .closePath ();_dge .fill (&_abg ._ebdc );_dge .stroke (&_abg ._cdf );_dge .clearPath ();case "\u006e":_dge .clearPath ();case "\u0044\u006f":if len (_cd .Params )==0{_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0058\u004fbj\u0065c\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006f\u0070\u0065\u0072\u0061n\u0064\u0020\u0066\u006f\u0072\u0020\u0044\u006f\u0020\u006f\u0070\u0065\u0072\u0061\u0074\u006f\u0072.\u0020\u0047\u006f\u0074\u0020\u0025\u002b\u0076\u002e",_cd .Params );return _fc .ErrRangeError ;};_adfc ,_bbe :=_fc .GetName (_cd .Params [0]);if !_bbe {_ee .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0044\u006f\u0020\u006f\u0070e\u0072a\u0074\u006f\u0072\u0020\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006fp\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u002b\u0076\u002e",_cd .Params [0]);return _fc .ErrTypeError ;};_ ,_ece :=_ggf .GetXObjectByName (*_adfc );if _ece !=_fd .XObjectTypeForm {break ;};_agb ,_bbe :=_aa ._be [_adfc .String ()];if !_bbe {_beg ,_fabf :=_ggf .GetXObjectFormByName (*_adfc );if _fabf !=nil {_ee .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_fabf );return _fabf ;};_cec ,_fabf :=_beg .GetContentStream ();if _fabf !=nil {_ee .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_fabf );return _fabf ;};_acg :=_beg .Resources ;if _acg ==nil {_acg =_ggf ;};_fcb ,_cfbg ,_bgg ,_fabf :=_aa .extractPageText (string (_cec ),_acg ,_bab .Mult (_bdc .CTM ),_eff +1);if _fabf !=nil {_ee .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_fabf );return _fabf ;};_agb =textResult {*_fcb ,_cfbg ,_bgg };_aa ._be [_adfc .String ()]=_agb ;};_dge ._cacc =_bdc .CTM ;if _cfe {_ee .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_dge ._cacc );};_abg ._acbg =append (_abg ._acbg ,_agb ._eaf ._acbg ...);_abg ._cdf =append (_abg ._cdf ,_agb ._eaf ._cdf ...);_abg ._ebdc =append (_abg ._ebdc ,_agb ._eaf ._ebdc ...);_dee ._cca +=_agb ._begc ;_dee ._eege +=_agb ._gaa ;case "\u0072\u0067","\u0067","\u006b","\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_ccca ._dbd .ColorspaceNonStroking =_bdc .ColorspaceNonStroking ;_ccca ._dbd .ColorNonStroking =_bdc .ColorNonStroking ;case "\u0052\u0047","\u0047","\u004b","\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_ccca ._dbd .ColorspaceStroking =_bdc .ColorspaceStroking ;_ccca ._dbd .ColorStroking =_bdc .ColorStroking ;};return nil ;});_bed =_gfa .Process (_dea );return _abg ,_dee ._cca ,_dee ._eege ,_bed ;};func _accf (_gaebb ,_ffab *textPara )bool {if _gaebb ._abafb ||_ffab ._abafb {return true ;};return _gdbb (_gaebb .depth ()-_ffab .depth ());};func _dffac (_gfgc ,_edba bounded )float64 {return _gfgc .bbox ().Llx -_edba .bbox ().Urx };func (_abbb intSet )del (_afbf int ){delete (_abbb ,_afbf )};var _gddg =map[rulingKind ]string {_bfbaa :"\u006e\u006f\u006e\u0065",_bagdg :"\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_fafd :"\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c"};func (_bbgdg rulingList )sort (){_eg .Slice (_bbgdg ,_bbgdg .comp )};func (_cfcdf *textTable )getRight ()paraList {_bfgcf :=make (paraList ,_cfcdf ._cccg );for _fbgcd :=0;_fbgcd < _cfcdf ._cccg ;_fbgcd ++{_fbbg :=_cfcdf .get (_cfcdf ._cgba -1,_fbgcd )._aab ;if _fbbg ==nil ||_fbbg ._cdag {return nil ;};_bfgcf [_fbgcd ]=_fbbg ;};for _afde :=0;_afde < _cfcdf ._cccg -1;_afde ++{if _bfgcf [_afde ]._gebc !=_bfgcf [_afde +1]{return nil ;};};return _bfgcf ;};

// String returns a description of `t`.
func (_edeg *textTable )String ()string {return _ef .Sprintf ("\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0025\u0074",_edeg ._cgba ,_edeg ._cccg ,_edeg ._agggc );};func _fad (_baeff *textWord ,_edf float64 ,_dab ,_bgf rulingList )*wordBag {_dgcd :=_bfbf (_baeff ._bcbgb );_dgg :=[]*textWord {_baeff };_ecab :=wordBag {_bdfc :map[int ][]*textWord {_dgcd :_dgg },PdfRectangle :_baeff .PdfRectangle ,_cgdg :_baeff ._geea ,_dcg :_edf ,_caag :_dab ,_dacd :_bgf };return &_ecab ;};func (_bbbf *textTable )growTable (){_fdacd :=func (_cdbcc paraList ){_bbbf ._cccg ++;for _bfbe :=0;_bfbe < _bbbf ._cgba ;_bfbe ++{_bfae :=_cdbcc [_bfbe ];_bbbf .put (_bfbe ,_bbbf ._cccg -1,_bfae );};};_fgeg :=func (_gdbeg paraList ){_bbbf ._cgba ++;for _cdfgf :=0;_cdfgf < _bbbf ._cccg ;_cdfgf ++{_cfdg :=_gdbeg [_cdfgf ];_bbbf .put (_bbbf ._cgba -1,_cdfgf ,_cfdg );};};for {_caca :=false ;_fecae :=_bbbf .getDown ();_ebda :=_bbbf .getRight ();if _fecae !=nil &&_ebda !=nil {_afgf :=_fecae [len (_fecae )-1];if _afgf !=nil &&!_afgf ._cdag &&_afgf ==_ebda [len (_ebda )-1]{_fdacd (_fecae );if _ebda =_bbbf .getRight ();_ebda !=nil {_fgeg (_ebda );_bbbf .put (_bbbf ._cgba -1,_bbbf ._cccg -1,_afgf );};_caca =true ;};};if !_caca &&_fecae !=nil {_fdacd (_fecae );_caca =true ;};if !_caca &&_ebda !=nil {_fgeg (_ebda );_caca =true ;};if !_caca {break ;};};};func _aadeb (_efed float64 )bool {return _c .Abs (_efed )< _aegb };func (_ecaf paraList )tables ()[]TextTable {var _dbcb []TextTable ;if _agbe {_ee .Log .Info ("\u0070\u0061\u0072\u0061\u0073\u002e\u0074\u0061\u0062\u006c\u0065\u0073\u003a");};for _ ,_faag :=range _ecaf {_badag :=_faag ._dda ;if _badag !=nil &&_badag .isExportable (){_dbcb =append (_dbcb ,_badag .toTextTable ());};};return _dbcb ;};func _geaf (_fdgg string )bool {for _ ,_efbg :=range _fdgg {if !_b .IsSpace (_efbg ){return false ;};};return true ;};func _bdg (_cac _ff .Matrix )_ff .Point {_cdac ,_gce :=_cac .Translation ();return _ff .Point {X :_cdac ,Y :_gce };};func _dfc (_fgdf []*textWord ,_eaec float64 ,_edde ,_bbde rulingList )*wordBag {_dgf :=_fad (_fgdf [0],_eaec ,_edde ,_bbde );for _ ,_ebba :=range _fgdf [1:]{_fcbg :=_bfbf (_ebba ._bcbgb );_dgf ._bdfc [_fcbg ]=append (_dgf ._bdfc [_fcbg ],_ebba );_dgf .PdfRectangle =_bbdgb (_dgf .PdfRectangle ,_ebba .PdfRectangle );};_dgf .sort ();return _dgf ;};func (_ffea *PageText )computeViews (){var _fbfd rulingList ;if _daed {_cea :=_cefc (_ffea ._cdf );_fbfd =append (_fbfd ,_cea ...);};if _edbba {_cgg :=_egbb (_ffea ._ebdc );_fbfd =append (_fbfd ,_cgg ...);};_fbfd ,_aga :=_fbfd .toTilings ();var _aad paraList ;_cff :=len (_ffea ._acbg );for _gabd :=0;_gabd < 360&&_cff > 0;_gabd +=90{_gfdb :=make ([]*textMark ,0,len (_ffea ._acbg )-_cff );for _ ,_cagc :=range _ffea ._acbg {if _cagc ._gcfgg ==_gabd {_gfdb =append (_gfdb ,_cagc );};};if len (_gfdb )> 0{_ecfg :=_gee (_gfdb ,_ffea ._dbeg ,_fbfd ,_aga );_aad =append (_aad ,_ecfg ...);_cff -=len (_gfdb );};};_bbdd :=new (_gf .Buffer );_aad .writeText (_bbdd );_ffea ._adff =_bbdd .String ();_ffea ._bcb =_aad .toTextMarks ();_ffea ._gdgd =_aad .tables ();if _agbe {_ee .Log .Info ("\u0063\u006f\u006dpu\u0074\u0065\u0056\u0069\u0065\u0077\u0073\u003a\u0020\u0074\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064",len (_ffea ._gdgd ));};};

// TableCell is a cell in a TextTable.
type TableCell struct{

// Text is the extracted text.
Text string ;

// Marks returns the TextMarks corresponding to the text in Text.
Marks TextMarkArray ;};func (_ffece rulingList )toGrids ()[]rulingList {if _gbde {_ee .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_ffece );};_ccdb :=_ffece .intersections ();if _gbde {_ee .Log .Info ("\u0074\u006f\u0047r\u0069\u0064\u0073\u003a \u0076\u0065\u0063\u0073\u003d\u0025\u0064 \u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003d\u0025\u0064\u0020",len (_ffece ),len (_ccdb ));for _ ,_bdda :=range _beadd (_ccdb ){_ef .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_bdda ,_ccdb [_bdda ]);};};_ecfb :=make (map[int ]intSet ,len (_ffece ));for _gda :=range _ffece {_dceb :=_ffece .connections (_ccdb ,_gda );if len (_dceb )> 0{_ecfb [_gda ]=_dceb ;};};if _gbde {_ee .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0063\u006fn\u006e\u0065\u0063\u0074s=\u0025\u0064",len (_ecfb ));for _ ,_bbgd :=range _beadd (_ecfb ){_ef .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_bbgd ,_ecfb [_bbgd ]);};};_eefbc :=_bbfee (len (_ffece ),func (_facd ,_cgcb int )bool {_dbefb ,_bece :=len (_ecfb [_facd ]),len (_ecfb [_cgcb ]);if _dbefb !=_bece {return _dbefb > _bece ;};return _ffece .comp (_facd ,_cgcb );});if _gbde {_ee .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u006f\u0072d\u0065\u0072\u0069\u006eg=\u0025\u0076",_eefbc );};_aedd :=[][]int {{_eefbc [0]}};_aageg :for _ ,_acbc :=range _eefbc [1:]{for _ffdac ,_gdab :=range _aedd {for _ ,_ddcb :=range _gdab {if _ecfb [_ddcb ].has (_acbc ){_aedd [_ffdac ]=append (_gdab ,_acbc );continue _aageg ;};};};_aedd =append (_aedd ,[]int {_acbc });};if _gbde {_ee .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020i\u0067\u0072i\u0064\u0073\u003d\u0025\u0076",_aedd );};_eg .SliceStable (_aedd ,func (_gcca ,_dfef int )bool {return len (_aedd [_gcca ])> len (_aedd [_dfef ])});for _ ,_fgcf :=range _aedd {_eg .Slice (_fgcf ,func (_gedb ,_adaf int )bool {return _ffece .comp (_fgcf [_gedb ],_fgcf [_adaf ])});};_cdaed :=make ([]rulingList ,len (_aedd ));for _ebdce ,_gfgge :=range _aedd {_dcdca :=make (rulingList ,len (_gfgge ));for _cfag ,_ecag :=range _gfgge {_dcdca [_cfag ]=_ffece [_ecag ];};_cdaed [_ebdce ]=_dcdca ;};if _gbde {_ee .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020g\u0072\u0069d\u0073\u003d\u0025\u002b\u0076",_cdaed );};var _abebb []rulingList ;for _ ,_gdfc :=range _cdaed {if _gdfc .isActualGrid (){_gdfc =_gdfc .snapToGroups ();_abebb =append (_abebb ,_gdfc );};};if _gbde {_cbbd ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0061\u0063t\u0075\u0061\u006c\u0047ri\u0064\u0073",_abebb );_ee .Log .Info ("\u0074\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0067\u0072\u0069\u0064\u0073\u003d%\u0064 \u0061\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u0073\u003d\u0025\u0064",len (_cdaed ),len (_abebb ));};return _abebb ;};func _cfac (_aefb *wordBag ,_bdab int )*textLine {_fcgf :=_aefb .firstWord (_bdab );_bfcf :=textLine {PdfRectangle :_fcgf .PdfRectangle ,_ecg :_fcgf ._geea ,_aagbf :_fcgf ._bcbgb };_bfcf .pullWord (_aefb ,_fcgf ,_bdab );return &_bfcf ;};func (_bfgg *wordBag )applyRemovals (_dcfb map[int ]map[*textWord ]struct{}){for _afac ,_bfba :=range _dcfb {if len (_bfba )==0{continue ;};_gbbde :=_bfgg ._bdfc [_afac ];_bea :=len (_gbbde )-len (_bfba );if _bea ==0{delete (_bfgg ._bdfc ,_afac );continue ;};_eba :=make ([]*textWord ,_bea );_abdf :=0;for _ ,_eefc :=range _gbbde {if _ ,_cgc :=_bfba [_eefc ];!_cgc {_eba [_abdf ]=_eefc ;_abdf ++;};};_bfgg ._bdfc [_afac ]=_eba ;};};func (_dccb *wordBag )makeRemovals ()map[int ]map[*textWord ]struct{}{_abd :=make (map[int ]map[*textWord ]struct{},len (_dccb ._bdfc ));for _eca :=range _dccb ._bdfc {_abd [_eca ]=make (map[*textWord ]struct{});};return _abd ;};

// Text returns the extracted page text.
func (_gaea PageText )Text ()string {return _gaea ._adff };func (_dddd paraList )inTile (_bddea gridTile )paraList {var _bffd paraList ;for _ ,_gffa :=range _dddd {_ebbfd :=_gffa .PdfRectangle ;_ebbfd .Lly +=_feggf ;_ebbfd .Ury -=_feggf ;if _bddea .contains (_gffa .PdfRectangle ){_bffd =append (_bffd ,_gffa );};};if _agbe {_ef .Printf ("\u0020 \u0020\u0069\u006e\u0054\u0069\u006c\u0065\u003a\u0020\u0025\u0073 \u0069\u006e\u0073\u0069\u0064\u0065\u003d\u0025\u0064\u0020",_bddea .String (),len (_bffd ));for _ ,_eace :=range _bffd {_ef .Printf ("\u0020\u0025\u0073",_eace .String ());};_ef .Println ("");};return _bffd ;};func (_aacgf *textWord )absorb (_edcf *textWord ){_aacgf .PdfRectangle =_bbdgb (_aacgf .PdfRectangle ,_edcf .PdfRectangle );_aacgf ._agfd =append (_aacgf ._agfd ,_edcf ._agfd ...);};func _bfda (_gbge _fd .PdfRectangle ,_egea []*textLine )*textPara {return &textPara {PdfRectangle :_gbge ,_gcgdb :_egea };};func _feced (_efbd ,_agdf int )int {if _efbd < _agdf {return _efbd ;};return _agdf ;};func _ggacf (_egd *wordBag ,_eeea *textWord ,_eaac float64 )bool {return _egd .Urx <=_eeea .Llx &&_eeea .Llx < _egd .Urx +_eaac ;};type textState struct{_bcd float64 ;_abag float64 ;_fcd float64 ;_dffa float64 ;_cdab float64 ;_bcc RenderMode ;_bcg float64 ;_fba *_fd .PdfFont ;_bde _fd .PdfRectangle ;_cca int ;_eege int ;};func (_dcde paraList )llyOrdering ()[]int {_ccdga :=make ([]int ,len (_dcde ));for _geff :=range _dcde {_ccdga [_geff ]=_geff ;};_eg .SliceStable (_ccdga ,func (_dcdd ,_cagb int )bool {_fgag ,_dbed :=_ccdga [_dcdd ],_ccdga [_cagb ];return _dcde [_fgag ].Lly < _dcde [_dbed ].Lly ;});return _ccdga ;};func (_dcda *textLine )bbox ()_fd .PdfRectangle {return _dcda .PdfRectangle };func (_agdcb *textTable )reduceTiling (_eeefb gridTiling ,_addf float64 )*textTable {_agfa :=make ([]int ,0,_agdcb ._cccg );_abadfcb :=make ([]int ,0,_agdcb ._cgba );_dadb :=_eeefb ._cdca ;_acgbb :=_eeefb ._afbg ;for _baab :=0;_baab < _agdcb ._cccg ;_baab ++{_bgfdf :=_baab > 0&&_c .Abs (_acgbb [_baab -1]-_acgbb [_baab ])< _addf &&_agdcb .emptyRow (_baab );if !_bgfdf {_agfa =append (_agfa ,_baab );};};for _dfdcf :=0;_dfdcf < _agdcb ._cgba ;_dfdcf ++{_bcdb :=_dfdcf < _agdcb ._cgba -1&&_c .Abs (_dadb [_dfdcf +1]-_dadb [_dfdcf ])< _addf &&_agdcb .emptyColumn (_dfdcf );if !_bcdb {_abadfcb =append (_abadfcb ,_dfdcf );};};if len (_agfa )==_agdcb ._cccg &&len (_abadfcb )==_agdcb ._cgba {return _agdcb ;};_bfab :=textTable {_agggc :_agdcb ._agggc ,_cgba :len (_abadfcb ),_cccg :len (_agfa ),_caegc :make (map[uint64 ]*textPara ,len (_abadfcb )*len (_agfa ))};if _agbe {_ee .Log .Info ("\u0072\u0065\u0064\u0075c\u0065\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0025d\u0078%\u0064\u0020\u002d\u003e\u0020\u0025\u0064x\u0025\u0064",_agdcb ._cgba ,_agdcb ._cccg ,len (_abadfcb ),len (_agfa ));_ee .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_abadfcb );_ee .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_agfa );};for _eebag ,_adedc :=range _agfa {for _gfaa ,_geca :=range _abadfcb {_afaee :=_agdcb .get (_geca ,_adedc );if _afaee ==nil {continue ;};if _agbe {_ef .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_gfaa ,_eebag ,_geca ,_adedc ,_gbdgg (_afaee .text (),50));};_bfab .put (_gfaa ,_eebag ,_afaee );};};return &_bfab ;};func _abbf (_aegad ,_eafb _ff .Point ,_cdgea _cf .Color )(*ruling ,bool ){_eceg :=lineRuling {_eggg :_aegad ,_beea :_eafb ,_cfgf :_ebbd (_aegad ,_eafb ),Color :_cdgea };if _eceg ._cfgf ==_bfbaa {return nil ,false ;};return _eceg .asRuling ();};func (_bgfc rulingList )blocks (_cfbcf ,_faagc *ruling )bool {if _cfbcf ._abdb > _faagc ._dfbe ||_faagc ._abdb > _cfbcf ._dfbe {return false ;};_gadgb :=_c .Max (_cfbcf ._abdb ,_faagc ._abdb );_deaa :=_c .Min (_cfbcf ._dfbe ,_faagc ._dfbe );if _cfbcf ._ebdb > _faagc ._ebdb {_cfbcf ,_faagc =_faagc ,_cfbcf ;};for _ ,_dfac :=range _bgfc {if _cfbcf ._ebdb <=_dfac ._ebdb +_aegb &&_dfac ._ebdb <=_faagc ._ebdb +_aegb &&_dfac ._abdb <=_deaa &&_gadgb <=_dfac ._dfbe {return true ;};};return false ;};func (_cece rulingList )removeDuplicates ()rulingList {if len (_cece )==0{return nil ;};_cece .sort ();_feaf :=rulingList {_cece [0]};for _ ,_fded :=range _cece [1:]{if _fded .equals (_feaf [len (_feaf )-1]){continue ;};_feaf =append (_feaf ,_fded );};return _feaf ;};func (_fcgdf *textWord )addDiacritic (_accc string ){_ebga :=_fcgdf ._agfd [len (_fcgdf ._agfd )-1];_ebga ._aefc +=_accc ;_ebga ._aefc =_db .NFKC .String (_ebga ._aefc );};

// ApplyArea processes the page text only within the specified area `bbox`.
// Each time ApplyArea is called, it updates the result set in `pt`.
// Can be called multiple times in a row with different bounding boxes.
func (_bef *PageText )ApplyArea (bbox _fd .PdfRectangle ){_eeff :=make ([]*textMark ,0,len (_bef ._acbg ));for _ ,_dbec :=range _bef ._acbg {if _cefb (_dbec .bbox (),bbox ){_eeff =append (_eeff ,_dbec );};};var _ceg paraList ;_faef :=len (_eeff );for _dcea :=0;_dcea < 360&&_faef > 0;_dcea +=90{_efag :=make ([]*textMark ,0,len (_eeff )-_faef );for _ ,_cacf :=range _eeff {if _cacf ._gcfgg ==_dcea {_efag =append (_efag ,_cacf );};};if len (_efag )> 0{_aged :=_gee (_efag ,_bef ._dbeg ,nil ,nil );_ceg =append (_ceg ,_aged ...);_faef -=len (_efag );};};_gbgd :=new (_gf .Buffer );_ceg .writeText (_gbgd );_bef ._adff =_gbgd .String ();_bef ._bcb =_ceg .toTextMarks ();_bef ._gdgd =_ceg .tables ();};func (_cfcc *wordBag )maxDepth ()float64 {return _cfcc ._dcg -_cfcc .Lly };func (_gcbg *textMark )bbox ()_fd .PdfRectangle {return _gcbg .PdfRectangle };func _aecfb (_accb ,_degeg int )int {if _accb > _degeg {return _accb ;};return _degeg ;};func (_gfcb *textTable )isExportable ()bool {if _gfcb ._agggc {return true ;};_dfcfa :=func (_feed int )bool {_fabb :=_gfcb .get (0,_feed );if _fabb ==nil {return false ;};_eddfg :=_fabb .text ();_dcedb :=_a .RuneCountInString (_eddfg );_aaba :=_begf .MatchString (_eddfg );return _dcedb <=1||_aaba ;};for _gdec :=0;_gdec < _gfcb ._cccg ;_gdec ++{if !_dfcfa (_gdec ){return true ;};};return false ;};func _bbdgb (_fcf ,_fbeb _fd .PdfRectangle )_fd .PdfRectangle {return _fd .PdfRectangle {Llx :_c .Min (_fcf .Llx ,_fbeb .Llx ),Lly :_c .Min (_fcf .Lly ,_fbeb .Lly ),Urx :_c .Max (_fcf .Urx ,_fbeb .Urx ),Ury :_c .Max (_fcf .Ury ,_fbeb .Ury )};};type textWord struct{_fd .PdfRectangle ;_bcbgb float64 ;_eddb string ;_agfd []*textMark ;_geea float64 ;_caeba bool ;};func _ebfbe (_efgg _fd .PdfRectangle ,_bdcc ,_eddd ,_geag ,_acga *ruling )gridTile {_badc :=_efgg .Llx ;_cbbe :=_efgg .Urx ;_ggdca :=_efgg .Lly ;_acge :=_efgg .Ury ;return gridTile {PdfRectangle :_efgg ,_aegfg :_bdcc !=nil &&_bdcc .encloses (_ggdca ,_acge ),_face :_eddd !=nil &&_eddd .encloses (_ggdca ,_acge ),_aebf :_geag !=nil &&_geag .encloses (_badc ,_cbbe ),_ggb :_acga !=nil &&_acga .encloses (_badc ,_cbbe )};};func (_bbd *textObject )setWordSpacing (_cdd float64 ){if _bbd ==nil {return ;};_bbd ._bbda ._abag =_cdd ;};func (_bbded paraList )llyRange (_deda []int ,_cceg ,_eaaa float64 )[]int {_fdbc :=len (_bbded );if _eaaa < _bbded [_deda [0]].Lly ||_cceg > _bbded [_deda [_fdbc -1]].Lly {return nil ;};_cfbc :=_eg .Search (_fdbc ,func (_eacg int )bool {return _bbded [_deda [_eacg ]].Lly >=_cceg });_beaca :=_eg .Search (_fdbc ,func (_ebce int )bool {return _bbded [_deda [_ebce ]].Lly > _eaaa });return _deda [_cfbc :_beaca ];};func (_bdcg lineRuling )yMean ()float64 {return 0.5*(_bdcg ._eggg .Y +_bdcg ._beea .Y )};func (_cgb *stateStack )empty ()bool {return len (*_cgb )==0};func (_bcbf *wordBag )firstWord (_ccba int )*textWord {return _bcbf ._bdfc [_ccba ][0]};func (_dgecf *textTable )markCells (){for _fdda :=0;_fdda < _dgecf ._cccg ;_fdda ++{for _bebc :=0;_bebc < _dgecf ._cgba ;_bebc ++{_eefg :=_dgecf .get (_bebc ,_fdda );if _eefg !=nil {_eefg ._cdag =true ;};};};};func (_ccbed paraList )applyTables (_gaef []*textTable )paraList {_egggb :=make (map[*textPara ]struct{});var _fceg paraList ;for _ ,_bebd :=range _gaef {for _ ,_dbfgdc :=range _bebd ._caegc {_egggb [_dbfgdc ]=struct{}{};};_fceg =append (_fceg ,_bebd .newTablePara ());};for _ ,_gfccc :=range _ccbed {if _ ,_egdg :=_egggb [_gfccc ];!_egdg {_fceg =append (_fceg ,_gfccc );};};return _fceg ;};func (_deffd paraList )xNeighbours (_ccegb float64 )map[*textPara ][]int {_fdbbb :=make ([]event ,2*len (_deffd ));if _ccegb ==0{for _acbfc ,_fdffa :=range _deffd {_fdbbb [2*_acbfc ]=event {_fdffa .Llx ,true ,_acbfc };_fdbbb [2*_acbfc +1]=event {_fdffa .Urx ,false ,_acbfc };};}else {for _fdcg ,_gefe :=range _deffd {_fdbbb [2*_fdcg ]=event {_gefe .Llx -_ccegb *_gefe .fontsize (),true ,_fdcg };_fdbbb [2*_fdcg +1]=event {_gefe .Urx +_ccegb *_gefe .fontsize (),false ,_fdcg };};};return _deffd .eventNeighbours (_fdbbb );};func (_gbbd *textObject )moveText (_gcg ,_fda float64 ){_gbbd .moveLP (_gcg ,_fda )};func (_dgecc *wordBag )empty (_edca int )bool {_ ,_bcbg :=_dgecc ._bdfc [_edca ];return !_bcbg };

// Tables returns the tables extracted from the page.
func (_afae PageText )Tables ()[]TextTable {if _agbe {_ee .Log .Info ("\u0054\u0061\u0062\u006c\u0065\u0073\u003a\u0020\u0025\u0064",len (_afae ._gdgd ));};return _afae ._gdgd ;};

// RangeOffset returns the TextMarks in `ma` that overlap text[start:end] in the extracted text.
// These are tm: `start` <= tm.Offset + len(tm.Text) && tm.Offset < `end` where
// `start` and `end` are offsets in the extracted text.
// NOTE: TextMarks can contain multiple characters. e.g. "ffi" for the ﬃ ligature so the first and
// last elements of the returned TextMarkArray may only partially overlap text[start:end].
func (_agd *TextMarkArray )RangeOffset (start ,end int )(*TextMarkArray ,error ){if _agd ==nil {return nil ,_e .New ("\u006da\u003d\u003d\u006e\u0069\u006c");};if end < start {return nil ,_ef .Errorf ("\u0065\u006e\u0064\u0020\u003c\u0020\u0073\u0074\u0061\u0072\u0074\u002e\u0020\u0052\u0061n\u0067\u0065\u004f\u0066\u0066\u0073\u0065\u0074\u0020\u006e\u006f\u0074\u0020d\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020\u0073\u0074\u0061\u0072t=\u0025\u0064\u0020\u0065\u006e\u0064\u003d\u0025\u0064\u0020",start ,end );};_cba :=len (_agd ._ebgf );if _cba ==0{return _agd ,nil ;};if start < _agd ._ebgf [0].Offset {start =_agd ._ebgf [0].Offset ;};if end > _agd ._ebgf [_cba -1].Offset +1{end =_agd ._ebgf [_cba -1].Offset +1;};_faa :=_eg .Search (_cba ,func (_bdag int )bool {return _agd ._ebgf [_bdag ].Offset +len (_agd ._ebgf [_bdag ].Text )-1>=start });if !(0<=_faa &&_faa < _cba ){_bced :=_ef .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073\u0074\u0061\u0072\u0074\u003d%\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009 \u006c\u0061\u0073\u0074\u003d%\u0076",start ,_faa ,_cba ,_agd ._ebgf [0],_agd ._ebgf [_cba -1]);return nil ,_bced ;};_ccaa :=_eg .Search (_cba ,func (_gaee int )bool {return _agd ._ebgf [_gaee ].Offset > end -1});if !(0<=_ccaa &&_ccaa < _cba ){_fdad :=_ef .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020r\u0061\u006e\u0067e\u002e\u0020\u0065n\u0064\u003d%\u0064\u0020\u0069\u0045\u006e\u0064=\u0025d \u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d\u0025\u0076",end ,_ccaa ,_cba ,_agd ._ebgf [0],_agd ._ebgf [_cba -1]);return nil ,_fdad ;};if _ccaa <=_faa {return nil ,_ef .Errorf ("\u0069\u0045\u006e\u0064\u0020\u003c=\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003a\u0020\u0073\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u0065\u006ed\u003d\u0025\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020i\u0045n\u0064\u003d\u0025\u0064",start ,end ,_faa ,_ccaa );};return &TextMarkArray {_ebgf :_agd ._ebgf [_faa :_ccaa ]},nil ;};func (_ebdfd rulingList )snapToGroupsDirection ()rulingList {_ebdfd .sortStrict ();_fdacg :=make (map[*ruling ]rulingList ,len (_ebdfd ));_aaea :=_ebdfd [0];_fcge :=func (_dcafb *ruling ){_aaea =_dcafb ;_fdacg [_aaea ]=rulingList {_dcafb }};_fcge (_ebdfd [0]);for _ ,_ggeee :=range _ebdfd [1:]{if _ggeee ._ebdb < _aaea ._ebdb {_ee .Log .Error ("\u0073\u006e\u0061\u0070T\u006f\u0047\u0072\u006f\u0075\u0070\u0073\u0044\u0069r\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0057\u0072\u006f\u006e\u0067\u0020\u0070\u0072\u0069\u006da\u0072\u0079\u0020\u006f\u0072d\u0065\u0072\u002e\u000a\u0009\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0020\u0076\u003d\u0025\u0073",_aaea ,_ggeee );};if _ggeee ._ebdb > _aaea ._ebdb +_aegb {_fcge (_ggeee );}else {_fdacg [_aaea ]=append (_fdacg [_aaea ],_ggeee );};};_ffcd :=make (map[*ruling ]float64 ,len (_fdacg ));_aggg :=make (map[*ruling ]*ruling ,len (_ebdfd ));for _adec ,_gefg :=range _fdacg {_ffcd [_adec ]=_gefg .mergePrimary ();for _ ,_edfb :=range _gefg {_aggg [_edfb ]=_adec ;};};for _ ,_gdga :=range _ebdfd {_gdga ._ebdb =_ffcd [_aggg [_gdga ]];};_ddgda :=make (rulingList ,0,len (_ebdfd ));for _ ,_dafec :=range _fdacg {_faeb :=_dafec .splitSec ();for _abdbg ,_eabaa :=range _faeb {_fdgfc :=_eabaa .merge (true );if len (_ddgda )> 0{_aeca :=_ddgda [len (_ddgda )-1];if _aeca .alignsPrimary (_fdgfc )&&_aeca .alignsSec (_fdgfc ){_ee .Log .Error ("\u0073\u006e\u0061\u0070\u0054\u006fG\u0072\u006f\u0075\u0070\u0073\u0044\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0044\u0075\u0070\u006ci\u0063\u0061\u0074\u0065\u0020\u0069\u003d\u0025\u0064\u000a\u0009\u0077\u003d\u0025s\u000a\t\u0076\u003d\u0025\u0073",_abdbg ,_aeca ,_fdgfc );continue ;};};_ddgda =append (_ddgda ,_fdgfc );};};_ddgda .sortStrict ();return _ddgda ;};func (_eebf rulingList )asTiling ()gridTiling {if _fadb {_ee .Log .Info ("r\u0075\u006ci\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0063s\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u002b\u002b\u002b\u0020\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_eebf ));};for _edacf ,_ffbc :=range _eebf [1:]{_gffd :=_eebf [_edacf ];if _gffd .alignsPrimary (_ffbc )&&_gffd .alignsSec (_ffbc ){_ee .Log .Error ("a\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0044\u0075\u0070\u006c\u0069\u0063\u0061\u0074\u0065 \u0072\u0075\u006c\u0069\u006e\u0067\u0073\u002e\u000a\u0009v=\u0025\u0073\u000a\t\u0077=\u0025\u0073",_ffbc ,_gffd );};};_eebf .sortStrict ();_eebf .log ("\u0073n\u0061\u0070\u0070\u0065\u0064");_aeecf ,_dacc :=_eebf .vertsHorzs ();_bggaf :=_aeecf .primaries ();_bdad :=_dacc .primaries ();_defd :=len (_bggaf )-1;_abfc :=len (_bdad )-1;if _defd ==0||_abfc ==0{return gridTiling {};};_edga :=_fd .PdfRectangle {Llx :_bggaf [0],Urx :_bggaf [_defd ],Lly :_bdad [0],Ury :_bdad [_abfc ]};if _fadb {_ee .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0072\u0074s=\u0025\u0064",len (_aeecf ));for _aaec ,_edbca :=range _aeecf {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_aaec ,_edbca );};_ee .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0068\u006f\u0072\u007as=\u0025\u0064",len (_dacc ));for _affac ,_fbbd :=range _dacc {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_affac ,_fbbd );};_ee .Log .Info ("\u0072\u0075\u006c\u0069\u006eg\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067:\u0020\u0020\u0077\u0078\u0068\u003d\u0025\u0064\u0078\u0025\u0064\u000a\u0009\u006c\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a\u0009\u006c\u006c\u0079\u003d\u0025\u002e\u0032f",_defd ,_abfc ,_bggaf ,_bdad );};_bgfb :=make ([]gridTile ,_defd *_abfc );for _gacb :=_abfc -1;_gacb >=0;_gacb --{_gcfb :=_bdad [_gacb ];_gebd :=_bdad [_gacb +1];for _gaebd :=0;_gaebd < _defd ;_gaebd ++{_ageda :=_bggaf [_gaebd ];_fdeg :=_bggaf [_gaebd +1];_cfgc :=_aeecf .findPrimSec ("\u004c",_fafd ,_ageda ,_gcfb );_becf :=_aeecf .findPrimSec ("\u0052",_fafd ,_fdeg ,_gcfb );_fcbab :=_dacc .findPrimSec ("\u0042",_bagdg ,_gcfb ,_ageda );_cdbag :=_dacc .findPrimSec ("\u0054",_bagdg ,_gebd ,_ageda );_ggeb :=_fd .PdfRectangle {Llx :_ageda ,Urx :_fdeg ,Lly :_gcfb ,Ury :_gebd };_bbcfe :=_ebfbe (_ggeb ,_cfgc ,_becf ,_fcbab ,_cdbag );_bgfb [_gacb *_defd +_gaebd ]=_bbcfe ;if _fadb {_ef .Printf ("\u0020\u0020\u0078\u003d\u0025\u0032\u0064\u0020\u0079\u003d\u0025\u0032\u0064\u003a\u0020%\u0073 \u0025\u0036\u002e\u0032\u0066\u0020\u0078\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_gaebd ,_gacb ,_bbcfe .String (),_bbcfe .Width (),_bbcfe .Height ());};};};if _fadb {_ee .Log .Info ("r\u0075\u006c\u0069\u006e\u0067\u004c\u0069\u0073\u0074.\u0061\u0073\u0054\u0069\u006c\u0069\u006eg:\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0020\u0068\u006f\u0072\u0069zo\u006e\u0074a\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_edga );};_dcaf :=make ([]map[float64 ]gridTile ,_abfc );for _dfed :=_abfc -1;_dfed >=0;_dfed --{if _fadb {_ef .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_dfed );};_dcaf [_dfed ]=make (map[float64 ]gridTile ,_defd );for _gdcf :=0;_gdcf < _defd ;_gdcf ++{_ebbf :=_bgfb [_dfed *_defd +_gdcf ];if _fadb {_ef .Printf ("\u0020\u0020\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gdcf ,_ebbf );};if !_ebbf ._aegfg {continue ;};_fcac :=_gdcf ;for _gcafa :=_gdcf +1;!_ebbf ._face &&_gcafa < _defd ;_gcafa ++{_afec :=_bgfb [_dfed *_defd +_gcafa ];_ebbf .Urx =_afec .Urx ;_ebbf ._ggb =_ebbf ._ggb ||_afec ._ggb ;_ebbf ._aebf =_ebbf ._aebf ||_afec ._aebf ;_ebbf ._face =_afec ._face ;if _fadb {_ef .Printf ("\u0020 \u0020%\u0034\u0064\u003a\u0020\u0025s\u0020\u2192 \u0025\u0073\u000a",_gcafa ,_afec ,_ebbf );};_fcac =_gcafa ;};if _fadb {_ef .Printf (" \u0020 \u0025\u0032\u0064\u0020\u002d\u0020\u0025\u0032d\u0020\u2192\u0020\u0025s\n",_gdcf ,_fcac ,_ebbf );};_gdcf =_fcac ;_dcaf [_dfed ][_ebbf .Llx ]=_ebbf ;};};_egda :=make (map[float64 ]map[float64 ]gridTile ,_abfc );_dbdb :=make (map[float64 ]map[float64 ]struct{},_abfc );for _beba :=_abfc -1;_beba >=0;_beba --{_bggcd :=_bgfb [_beba *_defd ].Lly ;_egda [_bggcd ]=make (map[float64 ]gridTile ,_defd );_dbdb [_bggcd ]=make (map[float64 ]struct{},_defd );};if _fadb {_ee .Log .Info ("\u0072u\u006c\u0069n\u0067\u004c\u0069s\u0074\u002e\u0061\u0073\u0054\u0069\u006ci\u006e\u0067\u003a\u0020\u0063\u006fa\u006c\u0065\u0073\u0063\u0065\u0020\u0076\u0065\u0072\u0074\u0069c\u0061\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_edga );};for _cgac :=_abfc -1;_cgac >=0;_cgac --{_gccg :=_bgfb [_cgac *_defd ].Lly ;_ebdg :=_dcaf [_cgac ];if _fadb {_ef .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_cgac );};for _ ,_cfccc :=range _ccef (_ebdg ){if _ ,_fcea :=_dbdb [_gccg ][_cfccc ];_fcea {continue ;};_dcdfe :=_ebdg [_cfccc ];if _fadb {_ef .Printf (" \u0020\u0020\u0020\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_dcdfe .String ());};for _bcaf :=_cgac -1;_bcaf >=0;_bcaf --{if _dcdfe ._aebf {break ;};_cabd :=_dcaf [_bcaf ];_bdce ,_beceg :=_cabd [_cfccc ];if !_beceg {break ;};if _bdce .Urx !=_dcdfe .Urx {break ;};_dcdfe ._aebf =_bdce ._aebf ;_dcdfe .Lly =_bdce .Lly ;if _fadb {_ef .Printf ("\u0020\u0020\u0020\u0020  \u0020\u0020\u0076\u003d\u0025\u0073\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_bdce .String (),_dcdfe .String ());};_dbdb [_bdce .Lly ][_bdce .Llx ]=struct{}{};};if _cgac ==0{_dcdfe ._aebf =true ;};if _dcdfe .complete (){_egda [_gccg ][_cfccc ]=_dcdfe ;};};};_babe :=gridTiling {PdfRectangle :_edga ,_cdca :_ccee (_egda ),_afbg :_adca (_egda ),_aceb :_egda };_babe .log ("\u0043r\u0065\u0061\u0074\u0065\u0064");return _babe ;};const (_bad =false ;_dafa =false ;_feec =false ;_cfe =false ;_gbfba =false ;_dbef =false ;_cffb =false ;_cdfa =false ;_gegc =_cdfa &&true ;_bage =_gegc &&false ;_faec =_cdfa &&true ;_agbe =false ;_bcbc =_agbe ||false ;_gbde =false ;_ggad =false ;_dgbe =_gbde &&true ;_fadb =_gbde &&true ;_bdcff =_gbde &&false ;_bggg =_gbde &&false ;);var (_bg =_e .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_af =_e .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func _gdag (_eacbd []*textMark ,_aedc _fd .PdfRectangle )*textWord {_cdadf :=_eacbd [0].PdfRectangle ;_cgefa :=_eacbd [0]._agcf ;for _ ,_dfeg :=range _eacbd [1:]{_cdadf =_bbdgb (_cdadf ,_dfeg .PdfRectangle );if _dfeg ._agcf > _cgefa {_cgefa =_dfeg ._agcf ;};};return &textWord {PdfRectangle :_cdadf ,_agfd :_eacbd ,_bcbgb :_aedc .Ury -_cdadf .Lly ,_geea :_cgefa };};func _ebea (_fgdc *wordBag ,_ffda *textWord ,_efgc float64 )bool {return _ffda .Llx < _fgdc .Urx +_efgc &&_fgdc .Llx -_efgc < _ffda .Urx ;};func (_edeb gridTile )numBorders ()int {_fcbc :=0;if _edeb ._aegfg {_fcbc ++;};if _edeb ._face {_fcbc ++;};if _edeb ._aebf {_fcbc ++;};if _edeb ._ggb {_fcbc ++;};return _fcbc ;};func (_abcd *subpath )clear (){*_abcd =subpath {}};func (_fcdg intSet )add (_caae int ){_fcdg [_caae ]=struct{}{}};func _fbacd (_cbfg _fd .PdfRectangle )*ruling {return &ruling {_ecgg :_bagdg ,_ebdb :_cbfg .Ury ,_abdb :_cbfg .Llx ,_dfbe :_cbfg .Urx };};func (_gcfc *wordBag )absorb (_debg *wordBag ){_feea :=_debg .makeRemovals ();for _dfge ,_effb :=range _debg ._bdfc {for _ ,_bcfa :=range _effb {_gcfc .pullWord (_bcfa ,_dfge ,_feea );};};_debg .applyRemovals (_feea );};func _bbed (_gcfg ,_cecd _fd .PdfRectangle )bool {return _gcfg .Llx <=_cecd .Llx &&_cecd .Urx <=_gcfg .Urx &&_gcfg .Lly <=_cecd .Lly &&_cecd .Ury <=_gcfg .Ury ;};func (_ggce *stateStack )size ()int {return len (*_ggce )};func (_cfacb *textLine )toTextMarks (_bdcdd *int )[]TextMark {var _adbf []TextMark ;for _ ,_dfab :=range _cfacb ._bbf {if _dfab ._caeba {_adbf =_agff (_adbf ,_bdcdd ,"\u0020");};_dcgf :=_dfab .toTextMarks (_bdcdd );_adbf =append (_adbf ,_dcgf ...);};return _adbf ;};func (_cegd rulingList )connections (_gabbg map[int ]intSet ,_cbfgc int )intSet {_eaace :=make (intSet );_afb :=make (intSet );var _feab func (int );_feab =func (_cgfd int ){if !_afb .has (_cgfd ){_afb .add (_cgfd );for _faff :=range _cegd {if _gabbg [_faff ].has (_cgfd ){_eaace .add (_faff );};};for _cbe :=range _cegd {if _eaace .has (_cbe ){_feab (_cbe );};};};};_feab (_cbfgc );return _eaace ;};func _bggd (_efeb func (*wordBag ,*textWord ,float64 )bool ,_dbecc float64 )func (*wordBag ,*textWord )bool {return func (_gfbc *wordBag ,_feg *textWord )bool {return _efeb (_gfbc ,_feg ,_dbecc )};};func (_bfcc rectRuling )checkWidth (_cdba ,_fecc float64 )(float64 ,bool ){_adcbg :=_fecc -_cdba ;_afcg :=_adcbg <=_aegb ;return _adcbg ,_afcg ;};func (_fada paraList )findTableGrid (_eeec gridTiling )(*textTable ,map[*textPara ]struct{}){_dcga :=len (_eeec ._cdca );_dafgf :=len (_eeec ._afbg );_bbbb :=textTable {_agggc :true ,_cgba :_dcga ,_cccg :_dafgf ,_caegc :make (map[uint64 ]*textPara ,_dcga *_dafgf )};_eddcf :=make (map[*textPara ]struct{});_egecg :=int ((1.0-_cagg )*float64 (_dcga *_dafgf ));_dcgd :=0;if _fadb {_ee .Log .Info ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0064\u0020\u0078\u0020%\u0064",_dcga ,_dafgf );};for _fdbg ,_bagg :=range _eeec ._afbg {_eegec ,_gfggf :=_eeec ._aceb [_bagg ];if !_gfggf {continue ;};for _bcdg ,_abde :=range _eeec ._cdca {_caffb ,_cgdeg :=_eegec [_abde ];if !_cgdeg {continue ;};if _fadb {_ef .Printf ("\u0020\u0028\u0025\u0032\u0064\u0020\u0025\u0032\u0064\u007d",_bcdg ,_fdbg );};_gcgbc :=_fada .inTile (_caffb );switch len (_gcgbc ){case 0:_dcgd ++;if _dcgd > _egecg {if _fadb {_ee .Log .Info ("\u0021\u006e\u0075m\u0045\u006d\u0070\u0074\u0079\u003d\u0025\u0064",_dcgd );};return nil ,nil ;};_eaagb :=_cebf (_caffb .PdfRectangle );_bbbb .put (_bcdg ,_fdbg ,_eaagb );case 1:_bbbb .put (_bcdg ,_fdbg ,_gcgbc [0]);default:_ddeaf :=_gcgbc .merge ();_bbbb .put (_bcdg ,_fdbg ,_ddeaf );for _ ,_gbedg :=range _gcgbc {_eddcf [_gbedg ]=struct{}{};};};};if _fadb {_ef .Println ("");};};_abae :=0;for _fbgfe :=0;_fbgfe < _dcga ;_fbgfe ++{_abfd :=_bbbb .get (_fbgfe ,0);if _abfd ==nil ||!_abfd ._abafb {_abae ++;};};if _abae ==0{if _fadb {_ee .Log .Info ("\u0021\u006e\u0075m\u0048\u0065\u0061\u0064\u0065\u0072\u003d\u0030");};return nil ,nil ;};_aegbe :=_bbbb .reduceTiling (_eeec ,_dfae );return _aegbe ,_eddcf ;};

// NewFromContents creates a new extractor from contents and page resources.
func NewFromContents (contents string ,resources *_fd .PdfPageResources )(*Extractor ,error ){_ba :=&Extractor {_ge :contents ,_ca :resources ,_gb :map[string ]fontEntry {},_be :map[string ]textResult {}};return _ba ,nil ;};

// RenderMode specifies the text rendering mode (Tmode), which determines whether showing text shall cause
// glyph outlines to be  stroked, filled, used as a clipping boundary, or some combination of the three.
// Stroking, filling, and clipping shall have the same effects for a text object as they do for a path object
// (see 8.5.3, "Path-Painting Operators" and 8.5.4, "Clipping Path Operators").
type RenderMode int ;func _cebf (_gadc _fd .PdfRectangle )*textPara {_acdg :=0.5*(_gadc .Llx +_gadc .Urx );_dbga :=0.5*(_gadc .Lly +_gadc .Ury );const _agcfa =1e-6;_fbgd :=_fd .PdfRectangle {Llx :_acdg -_agcfa ,Urx :_acdg +_agcfa ,Lly :_dbga -_agcfa ,Ury :_dbga +_agcfa };return &textPara {PdfRectangle :_fbgd ,_abafb :true };};func (_eaga *imageExtractContext )extractFormImages (_efca *_fc .PdfObjectName ,_fgf _ega .GraphicsState ,_fdff *_fd .PdfPageResources )error {_fae ,_bgbd :=_fdff .GetXObjectFormByName (*_efca );if _bgbd !=nil {return _bgbd ;};if _fae ==nil {return nil ;};_gc ,_bgbd :=_fae .GetContentStream ();if _bgbd !=nil {return _bgbd ;};_cg :=_fae .Resources ;if _cg ==nil {_cg =_fdff ;};_bgbd =_eaga .extractContentStreamImages (string (_gc ),_cg );if _bgbd !=nil {return _bgbd ;};_eaga ._da ++;return nil ;};func (_dfdf rectRuling )asRuling ()(*ruling ,bool ){_eafaa :=ruling {_ecgg :_dfdf ._gceg ,Color :_dfdf .Color ,_caeg :_cceaa };switch _dfdf ._gceg {case _fafd :_eafaa ._ebdb =0.5*(_dfdf .Llx +_dfdf .Urx );_eafaa ._abdb =_dfdf .Lly ;_eafaa ._dfbe =_dfdf .Ury ;_beec ,_aafg :=_dfdf .checkWidth (_dfdf .Llx ,_dfdf .Urx );if !_aafg {return nil ,false ;};_eafaa ._eaed =_beec ;case _bagdg :_eafaa ._ebdb =0.5*(_dfdf .Lly +_dfdf .Ury );_eafaa ._abdb =_dfdf .Llx ;_eafaa ._dfbe =_dfdf .Urx ;_cdae ,_aeeed :=_dfdf .checkWidth (_dfdf .Lly ,_dfdf .Ury );if !_aeeed {return nil ,false ;};_eafaa ._eaed =_cdae ;default:_ee .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_dfdf ._gceg );return nil ,false ;};return &_eafaa ,true ;};func (_bba *textObject )setCharSpacing (_cce float64 ){if _bba ==nil {return ;};_bba ._bbda ._bcd =_cce ;if _gbfba {_ee .Log .Info ("\u0073\u0065t\u0043\u0068\u0061\u0072\u0053\u0070\u0061\u0063\u0069\u006e\u0067\u003a\u0020\u0025\u002e\u0032\u0066\u0020\u0073\u0074\u0061\u0074e=\u0025\u0073",_cce ,_bba ._bbda .String ());};};func (_ccdg *subpath )close (){if !_eaefg (_ccdg ._bfgc [0],_ccdg .last ()){_ccdg .add (_ccdg ._bfgc [0]);};_ccdg ._efgf =true ;_ccdg .removeDuplicates ();};type wordBag struct{_fd .PdfRectangle ;_cgdg float64 ;_caag ,_dacd rulingList ;_dcg float64 ;_bdfc map[int ][]*textWord ;};func (_gbab *shapesState )addPoint (_gdgg ,_fgfc float64 ){_ffef :=_gbab .establishSubpath ();_agad :=_gbab .devicePoint (_gdgg ,_fgfc );if _ffef ==nil {_gbab ._gfad =true ;_gbab ._gdfb =_agad ;}else {_ffef .add (_agad );};};type textLine struct{_fd .PdfRectangle ;_aagbf float64 ;_bbf []*textWord ;_ecg float64 ;};const (_bfbaa rulingKind =iota ;_bagdg ;_fafd ;);func _bfgb (_afgb []rulingList )(rulingList ,rulingList ){var _eaafc rulingList ;for _ ,_affa :=range _afgb {_eaafc =append (_eaafc ,_affa ...);};return _eaafc .vertsHorzs ();};const (_ggced markKind =iota ;_edbe ;_cceaa ;);func _egab (_cccf ,_gbgcg _fd .PdfRectangle )bool {return _cccf .Lly <=_gbgcg .Ury &&_gbgcg .Lly <=_cccf .Ury ;};func _bbfee (_agce int ,_geeb func (int ,int )bool )[]int {_dbbe :=make ([]int ,_agce );for _cgbb :=range _dbbe {_dbbe [_cgbb ]=_cgbb ;};_eg .Slice (_dbbe ,func (_fcde ,_effeb int )bool {return _geeb (_dbbe [_fcde ],_dbbe [_effeb ])});return _dbbe ;};func (_ddag *ruling )intersects (_cafa *ruling )bool {_aaee :=(_ddag ._ecgg ==_fafd &&_cafa ._ecgg ==_bagdg )||(_cafa ._ecgg ==_fafd &&_ddag ._ecgg ==_bagdg );_adfa :=func (_dabdfg ,_dfcc *ruling )bool {return _dabdfg ._abdb -_edbf <=_dfcc ._ebdb &&_dfcc ._ebdb <=_dabdfg ._dfbe +_edbf ;};_effa :=_adfa (_ddag ,_cafa );_dbgd :=_adfa (_cafa ,_ddag );if _gbde {_ef .Printf ("\u0020\u0020\u0020\u0020\u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003a\u0020\u0020\u006fr\u0074\u0068\u006f\u0067\u006f\u006e\u0061l\u003d\u0025\u0074\u0020\u006f\u0031\u003d\u0025\u0074\u0020\u006f2\u003d\u0025\u0074\u0020\u2192\u0020\u0025\u0074\u000a"+"\u0020\u0020\u0020 \u0020\u0020\u0020\u0076\u003d\u0025\u0073\u000a"+" \u0020\u0020\u0020\u0020\u0020\u0077\u003d\u0025\u0073\u000a",_aaee ,_effa ,_dbgd ,_aaee &&_effa &&_dbgd ,_ddag ,_cafa );};return _aaee &&_effa &&_dbgd ;};func (_afca *textObject )newTextMark (_cegf string ,_ebbce _ff .Matrix ,_cdge _ff .Point ,_cdcb float64 ,_fccc *_fd .PdfFont ,_ccgc float64 ,_ggdcg ,_ggdg _cf .Color )(textMark ,bool ){_dcdcg :=_ebbce .Angle ();_bgfd :=_bbgb (_dcdcg ,_aebc );var _dfdce float64 ;if _bgfd %180!=90{_dfdce =_ebbce .ScalingFactorY ();}else {_dfdce =_ebbce .ScalingFactorX ();};_feag :=_bdg (_ebbce );_gabae :=_fd .PdfRectangle {Llx :_feag .X ,Lly :_feag .Y ,Urx :_cdge .X ,Ury :_cdge .Y };switch _bgfd %360{case 90:_gabae .Urx -=_dfdce ;case 180:_gabae .Ury -=_dfdce ;case 270:_gabae .Urx +=_dfdce ;case 0:_gabae .Ury +=_dfdce ;default:_bgfd =0;_gabae .Ury +=_dfdce ;};if _gabae .Llx > _gabae .Urx {_gabae .Llx ,_gabae .Urx =_gabae .Urx ,_gabae .Llx ;};if _gabae .Lly > _gabae .Ury {_gabae .Lly ,_gabae .Ury =_gabae .Ury ,_gabae .Lly ;};_ggcdf ,_cebb :=_dbfb (_gabae ,_afca ._ccd ._ea );if !_cebb {_ee .Log .Debug ("\u0054\u0065\u0078\u0074\u0020m\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u0070a\u0067\u0065\u002e\u0020\u0062\u0062\u006f\u0078\u003d\u0025\u0067\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u003d\u0025\u0067\u0020\u0074\u0065\u0078\u0074\u003d\u0025q",_gabae ,_afca ._ccd ._ea ,_cegf );};_gabae =_ggcdf ;_ffaeb :=_gabae ;_daaa :=_afca ._ccd ._ea ;switch _bgfd %360{case 90:_daaa .Urx ,_daaa .Ury =_daaa .Ury ,_daaa .Urx ;_ffaeb =_fd .PdfRectangle {Llx :_daaa .Urx -_gabae .Ury ,Urx :_daaa .Urx -_gabae .Lly ,Lly :_gabae .Llx ,Ury :_gabae .Urx };case 180:_ffaeb =_fd .PdfRectangle {Llx :_daaa .Urx -_gabae .Llx ,Urx :_daaa .Urx -_gabae .Urx ,Lly :_daaa .Ury -_gabae .Lly ,Ury :_daaa .Ury -_gabae .Ury };case 270:_daaa .Urx ,_daaa .Ury =_daaa .Ury ,_daaa .Urx ;_ffaeb =_fd .PdfRectangle {Llx :_gabae .Ury ,Urx :_gabae .Lly ,Lly :_daaa .Ury -_gabae .Llx ,Ury :_daaa .Ury -_gabae .Urx };};if _ffaeb .Llx > _ffaeb .Urx {_ffaeb .Llx ,_ffaeb .Urx =_ffaeb .Urx ,_ffaeb .Llx ;};if _ffaeb .Lly > _ffaeb .Ury {_ffaeb .Lly ,_ffaeb .Ury =_ffaeb .Ury ,_ffaeb .Lly ;};_adcf :=textMark {_aefc :_cegf ,PdfRectangle :_ffaeb ,_gddfe :_gabae ,_cdbd :_fccc ,_agcf :_dfdce ,_fege :_ccgc ,_edgf :_ebbce ,_fbgf :_cdge ,_gcfgg :_bgfd ,_bada :_ggdcg ,_afga :_ggdg };if _feec {_ee .Log .Info ("n\u0065\u0077\u0054\u0065\u0078\u0074M\u0061\u0072\u006b\u003a\u0020\u0073t\u0061\u0072\u0074\u003d\u0025\u002e\u0032f\u0020\u0065\u006e\u0064\u003d\u0025\u002e\u0032\u0066\u0020%\u0073",_feag ,_cdge ,_adcf .String ());};return _adcf ,_cebb ;};func (_fbaea *textTable )getDown ()paraList {_gafbb :=make (paraList ,_fbaea ._cgba );for _adbb :=0;_adbb < _fbaea ._cgba ;_adbb ++{_gafe :=_fbaea .get (_adbb ,_fbaea ._cccg -1)._gebc ;if _gafe ==nil ||_gafe ._cdag {return nil ;};_gafbb [_adbb ]=_gafe ;};for _dgbc :=0;_dgbc < _fbaea ._cgba -1;_dgbc ++{if _gafbb [_dgbc ]._aab !=_gafbb [_dgbc +1]{return nil ;};};return _gafbb ;};func (_daeb *shapesState )lineTo (_gbfb ,_dac float64 ){if _cfe {_ee .Log .Info ("\u006c\u0069\u006eeT\u006f\u0028\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0070\u003d\u0025\u002e\u0032\u0066",_gbfb ,_dac ,_daeb .devicePoint (_gbfb ,_dac ));};_daeb .addPoint (_gbfb ,_dac );};type fontEntry struct{_bfc *_fd .PdfFont ;_bgbg int64 ;};var _bf =false ;type pathSection struct{_fdag []*subpath ;_cf .Color ;};func (_dfee paraList )log (_acdgg string ){if !_cffb {return ;};_ee .Log .Info ("%\u0038\u0073\u003a\u0020\u0025\u0064 \u0070\u0061\u0072\u0061\u0073\u0020=\u003d\u003d\u003d\u003d\u003d\u003d\u002d-\u002d\u002d\u002d\u002d\u002d\u003d\u003d\u003d\u003d\u003d=\u003d",_acdgg ,len (_dfee ));for _bdgd ,_bbcg :=range _dfee {if _bbcg ==nil {continue ;};_deagf :=_bbcg .text ();_gfgee :="\u0020\u0020";if _bbcg ._dda !=nil {_gfgee =_ef .Sprintf ("\u005b%\u0064\u0078\u0025\u0064\u005d",_bbcg ._dda ._cgba ,_bbcg ._dda ._cccg );};_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0025s\u0020\u0025\u0071\u000a",_bdgd ,_bbcg .PdfRectangle ,_gfgee ,_gbdgg (_deagf ,50));};};

// String returns a description of `tm`.
func (_cdeg *textMark )String ()string {return _ef .Sprintf ("\u0025\u002e\u0032f \u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\u0022\u0025\u0073\u0022",_cdeg .PdfRectangle ,_cdeg ._agcf ,_cdeg ._aefc );};func (_afagd *textTable )emptyRow (_feffc int )bool {for _ggbe :=0;_ggbe < _afagd ._cgba ;_ggbe ++{_ebebe :=_afagd .get (_ggbe ,_feffc );if _ebebe !=nil &&_ebebe .text ()!=""{return false ;};};return true ;};

// String returns a string describing `pt`.
func (_bac PageText )String ()string {_gbc :=_ef .Sprintf ("P\u0061\u0067\u0065\u0054ex\u0074:\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073",len (_bac ._acbg ));_ddfea :=[]string {"\u002d"+_gbc };for _ ,_ggab :=range _bac ._acbg {_ddfea =append (_ddfea ,_ggab .String ());};_ddfea =append (_ddfea ,"\u002b"+_gbc );return _g .Join (_ddfea ,"\u000a");};func (_eed *wordBag )depthIndexes ()[]int {if len (_eed ._bdfc )==0{return nil ;};_bge :=make ([]int ,len (_eed ._bdfc ));_dcca :=0;for _deff :=range _eed ._bdfc {_bge [_dcca ]=_deff ;_dcca ++;};_eg .Ints (_bge );return _bge ;};var _bgdg =map[markKind ]string {_edbe :"\u0073\u0074\u0072\u006f\u006b\u0065",_cceaa :"\u0066\u0069\u006c\u006c"};func _fdfc (_gegg *wordBag ,_gefd float64 ,_ceea ,_aeee rulingList )[]*wordBag {var _ecdf []*wordBag ;for _ ,_cfcd :=range _gegg .depthIndexes (){_bffg :=false ;for !_gegg .empty (_cfcd ){_gfceg :=_gegg .firstReadingIndex (_cfcd );_ggg :=_gegg .firstWord (_gfceg );_eaca :=_fad (_ggg ,_gefd ,_ceea ,_aeee );_gegg .removeWord (_ggg ,_gfceg );if _dbef {_ee .Log .Info ("\u0066\u0069\u0072\u0073\u0074\u0057\u006f\u0072\u0064\u0020\u005e\u005e^\u005e\u0020\u0025\u0073",_ggg .String ());};for _caage :=true ;_caage ;_caage =_bffg {_bffg =false ;_efcd :=_ccbg *_eaca ._cgdg ;_babdc :=_fce *_eaca ._cgdg ;_aff :=_fbad *_eaca ._cgdg ;if _dbef {_ee .Log .Info ("\u0070a\u0072a\u0057\u006f\u0072\u0064\u0073\u0020\u0064\u0065\u0070\u0074\u0068 \u0025\u002e\u0032\u0066 \u002d\u0020\u0025\u002e\u0032f\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061\u0044\u0065\u0070\u0074\u0068\u0047\u0061\u0070\u003d\u0025\u002e\u0032\u0066\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061R\u0065\u0061\u0064\u0069\u006e\u0067\u0047\u0061p\u003d\u0025\u002e\u0032\u0066",_eaca .minDepth (),_eaca .maxDepth (),_aff ,_babdc );};if _gegg .scanBand ("\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c",_eaca ,_bggd (_ebea ,0),_eaca .minDepth ()-_aff ,_eaca .maxDepth ()+_aff ,_dbaf ,false ,false )> 0{_bffg =true ;};if _gegg .scanBand ("\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_eaca ,_bggd (_ebea ,_babdc ),_eaca .minDepth (),_eaca .maxDepth (),_agc ,false ,false )> 0{_bffg =true ;};if _bffg {continue ;};_ebbcf :=_gegg .scanBand ("",_eaca ,_bggd (_ggacf ,_efcd ),_eaca .minDepth (),_eaca .maxDepth (),_abgg ,true ,false );if _ebbcf > 0{_ccgfd :=(_eaca .maxDepth ()-_eaca .minDepth ())/_eaca ._cgdg ;if (_ebbcf > 1&&float64 (_ebbcf )> 0.3*_ccgfd )||_ebbcf <=10{if _gegg .scanBand ("\u006f\u0074\u0068e\u0072",_eaca ,_bggd (_ggacf ,_efcd ),_eaca .minDepth (),_eaca .maxDepth (),_abgg ,false ,true )> 0{_bffg =true ;};};};};_ecdf =append (_ecdf ,_eaca );};};return _ecdf ;};func _ecfe (_efea string )bool {if _a .RuneCountInString (_efea )< _dbcf {return false ;};_cafb ,_fdbd :=_a .DecodeLastRuneInString (_efea );if _fdbd <=0||!_b .Is (_b .Hyphen ,_cafb ){return false ;};_cafb ,_fdbd =_a .DecodeLastRuneInString (_efea [:len (_efea )-_fdbd ]);return _fdbd > 0&&!_b .IsSpace (_cafb );};func _cebcf (_ebdgg _fd .PdfColorspace ,_fafb _fd .PdfColor )_cf .Color {if _ebdgg ==nil ||_fafb ==nil {return _cf .Black ;};_dbgf ,_efeg :=_ebdgg .ColorToRGB (_fafb );if _efeg !=nil {_ee .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006fu\u006c\u0064\u0020no\u0074\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0025\u0076\u0020\u0028\u0025\u0076)\u0020\u0074\u006f\u0020\u0052\u0047\u0042\u003a \u0025\u0073",_fafb ,_ebdgg ,_efeg );return _cf .Black ;};_eacgd ,_cffe :=_dbgf .(*_fd .PdfColorDeviceRGB );if !_cffe {_ee .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020i\u006e\u0020\u0074\u0068\u0065\u0020\u0052\u0047\u0042\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0076",_dbgf );return _cf .Black ;};return _cf .NRGBA {R :uint8 (_eacgd .R ()*255),G :uint8 (_eacgd .G ()*255),B :uint8 (_eacgd .B ()*255),A :uint8 (255)};};func (_edc *imageExtractContext )extractContentStreamImages (_cfb string ,_fb *_fd .PdfPageResources )error {_gfd :=_ega .NewContentStreamParser (_cfb );_dad ,_fcg :=_gfd .Parse ();if _fcg !=nil {return _fcg ;};if _edc ._daf ==nil {_edc ._daf =map[*_fc .PdfObjectStream ]*cachedImage {};};if _edc ._ga ==nil {_edc ._ga =&ImageExtractOptions {};};_fde :=_ega .NewContentStreamProcessor (*_dad );_fde .AddHandler (_ega .HandlerConditionEnumAllOperands ,"",_edc .processOperand );return _fde .Process (_fb );};func (_bedfe paraList )findTables (_egfa []gridTiling )[]*textTable {_bedfe .addNeighbours ();_eg .Slice (_bedfe ,func (_eeac ,_fcdc int )bool {return _ged (_bedfe [_eeac ],_bedfe [_fcdc ])< 0});var _dgdca []*textTable ;if _ebbc {_affc :=_bedfe .findGridTables (_egfa );_dgdca =append (_dgdca ,_affc ...);};if _cfd {_bbcbc :=_bedfe .findTextTables ();_dgdca =append (_dgdca ,_bbcbc ...);};return _dgdca ;};func _abac (_gfb _fd .PdfRectangle )textState {return textState {_fcd :100,_bcc :RenderModeFill ,_bde :_gfb };};func _ged (_ddgd ,_cfbb bounded )float64 {_fbe :=_dgdc (_ddgd ,_cfbb );if !_gdbb (_fbe ){return _fbe ;};return _dfbg (_ddgd ,_cfbb );};func (_gagb *textObject )getFillColor ()_cf .Color {return _cebcf (_gagb ._dbd .ColorspaceNonStroking ,_gagb ._dbd .ColorNonStroking );};func (_edcc *shapesState )devicePoint (_gec ,_dbfd float64 )_ff .Point {_fccb :=_edcc ._gge .Mult (_edcc ._cacc );_gec ,_dbfd =_fccb .Transform (_gec ,_dbfd );return _ff .NewPoint (_gec ,_dbfd );};func (_fcgde paraList )yNeighbours (_ebgfe float64 )map[*textPara ][]int {_cacge :=make ([]event ,2*len (_fcgde ));if _ebgfe ==0{for _dafge ,_eccff :=range _fcgde {_cacge [2*_dafge ]=event {_eccff .Lly ,true ,_dafge };_cacge [2*_dafge +1]=event {_eccff .Ury ,false ,_dafge };};}else {for _fgbd ,_ceccd :=range _fcgde {_cacge [2*_fgbd ]=event {_ceccd .Lly -_ebgfe *_ceccd .fontsize (),true ,_fgbd };_cacge [2*_fgbd +1]=event {_ceccd .Ury +_ebgfe *_ceccd .fontsize (),false ,_fgbd };};};return _fcgde .eventNeighbours (_cacge );};func (_baccf *wordBag )firstReadingIndex (_cfg int )int {_fbde :=_baccf .firstWord (_cfg )._geea ;_gcff :=float64 (_cfg +1)*_cggc ;_edge :=_gcff +_beac *_fbde ;_dbdd :=_cfg ;for _ ,_bec :=range _baccf .depthBand (_gcff ,_edge ){if _dgdc (_baccf .firstWord (_bec ),_baccf .firstWord (_dbdd ))< 0{_dbdd =_bec ;};};return _dbdd ;};func (_adbc rulingList )log (_befg string ){if !_gbde {return ;};_ee .Log .Info ("\u0023\u0023#\u0020\u0025\u0073:\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020",_befg ,len (_adbc ));for _ccbfb ,_fddd :=range _adbc {_ef .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ccbfb ,_fddd .String ());};};func _dgeea (_fegc []_fc .PdfObject )(_gbcb ,_cgebg float64 ,_abgeg error ){if len (_fegc )!=2{return 0,0,_ef .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0073\u003a \u0025\u0064",len (_fegc ));};_edbg ,_abgeg :=_fc .GetNumbersAsFloat (_fegc );if _abgeg !=nil {return 0,0,_abgeg ;};return _edbg [0],_edbg [1],nil ;};
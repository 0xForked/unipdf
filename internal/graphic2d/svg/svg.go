//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package svg ;import (_ec "encoding/xml";_g "fmt";_f "github.com/unidoc/unipdf/v3/common";_db "github.com/unidoc/unipdf/v3/contentstream";_cc "github.com/unidoc/unipdf/v3/contentstream/draw";_cd "github.com/unidoc/unipdf/v3/internal/graphic2d";_ed "golang.org/x/net/html/charset";
_dgc "io";_e "math";_b "os";_dg "strconv";_c "strings";_a "unicode";);func _ecf (_dcf _ec .StartElement )*GraphicSVG {_eba :=&GraphicSVG {};_fed :=make (map[string ]string );for _ ,_acb :=range _dcf .Attr {_fed [_acb .Name .Local ]=_acb .Value ;};_eba .Name =_dcf .Name .Local ;
_eba .Attributes =_fed ;_eba ._agb =1;if _eba .Name =="\u0073\u0076\u0067"{_gce ,_bgc :=_cbca (_fed ["\u0076i\u0065\u0077\u0042\u006f\u0078"]);if _bgc !=nil {_f .Log .Debug ("\u0055\u006ea\u0062\u006c\u0065\u0020t\u006f\u0020p\u0061\u0072\u0073\u0065\u0020\u0076\u0069\u0065w\u0042\u006f\u0078\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074e\u003a\u0020\u0025\u0076",_bgc );
return nil ;};_eba .ViewBox .X =_gce [0];_eba .ViewBox .Y =_gce [1];_eba .ViewBox .W =_gce [2];_eba .ViewBox .H =_gce [3];_eba .Width =_eba .ViewBox .W ;_eba .Height =_eba .ViewBox .H ;if _gbbca ,_efcb :=_fed ["\u0077\u0069\u0064t\u0068"];_efcb {_bag ,_bac :=_bdaf (_gbbca ,64);
if _bac !=nil {_f .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_bac );return nil ;};_eba .Width =_bag ;
};if _fgde ,_bgcf :=_fed ["\u0068\u0065\u0069\u0067\u0068\u0074"];_bgcf {_gfg ,_fgdea :=_bdaf (_fgde ,64);if _fgdea !=nil {_f .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_fgdea );
return nil ;};_eba .Height =_gfg ;};if _eba .Width > 0&&_eba .Height > 0{_eba ._agb =_eba .Width /_eba .ViewBox .W ;};};return _eba ;};func (_gcg *Command )isAbsolute ()bool {return _gcg .Symbol ==_c .ToUpper (_gcg .Symbol )};var (_ecb =[]string {"\u0063\u006d","\u006d\u006d","\u0070\u0078","\u0070\u0074"};
_eb =map[string ]float64 {"\u0063\u006d":_gb ,"\u006d\u006d":_dbe ,"\u0070\u0078":_ba ,"\u0070\u0074":1};);type token struct{_dcd string ;_cbdb bool ;};func _fgg (_bddf []token )([]*Command ,error ){var (_fbea []*Command ;_fda []float64 ;);for _eaf :=len (_bddf )-1;
_eaf >=0;_eaf --{_defe :=_bddf [_eaf ];if _defe ._cbdb {_ccea :=_fca ._aaa [_c .ToLower (_defe ._dcd )];_bba :=len (_fda );if _ccea ==0&&_bba ==0{_afe :=&Command {Symbol :_defe ._dcd };_fbea =append ([]*Command {_afe },_fbea ...);}else if _ccea !=0&&_bba %_ccea ==0{_agaf :=_bba /_ccea ;
for _cff :=0;_cff < _agaf ;_cff ++{_fcd :=_defe ._dcd ;if _fcd =="\u006d"&&_cff < _agaf -1{_fcd ="\u006c";};if _fcd =="\u004d"&&_cff < _agaf -1{_fcd ="\u004c";};_cca :=&Command {_fcd ,_fcbd (_fda [:_ccea ])};_fbea =append ([]*Command {_cca },_fbea ...);
_fda =_fda [_ccea :];};}else {_ddac :=pathParserError {"I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072\u0020\u006f\u0066\u0020\u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006fr\u0020"+_defe ._dcd };
return nil ,_ddac ;};}else {_ddde ,_gac :=_bdaf (_defe ._dcd ,64);if _gac !=nil {return nil ,_gac ;};_fda =append (_fda ,_ddde );};};return _fbea ,nil ;};type GraphicSVG struct{ViewBox struct{X ,Y ,W ,H float64 ;};Name string ;Attributes map[string ]string ;
Children []*GraphicSVG ;Content string ;Style *GraphicSVGStyle ;Width float64 ;Height float64 ;_agb float64 ;};func ParseFromStream (source _dgc .Reader )(*GraphicSVG ,error ){_fgc :=_ec .NewDecoder (source );_fgc .CharsetReader =_ed .NewReaderLabel ;_gfec ,_fgag :=_fbe (_fgc );
if _fgag !=nil {return nil ,_fgag ;};if _fgfd :=_gfec .Decode (_fgc );_fgfd !=nil &&_fgfd !=_dgc .EOF {return nil ,_fgfd ;};return _gfec ,nil ;};type pathParserError struct{_aca string };func _dd (_gc *GraphicSVG ,_gdg *_db .ContentCreator ){_gdg .Add_q ();
_gc .Style .toContentStream (_gdg );_cdd ,_ggb :=_bdaf (_gc .Attributes ["\u0063\u0078"],64);if _ggb !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ggb .Error ());
};_fgeb ,_ggb :=_bdaf (_gc .Attributes ["\u0063\u0079"],64);if _ggb !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ggb .Error ());
};_fe ,_ggb :=_bdaf (_gc .Attributes ["\u0072"],64);if _ggb !=nil {_f .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0072\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_ggb .Error ());
};_ac :=_fe *_gc ._agb ;_gbb :=_fe *_gc ._agb ;_dbd :=_ac *_edf ;_baf :=_gbb *_edf ;_cge :=_cc .NewCubicBezierPath ();_cge =_cge .AppendCurve (_cc .NewCubicBezierCurve (-_ac ,0,-_ac ,_baf ,-_dbd ,_gbb ,0,_gbb ));_cge =_cge .AppendCurve (_cc .NewCubicBezierCurve (0,_gbb ,_dbd ,_gbb ,_ac ,_baf ,_ac ,0));
_cge =_cge .AppendCurve (_cc .NewCubicBezierCurve (_ac ,0,_ac ,-_baf ,_dbd ,-_gbb ,0,-_gbb ));_cge =_cge .AppendCurve (_cc .NewCubicBezierCurve (0,-_gbb ,-_dbd ,-_gbb ,-_ac ,-_baf ,-_ac ,0));_cge =_cge .Offset (_cdd *_gc ._agb ,_fgeb *_gc ._agb );if _gc .Style .StrokeWidth > 0{_cge =_cge .Offset (_gc .Style .StrokeWidth /2,_gc .Style .StrokeWidth /2);
};_cc .DrawBezierPathWithCreator (_cge ,_gdg );if _gc .Style .FillColor !=""&&_gc .Style .StrokeColor !=""{_gdg .Add_B ();}else if _gc .Style .FillColor !=""{_gdg .Add_f ();}else if _gc .Style .StrokeColor !=""{_gdg .Add_S ();};_gdg .Add_h ();_gdg .Add_Q ();
};func (_bddc *GraphicSVG )setDefaultScaling (_bdg float64 ){_bddc ._agb =_bdg ;if _bddc .Style !=nil &&_bddc .Style .StrokeWidth > 0{_bddc .Style .StrokeWidth =_bddc .Style .StrokeWidth *_bddc ._agb ;};for _ ,_fbce :=range _bddc .Children {_fbce .setDefaultScaling (_bdg );
};};func (_aefb *Command )compare (_ecc *Command )bool {if _aefb .Symbol !=_ecc .Symbol {return false ;};for _cgb ,_ffbb :=range _aefb .Params {if _ffbb !=_ecc .Params [_cgb ]{return false ;};};return true ;};func _acbg (_aad string )(_bbf ,_gca ,_ade float64 ){if (len (_aad )!=4&&len (_aad )!=7)||_aad [0]!='#'{_f .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_aad );
return _bbf ,_gca ,_ade ;};var _bcgd ,_defea ,_acbf int ;if len (_aad )==4{var _gafe ,_gef ,_bbg int ;_gbba ,_cef :=_g .Sscanf (_aad ,"\u0023\u0025\u0031\u0078\u0025\u0031\u0078\u0025\u0031\u0078",&_gafe ,&_gef ,&_bbg );if _cef !=nil {_f .Log .Debug ("\u0049\u006e\u0076a\u006c\u0069\u0064\u0020h\u0065\u0078\u0020\u0063\u006f\u0064\u0065:\u0020\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_aad ,_cef );
return _bbf ,_gca ,_ade ;};if _gbba !=3{_f .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_aad );return _bbf ,_gca ,_ade ;};_bcgd =_gafe *16+_gafe ;_defea =_gef *16+_gef ;_acbf =_bbg *16+_bbg ;
}else {_fecb ,_aadc :=_g .Sscanf (_aad ,"\u0023\u0025\u0032\u0078\u0025\u0032\u0078\u0025\u0032\u0078",&_bcgd ,&_defea ,&_acbf );if _aadc !=nil {_f .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_aad );
return _bbf ,_gca ,_ade ;};if _fecb !=3{_f .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0068\u0065\u0078\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0073,\u0020\u006e\u0020\u0021\u003d\u0020\u0033 \u0028\u0025\u0064\u0029",_aad ,_fecb );
return _bbf ,_gca ,_ade ;};};_abd :=float64 (_bcgd )/255.0;_ecgc :=float64 (_defea )/255.0;_gcf :=float64 (_acbf )/255.0;return _abd ,_ecgc ,_gcf ;};type Path struct{Subpaths []*Subpath ;};func (_cbd *commands )isCommand (_eddf string )bool {for _ ,_cedg :=range _cbd ._bge {if _c .ToLower (_eddf )==_cedg {return true ;
};};return false ;};func (_acc *GraphicSVGStyle )toContentStream (_ccced *_db .ContentCreator ){if _acc ==nil {return ;};if _acc .FillColor !=""{var _cbcb ,_cce ,_cdgc float64 ;if _ced ,_dbf :=_cd .ColorMap [_acc .FillColor ];_dbf {_cfba ,_afa ,_cbef ,_ :=_ced .RGBA ();
_cbcb ,_cce ,_cdgc =float64 (_cfba ),float64 (_afa ),float64 (_cbef );}else {_cbcb ,_cce ,_cdgc =_acbg (_acc .FillColor );};_ccced .Add_rg (_cbcb ,_cce ,_cdgc );};if _acc .StrokeColor !=""{var _dba ,_fac ,_bef float64 ;if _feg ,_cabd :=_cd .ColorMap [_acc .StrokeColor ];
_cabd {_cfg ,_cga ,_cccf ,_ :=_feg .RGBA ();_dba ,_fac ,_bef =float64 (_cfg )/255.0,float64 (_cga )/255.0,float64 (_cccf )/255.0;}else {_dba ,_fac ,_bef =_acbg (_acc .StrokeColor );};_ccced .Add_RG (_dba ,_fac ,_bef );};if _acc .StrokeWidth > 0{_ccced .Add_w (_acc .StrokeWidth );
};};func (_bedb *Subpath )compare (_cdec *Subpath )bool {if len (_bedb .Commands )!=len (_cdec .Commands ){return false ;};for _cgaf ,_gdfe :=range _bedb .Commands {if !_gdfe .compare (_cdec .Commands [_cgaf ]){return false ;};};return true ;};func _fbe (_afge *_ec .Decoder )(*GraphicSVG ,error ){for {_fbceb ,_agbe :=_afge .Token ();
if _fbceb ==nil &&_agbe ==_dgc .EOF {break ;};if _agbe !=nil {return nil ,_agbe ;};switch _fdc :=_fbceb .(type ){case _ec .StartElement :return _ecf (_fdc ),nil ;};};return &GraphicSVG {},nil ;};func _dbc (_eef []*Command )*Path {_fcga :=&Path {};var _cac []*Command ;
for _cgc ,_geb :=range _eef {switch _c .ToLower (_geb .Symbol ){case _fca ._dddg :if len (_cac )> 0{_fcga .Subpaths =append (_fcga .Subpaths ,&Subpath {_cac });};_cac =[]*Command {_geb };case _fca ._bcc :_cac =append (_cac ,_geb );_fcga .Subpaths =append (_fcga .Subpaths ,&Subpath {_cac });
_cac =[]*Command {};default:_cac =append (_cac ,_geb );if len (_eef )==_cgc +1{_fcga .Subpaths =append (_fcga .Subpaths ,&Subpath {_cac });};};};return _fcga ;};func (_eeb *GraphicSVG )ToContentCreator (cc *_db .ContentCreator ,scaleX ,scaleY ,translateX ,translateY float64 )*_db .ContentCreator {if _eeb .Name =="\u0073\u0076\u0067"{_eeb .SetScaling (scaleX ,scaleY );
cc .Add_cm (1,0,0,1,translateX ,translateY );_eeb .setDefaultScaling (_eeb ._agb );cc .Add_q ();_fab :=_e .Max (scaleX ,scaleY );cc .Add_re (_eeb .ViewBox .X *_fab ,_eeb .ViewBox .Y *_fab ,_eeb .ViewBox .W *_fab ,_eeb .ViewBox .H *_fab );cc .Add_W ();cc .Add_n ();
for _ ,_ccgb :=range _eeb .Children {_ccgb .ViewBox =_eeb .ViewBox ;_ccgb .toContentStream (cc );};cc .Add_Q ();return cc ;};return nil ;};func _bdaf (_bged string ,_dad int )(float64 ,error ){_ccd ,_bdab :=_gcge (_bged );_eca ,_ggbb :=_dg .ParseFloat (_ccd ,_dad );
if _ggbb !=nil {return 0,_ggbb ;};if _dfc ,_gafd :=_eb [_bdab ];_gafd {_eca =_eca *_dfc ;}else {_eca =_eca *_ba ;};return _eca ,nil ;};func (_deb *GraphicSVG )toContentStream (_dab *_db .ContentCreator ){_gaf ,_eea :=_aff (_deb .Attributes ,_deb ._agb );
if _eea !=nil {_f .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0073\u0074\u0079\u006c\u0065\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_eea );};_deb .Style =_gaf ;switch _deb .Name {case "\u0070\u0061\u0074\u0068":_fb (_deb ,_dab );
for _ ,_fdf :=range _deb .Children {_fdf .toContentStream (_dab );};case "\u0072\u0065\u0063\u0074":_cdg (_deb ,_dab );for _ ,_efc :=range _deb .Children {_efc .toContentStream (_dab );};case "\u0063\u0069\u0072\u0063\u006c\u0065":_dd (_deb ,_dab );for _ ,_ddd :=range _deb .Children {_ddd .toContentStream (_dab );
};case "\u0065l\u006c\u0069\u0070\u0073\u0065":_fec (_deb ,_dab );for _ ,_cfb :=range _deb .Children {_cfb .toContentStream (_dab );};case "\u0070\u006f\u006c\u0079\u006c\u0069\u006e\u0065":_ffa (_deb ,_dab );for _ ,_egc :=range _deb .Children {_egc .toContentStream (_dab );
};case "\u0070o\u006c\u0079\u0067\u006f\u006e":_edd (_deb ,_dab );for _ ,_eae :=range _deb .Children {_eae .toContentStream (_dab );};case "\u006c\u0069\u006e\u0065":_fgf (_deb ,_dab );for _ ,_bfb :=range _deb .Children {_bfb .toContentStream (_dab );};
case "\u0067":_dea ,_dfec :=_deb .Attributes ["\u0066\u0069\u006c\u006c"];_afcb ,_gdbb :=_deb .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];_bdc ,_dfeg :=_deb .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];for _ ,_gdba :=range _deb .Children {if _ ,_fabe :=_gdba .Attributes ["\u0066\u0069\u006c\u006c"];
!_fabe &&_dfec {_gdba .Attributes ["\u0066\u0069\u006c\u006c"]=_dea ;};if _ ,_fcg :=_gdba .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];!_fcg &&_gdbb {_gdba .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"]=_afcb ;};if _ ,_bafg :=_gdba .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];
!_bafg &&_dfeg {_gdba .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"]=_bdc ;};_gdba .toContentStream (_dab );};};};func ParseFromString (svgStr string )(*GraphicSVG ,error ){return ParseFromStream (_c .NewReader (svgStr ));
};func (_gcd *Path )compare (_fdcd *Path )bool {if len (_gcd .Subpaths )!=len (_fdcd .Subpaths ){return false ;};for _ead ,_cea :=range _gcd .Subpaths {if !_cea .compare (_fdcd .Subpaths [_ead ]){return false ;};};return true ;};func _fdg ()commands {var _adgg =map[string ]int {"\u006d":2,"\u007a":0,"\u006c":2,"\u0068":1,"\u0076":1,"\u0063":6,"\u0073":4,"\u0071":4,"\u0074":2,"\u0061":7};
var _faa []string ;for _gdf :=range _adgg {_faa =append (_faa ,_gdf );};return commands {_faa ,_adgg ,"\u006d","\u007a"};};type Command struct{Symbol string ;Params []float64 ;};func _eff (_fgdeg string )(*Path ,error ){_fca =_fdg ();_gbf ,_fgb :=_fgg (_efe (_fgdeg ));
if _fgb !=nil {return nil ,_fgb ;};return _dbc (_gbf ),nil ;};func _ffa (_acf *GraphicSVG ,_fea *_db .ContentCreator ){_fea .Add_q ();_acf .Style .toContentStream (_fea );_bcff ,_gf :=_cbca (_acf .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _gf !=nil {_f .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_gf );
return ;};if len (_bcff )%2> 0{_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _dcba :=0;_dcba < len (_bcff );{if _dcba ==0{_fea .Add_m (_bcff [_dcba ]*_acf ._agb ,_bcff [_dcba +1]*_acf ._agb );}else {_fea .Add_l (_bcff [_dcba ]*_acf ._agb ,_bcff [_dcba +1]*_acf ._agb );};_dcba +=2;};if _acf .Style .FillColor !=""&&_acf .Style .StrokeColor !=""{_fea .Add_B ();
}else if _acf .Style .FillColor !=""{_fea .Add_f ();}else if _acf .Style .StrokeColor !=""{_fea .Add_S ();};_fea .Add_h ();_fea .Add_Q ();};func (_cbe *GraphicSVG )Decode (decoder *_ec .Decoder )error {for {_dcc ,_fffe :=decoder .Token ();if _dcc ==nil &&_fffe ==_dgc .EOF {break ;
};if _fffe !=nil {return _fffe ;};switch _acff :=_dcc .(type ){case _ec .StartElement :_feff :=_ecf (_acff );_ce :=_feff .Decode (decoder );if _ce !=nil {return _ce ;};_cbe .Children =append (_cbe .Children ,_feff );case _ec .CharData :_fgd :=_c .TrimSpace (string (_acff ));
if _fgd !=""{_cbe .Content =string (_acff );};case _ec .EndElement :if _acff .Name .Local ==_cbe .Name {return nil ;};};};return nil ;};func _efe (_dda string )[]token {var (_dga []token ;_cee string ;);for _ ,_cdeag :=range _dda {_dgeg :=string (_cdeag );
switch {case _fca .isCommand (_dgeg ):_dga ,_cee =_bcca (_dga ,_cee );_dga =append (_dga ,token {_dgeg ,true });case _dgeg =="\u002e":if _cee ==""{_cee ="\u0030";};if _c .Contains (_cee ,_dgeg ){_dga =append (_dga ,token {_cee ,false });_cee ="\u0030";
};fallthrough;case _dgeg >="\u0030"&&_dgeg <="\u0039"||_dgeg =="\u0065":_cee +=_dgeg ;case _dgeg =="\u002d":if _c .HasSuffix (_cee ,"\u0065"){_cee +=_dgeg ;}else {_dga ,_ =_bcca (_dga ,_cee );_cee =_dgeg ;};default:_dga ,_cee =_bcca (_dga ,_cee );};};_dga ,_ =_bcca (_dga ,_cee );
return _dga ;};type Subpath struct{Commands []*Command ;};func _edd (_cab *GraphicSVG ,_da *_db .ContentCreator ){_da .Add_q ();_cab .Style .toContentStream (_da );_ccg ,_fga :=_cbca (_cab .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _fga !=nil {_f .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_fga );
return ;};if len (_ccg )%2> 0{_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _ccfa :=0;_ccfa < len (_ccg );{if _ccfa ==0{_da .Add_m (_ccg [_ccfa ]*_cab ._agb ,_ccg [_ccfa +1]*_cab ._agb );}else {_da .Add_l (_ccg [_ccfa ]*_cab ._agb ,_ccg [_ccfa +1]*_cab ._agb );};_ccfa +=2;};_da .Add_l (_ccg [0]*_cab ._agb ,_ccg [1]*_cab ._agb );
if _cab .Style .FillColor !=""&&_cab .Style .StrokeColor !=""{_da .Add_B ();}else if _cab .Style .FillColor !=""{_da .Add_f ();}else if _cab .Style .StrokeColor !=""{_da .Add_S ();};_da .Add_h ();_da .Add_Q ();};func (_gab pathParserError )Error ()string {return _gab ._aca };
func _fcbd (_dae []float64 )[]float64 {for _gae ,_fbef :=0,len (_dae )-1;_gae < _fbef ;_gae ,_fbef =_gae +1,_fbef -1{_dae [_gae ],_dae [_fbef ]=_dae [_fbef ],_dae [_gae ];};return _dae ;};func _cdg (_abb *GraphicSVG ,_gdb *_db .ContentCreator ){_gdb .Add_q ();
_abb .Style .toContentStream (_gdb );_gg ,_ef :=_bdaf (_abb .Attributes ["\u0078"],64);if _ef !=nil {_f .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_ef .Error ());
};_ebeb ,_ef :=_bdaf (_abb .Attributes ["\u0079"],64);if _ef !=nil {_f .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_ef .Error ());
};_dcb ,_ef :=_bdaf (_abb .Attributes ["\u0077\u0069\u0064t\u0068"],64);if _ef !=nil {_f .Log .Debug ("\u0045\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0077\u0069\u0064\u0074\u0068\u0020v\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ef .Error ());
};_bcf ,_ef :=_bdaf (_abb .Attributes ["\u0068\u0065\u0069\u0067\u0068\u0074"],64);if _ef !=nil {_f .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077h\u0069\u006c\u0065 \u0070\u0061\u0072\u0073i\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0068\u0065\u0069\u0067\u0068\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ef .Error ());
};_gdb .Add_re (_gg *_abb ._agb ,_ebeb *_abb ._agb ,_dcb *_abb ._agb ,_bcf *_abb ._agb );if _abb .Style .FillColor !=""&&_abb .Style .StrokeColor !=""{_gdb .Add_B ();}else if _abb .Style .FillColor !=""{_gdb .Add_f ();}else if _abb .Style .StrokeColor !=""{_gdb .Add_S ();
};_gdb .Add_Q ();};func _dadg (_ffe float64 ,_fdcg int )float64 {_fcc :=_e .Pow (10,float64 (_fdcg ));return float64 (_fgdf (_ffe *_fcc ))/_fcc ;};var _fca commands ;func _fec (_bf *GraphicSVG ,_adf *_db .ContentCreator ){_adf .Add_q ();_bf .Style .toContentStream (_adf );
_gbbc ,_cbc :=_bdaf (_bf .Attributes ["\u0063\u0078"],64);if _cbc !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cbc .Error ());
};_afc ,_cbc :=_bdaf (_bf .Attributes ["\u0063\u0079"],64);if _cbc !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cbc .Error ());
};_ee ,_cbc :=_bdaf (_bf .Attributes ["\u0072\u0078"],64);if _cbc !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cbc .Error ());
};_bda ,_cbc :=_bdaf (_bf .Attributes ["\u0072\u0079"],64);if _cbc !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cbc .Error ());
};_gdd :=_ee *_bf ._agb ;_fbc :=_bda *_bf ._agb ;_bff :=_gbbc *_bf ._agb ;_fef :=_afc *_bf ._agb ;_eaa :=_gdd *_edf ;_cdc :=_fbc *_edf ;_adg :=_cc .NewCubicBezierPath ();_adg =_adg .AppendCurve (_cc .NewCubicBezierCurve (-_gdd ,0,-_gdd ,_cdc ,-_eaa ,_fbc ,0,_fbc ));
_adg =_adg .AppendCurve (_cc .NewCubicBezierCurve (0,_fbc ,_eaa ,_fbc ,_gdd ,_cdc ,_gdd ,0));_adg =_adg .AppendCurve (_cc .NewCubicBezierCurve (_gdd ,0,_gdd ,-_cdc ,_eaa ,-_fbc ,0,-_fbc ));_adg =_adg .AppendCurve (_cc .NewCubicBezierCurve (0,-_fbc ,-_eaa ,-_fbc ,-_gdd ,-_cdc ,-_gdd ,0));
_adg =_adg .Offset (_bff ,_fef );if _bf .Style .StrokeWidth > 0{_adg =_adg .Offset (_bf .Style .StrokeWidth /2,_bf .Style .StrokeWidth /2);};_cc .DrawBezierPathWithCreator (_adg ,_adf );if _bf .Style .FillColor !=""&&_bf .Style .StrokeColor !=""{_adf .Add_B ();
}else if _bf .Style .FillColor !=""{_adf .Add_f ();}else if _bf .Style .StrokeColor !=""{_adf .Add_S ();};_adf .Add_h ();_adf .Add_Q ();};func _cbca (_fgfc string )([]float64 ,error ){_adge :=-1;var _eaaa []float64 ;_aee :=' ';for _eefg ,_fdfe :=range _fgfc {if !_a .IsNumber (_fdfe )&&_fdfe !='.'&&!(_fdfe =='-'&&_aee =='e')&&_fdfe !='e'{if _adge !=-1{_dde ,_gfc :=_cec (_fgfc [_adge :_eefg ]);
if _gfc !=nil {return _eaaa ,_gfc ;};_eaaa =append (_eaaa ,_dde ...);};if _fdfe =='-'{_adge =_eefg ;}else {_adge =-1;};}else if _adge ==-1{_adge =_eefg ;};_aee =_fdfe ;};if _adge !=-1&&_adge !=len (_fgfc ){_ecg ,_gde :=_cec (_fgfc [_adge :]);if _gde !=nil {return _eaaa ,_gde ;
};_eaaa =append (_eaaa ,_ecg ...);};return _eaaa ,nil ;};func _agc ()*GraphicSVGStyle {return &GraphicSVGStyle {FillColor :"\u00230\u0030\u0030\u0030\u0030\u0030",StrokeColor :"",StrokeWidth :0};};type GraphicSVGStyle struct{FillColor string ;StrokeColor string ;
StrokeWidth float64 ;};func ParseFromFile (path string )(*GraphicSVG ,error ){_fbb ,_gdgg :=_b .Open (path );if _gdgg !=nil {return nil ,_gdgg ;};defer _fbb .Close ();return ParseFromStream (_fbb );};func _aff (_baca map[string ]string ,_bfa float64 )(*GraphicSVGStyle ,error ){_cdga :=_agc ();
_gbg ,_edae :=_baca ["\u0066\u0069\u006c\u006c"];if _edae {_cdga .FillColor =_gbg ;if _gbg =="\u006e\u006f\u006e\u0065"{_cdga .FillColor ="";};};_fee ,_aef :=_baca ["\u0073\u0074\u0072\u006f\u006b\u0065"];if _aef {_cdga .StrokeColor =_fee ;if _fee =="\u006e\u006f\u006e\u0065"{_cdga .StrokeColor ="";
};};_dbeg ,_fcgd :=_baca ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];if _fcgd {_feaa ,_bbb :=_bdaf (_dbeg ,64);if _bbb !=nil {return nil ,_bbb ;};_cdga .StrokeWidth =_feaa *_bfa ;};return _cdga ,nil ;};func (_ebg *GraphicSVG )SetScaling (xFactor ,yFactor float64 ){_ccge :=_ebg .Width /_ebg .ViewBox .W ;
_cfc :=_ebg .Height /_ebg .ViewBox .H ;_ebg .setDefaultScaling (_e .Max (_ccge ,_cfc ));for _ ,_bdd :=range _ebg .Children {_bdd .SetScaling (xFactor ,yFactor );};};const (_ba =0.72;_gb =28.3464;_dbe =_gb /10;_edf =0.551784;);func _fgf (_eg *GraphicSVG ,_egg *_db .ContentCreator ){_egg .Add_q ();
_eg .Style .toContentStream (_egg );_cdeg ,_fbd :=_bdaf (_eg .Attributes ["\u0078\u0031"],64);if _fbd !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbd .Error ());
};_bfe ,_fbd :=_bdaf (_eg .Attributes ["\u0079\u0031"],64);if _fbd !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbd .Error ());
};_edg ,_fbd :=_bdaf (_eg .Attributes ["\u0078\u0032"],64);if _fbd !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbd .Error ());
};_bed ,_fbd :=_bdaf (_eg .Attributes ["\u0079\u0032"],64);if _fbd !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbd .Error ());
};_egg .Add_m (_cdeg *_eg ._agb ,_bfe *_eg ._agb );_egg .Add_l (_edg *_eg ._agb ,_bed *_eg ._agb );if _eg .Style .FillColor !=""&&_eg .Style .StrokeColor !=""{_egg .Add_B ();}else if _eg .Style .FillColor !=""{_egg .Add_f ();}else if _eg .Style .StrokeColor !=""{_egg .Add_S ();
};_egg .Add_h ();_egg .Add_Q ();};func _fb (_fa *GraphicSVG ,_cb *_db .ContentCreator ){_cb .Add_q ();_fa .Style .toContentStream (_cb );_ff ,_df :=_eff (_fa .Attributes ["\u0064"]);if _df !=nil {_f .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025s",_df .Error ());
};var (_ae ,_ad =0.0,0.0;_gd ,_ge =0.0,0.0;_be *Command ;);for _ ,_ea :=range _ff .Subpaths {for _ ,_ag :=range _ea .Commands {switch _c .ToLower (_ag .Symbol ){case "\u006d":_gd ,_ge =_ag .Params [0]*_fa ._agb ,_ag .Params [1]*_fa ._agb ;if !_ag .isAbsolute (){_gd ,_ge =_ae +_gd -_fa .ViewBox .X ,_ad +_ge -_fa .ViewBox .Y ;
};_cb .Add_m (_dadg (_gd ,3),_dadg (_ge ,3));_ae ,_ad =_gd ,_ge ;case "\u0063":_gbc ,_fff ,_de ,_fd ,_fc ,_ebe :=_ag .Params [0]*_fa ._agb ,_ag .Params [1]*_fa ._agb ,_ag .Params [2]*_fa ._agb ,_ag .Params [3]*_fa ._agb ,_ag .Params [4]*_fa ._agb ,_ag .Params [5]*_fa ._agb ;
if !_ag .isAbsolute (){_gbc ,_fff ,_de ,_fd ,_fc ,_ebe =_ae +_gbc ,_ad +_fff ,_ae +_de ,_ad +_fd ,_ae +_fc ,_ad +_ebe ;};_cb .Add_c (_dadg (_gbc ,3),_dadg (_fff ,3),_dadg (_de ,3),_dadg (_fd ,3),_dadg (_fc ,3),_dadg (_ebe ,3));_ae ,_ad =_fc ,_ebe ;case "\u0073":_bg ,_fg ,_cg ,_ab :=_ag .Params [0]*_fa ._agb ,_ag .Params [1]*_fa ._agb ,_ag .Params [2]*_fa ._agb ,_ag .Params [3]*_fa ._agb ;
if !_ag .isAbsolute (){_bg ,_fg ,_cg ,_ab =_ae +_bg ,_ad +_fg ,_ae +_cg ,_ad +_ab ;};_cb .Add_c (_dadg (_ae ,3),_dadg (_ad ,3),_dadg (_bg ,3),_dadg (_fg ,3),_dadg (_cg ,3),_dadg (_ab ,3));_ae ,_ad =_cg ,_ab ;case "\u006c":_afg ,_bdf :=_ag .Params [0]*_fa ._agb ,_ag .Params [1]*_fa ._agb ;
if !_ag .isAbsolute (){_afg ,_bdf =_ae +_afg ,_ad +_bdf ;};_cb .Add_l (_dadg (_afg ,3),_dadg (_bdf ,3));_ae ,_ad =_afg ,_bdf ;case "\u0068":_dc :=_ag .Params [0]*_fa ._agb ;if !_ag .isAbsolute (){_dc =_ae +_dc ;};_cb .Add_l (_dadg (_dc ,3),_dadg (_ad ,3));
_ae =_dc ;case "\u0076":_def :=_ag .Params [0]*_fa ._agb ;if !_ag .isAbsolute (){_def =_ad +_def ;};_cb .Add_l (_dadg (_ae ,3),_dadg (_def ,3));_ad =_def ;case "\u0071":_ffb ,_ca ,_fge ,_fcf :=_ag .Params [0]*_fa ._agb ,_ag .Params [1]*_fa ._agb ,_ag .Params [2]*_fa ._agb ,_ag .Params [3]*_fa ._agb ;
if !_ag .isAbsolute (){_ffb ,_ca ,_fge ,_fcf =_ae +_ffb ,_ad +_ca ,_ae +_fge ,_ad +_fcf ;};_bc ,_dge :=_cd .QuadraticToCubicBezier (_ae ,_ad ,_ffb ,_ca ,_fge ,_fcf );_cb .Add_c (_dadg (_bc .X ,3),_dadg (_bc .Y ,3),_dadg (_dge .X ,3),_dadg (_dge .Y ,3),_dadg (_fge ,3),_dadg (_fcf ,3));
_ae ,_ad =_fge ,_fcf ;case "\u0074":var _fdb ,_aga _cd .Point ;_ded ,_eda :=_ag .Params [0]*_fa ._agb ,_ag .Params [1]*_fa ._agb ;if !_ag .isAbsolute (){_ded ,_eda =_ae +_ded ,_ad +_eda ;};if _be !=nil &&_c .ToLower (_be .Symbol )=="\u0071"{_cde :=_cd .Point {X :_be .Params [0]*_fa ._agb ,Y :_be .Params [1]*_fa ._agb };
_dgf :=_cd .Point {X :_be .Params [2]*_fa ._agb ,Y :_be .Params [3]*_fa ._agb };_ede :=_dgf .Mul (2.0).Sub (_cde );_fdb ,_aga =_cd .QuadraticToCubicBezier (_ae ,_ad ,_ede .X ,_ede .Y ,_ded ,_eda );};_cb .Add_c (_dadg (_fdb .X ,3),_dadg (_fdb .Y ,3),_dadg (_aga .X ,3),_dadg (_aga .Y ,3),_dadg (_ded ,3),_dadg (_eda ,3));
_ae ,_ad =_ded ,_eda ;case "\u0061":_bb ,_dfe :=_ag .Params [0]*_fa ._agb ,_ag .Params [1]*_fa ._agb ;_gec :=_ag .Params [2];_gbcg :=_ag .Params [3]> 0;_ccf :=_ag .Params [4]> 0;_dbeb ,_cdb :=_ag .Params [5]*_fa ._agb ,_ag .Params [6]*_fa ._agb ;if !_ag .isAbsolute (){_dbeb ,_cdb =_ae +_dbeb ,_ad +_cdb ;
};_ebf :=_cd .EllipseToCubicBeziers (_ae ,_ad ,_bb ,_dfe ,_gec ,_gbcg ,_ccf ,_dbeb ,_cdb );for _ ,_ga :=range _ebf {_cb .Add_c (_dadg (_ga [1].X ,3),_dadg ((_ga [1].Y ),3),_dadg ((_ga [2].X ),3),_dadg ((_ga [2].Y ),3),_dadg ((_ga [3].X ),3),_dadg ((_ga [3].Y ),3));
};_ae ,_ad =_dbeb ,_cdb ;case "\u007a":_cb .Add_h ();};_be =_ag ;};};if _fa .Style .FillColor !=""&&_fa .Style .StrokeColor !=""{_cb .Add_B ();}else if _fa .Style .FillColor !=""{_cb .Add_f ();}else if _fa .Style .StrokeColor !=""{_cb .Add_S ();};_cb .Add_h ();
_cb .Add_Q ();};func _gcge (_fbg string )(_efd ,_cag string ){if _fbg ==""||(_fbg [len (_fbg )-1]>='0'&&_fbg [len (_fbg )-1]<='9'){return _fbg ,"";};_efd =_fbg ;for _ ,_ada :=range _ecb {if _c .Contains (_efd ,_ada ){_cag =_ada ;};_efd =_c .TrimSuffix (_efd ,_ada );
};return ;};type commands struct{_bge []string ;_aaa map[string ]int ;_dddg string ;_bcc string ;};func _fgdf (_fgca float64 )int {return int (_fgca +_e .Copysign (0.5,_fgca ))};func _bcca (_aaf []token ,_gaeb string )([]token ,string ){if _gaeb !=""{_aaf =append (_aaf ,token {_gaeb ,false });
_gaeb ="";};return _aaf ,_gaeb ;};func _cec (_adc string )(_baa []float64 ,_dca error ){var _cdcg float64 ;_fgbb :=0;_fdd :=true ;for _bab ,_beg :=range _adc {if _beg =='.'{if _fdd {_fdd =false ;continue ;};_cdcg ,_dca =_bdaf (_adc [_fgbb :_bab ],64);if _dca !=nil {return ;
};_baa =append (_baa ,_cdcg );_fgbb =_bab ;};};_cdcg ,_dca =_bdaf (_adc [_fgbb :],64);if _dca !=nil {return ;};_baa =append (_baa ,_cdcg );return ;};
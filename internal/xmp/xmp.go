//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package xmp ;import (_c "bytes";_a "encoding/hex";_cg "fmt";_gf "github.com/unidoc/unipdf/v3/common";_ad "github.com/unidoc/unipdf/v3/core";_d "github.com/unidoc/unipdf/v3/internal/timeutils";_f "github.com/unidoc/unipdf/v3/internal/uuid";_gc "strconv";
_cd "text/template";_cb "time";);func WrapTime (t _cb .Time )Time {return Time (t )};func init (){var _ff error ;_e ,_ff =_cd .New ("").Parse (_gdb );if _ff !=nil {panic (_cg .Sprintf ("\u0045\u0072\u0072\u003a\u0020p\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u006d\u0065\u0074\u0061\u0064\u0061t\u0061\u0020\u0074\u0065\u006d\u0070\u006c\u0061\u0074\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u003a\u0020\u0025\u0076",_ff ));
};};func (_gad Time )MarshalText ()([]byte ,error ){if _gad .IsZero (){return nil ,nil ;};return []byte (_gad .String ()),nil ;};type PdfA struct{Part int ;Conformance string ;};type Time _cb .Time ;func NewMetadataFromPdfInfo (obj _ad .PdfObject )(Metadata ,error ){_ga ,_ec :=obj .(*_ad .PdfObjectDictionary );
if !_ec {return Metadata {},_cg .Errorf ("i\u006e\u0076\u0061\u006c\u0069\u0064 \u0070\u0064\u0066\u0020\u006f\u0062\u006a\u0065\u0063t\u0020\u0074\u0079p\u0065:\u0020\u0025\u0054",obj );};_eg :=Metadata {};var _b *_ad .PdfObjectString ;for _ ,_ac :=range _ga .Keys (){switch _ac {case "\u0054\u0069\u0074l\u0065":_b ,_ec =_ad .GetString (_ga .Get ("\u0054\u0069\u0074l\u0065"));
if !_ec {continue ;};_eg .Title =_b .String ();case "\u0041\u0075\u0074\u0068\u006f\u0072":_b ,_ec =_ad .GetString (_ga .Get ("\u0041\u0075\u0074\u0068\u006f\u0072"));if !_ec {continue ;};_eg .Author =[]string {_b .String ()};case "\u0053u\u0062\u006a\u0065\u0063\u0074":_b ,_ec =_ad .GetString (_ga .Get ("\u0053u\u0062\u006a\u0065\u0063\u0074"));
if !_ec {continue ;};_eg .Subject =_b .String ();case "\u004b\u0065\u0079\u0077\u006f\u0072\u0064\u0073":_b ,_ec =_ad .GetString (_ga .Get ("\u004b\u0065\u0079\u0077\u006f\u0072\u0064\u0073"));if !_ec {continue ;};_eg .Keywords =_b .String ();case "\u0043r\u0065\u0061\u0074\u006f\u0072":_b ,_ec =_ad .GetString (_ga .Get ("\u0043r\u0065\u0061\u0074\u006f\u0072"));
if !_ec {continue ;};_eg .Creator =_b .String ();case "\u0050\u0072\u006f\u0064\u0075\u0063\u0065\u0072":_b ,_ec =_ad .GetString (_ga .Get ("\u0050\u0072\u006f\u0064\u0075\u0063\u0065\u0072"));if !_ec {continue ;};_eg .Producer =_b .String ();case "\u0054r\u0061\u0070\u0070\u0065\u0064":_ ,_ab :=_ad .GetName (_ga .Get ("\u0054r\u0061\u0070\u0070\u0065\u0064"));
if !_ab {continue ;};_eg .Trapped =true ;case "\u0043\u0072\u0065a\u0074\u0069\u006f\u006e\u0044\u0061\u0074\u0065":if _fc ,_bd :=_ad .GetString (_ga .Get ("\u0043\u0072\u0065a\u0074\u0069\u006f\u006e\u0044\u0061\u0074\u0065"));_bd &&_fc .String ()!=""{_bb ,_fcf :=_d .ParsePdfTime (_fc .String ());
if _fcf !=nil {return _eg ,_cg .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0043\u0072e\u0061\u0074\u0069\u006f\u006e\u0044\u0061t\u0065\u0020\u0066\u0069\u0065\u006c\u0064\u003a\u0020\u0025\u0077",_fcf );};_eg .CreationDate =WrapTime (_bb );
};case "\u004do\u0064\u0044\u0061\u0074\u0065":if _gg ,_cgg :=_ad .GetString (_ga .Get ("\u004do\u0064\u0044\u0061\u0074\u0065"));_cgg &&_gg .String ()!=""{_da ,_ce :=_d .ParsePdfTime (_gg .String ());if _ce !=nil {return _eg ,_cg .Errorf ("\u0069n\u0076\u0061\u006c\u0069d\u0020\u004d\u006f\u0064\u0044a\u0074e\u0020f\u0069\u0065\u006c\u0064\u003a\u0020\u0025w",_ce );
};_eg .ModifyDate =WrapTime (_da );};};};_eg .UniPDFVersion =_gf .Version ;return _eg ,nil ;};func (_bfe *Bool )UnmarshalText (data []byte )error {_fa ,_daf :=_gc .ParseBool (string (data ));if _daf !=nil {return _cg .Errorf ("\u0078\u006d\u0070\u003a \u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0062\u006fo\u006c \u0076\u0061\u006c\u0075\u0065\u0020\u0027%\u0073\u0027",string (data ));
};*_bfe =Bool (_fa );return nil ;};type Bool bool ;func Now ()Time {return Time (_cb .Now ())};func (_dd Bool )Value ()bool {return bool (_dd )};const (True Bool =true ;False Bool =false ;);var _e *_cd .Template ;func (_fcb Time )String ()string {return _cb .Time (_fcb ).Format (_cb .RFC3339 )};
func (_be *Metadata )MarshalXMP ()([]byte ,error ){var _ggb _c .Buffer ;type wrapper struct{Metadata ;XPacketID string ;DocumentID _f .UUID ;InstanceID _f .UUID ;};_ag :=_be .DocumentID ;if _ag ==_f .Nil {var _bc error ;_ag ,_bc =_f .NewUUID ();if _bc !=nil {return nil ,_bc ;
};};_ee :=*_be ;_fb :=wrapper {Metadata :_ee ,XPacketID :_a .EncodeToString (_ag [:]),DocumentID :_ag ,InstanceID :_ag };_ggb .WriteString ("\u003c\u003f\u0078\u0070\u0061\u0063\u006b\u0065\u0074\u0020\u0062\u0065g\u0069\u006e\u003d\u0022");_ggb .WriteRune ('\uFEFF');
_ggb .WriteString ("\u0022\u0020\u0069\u0064\u003d\u0022");_ggb .WriteString (_a .EncodeToString (_ag [:]));_ggb .WriteString ("\u0022\u003f\u003e");if _ed :=_e .Execute (&_ggb ,_fb );_ed !=nil {return nil ,_ed ;};return _ggb .Bytes (),nil ;};func (_dad Time )IsZero ()bool {return _cb .Time (_dad ).IsZero ()};
const _gdb =`
<x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="{{.UniPDFVersion}}{{if not .MetadataDate.IsZero -}}, {{.MetadataDate.String}}{{end}}">
   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
      <rdf:Description rdf:about=""
            xmlns:xmp="http://ns.adobe.com/xap/1.0/"
            xmlns:pdf="http://ns.adobe.com/pdf/1.3/"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:xmpMM="http://ns.adobe.com/xap/1.0/mm/"
            xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#"
            {{if .PdfA -}}
            xmlns:pdfaid="http://www.aiim.org/pdfa/ns/id/"
            xmlns:pdfaExtension="http://www.aiim.org/pdfa/ns/extension/"
            xmlns:pdfaSchema="http://www.aiim.org/pdfa/ns/schema#"
            xmlns:pdfaProperty="http://www.aiim.org/pdfa/ns/property#">
         {{end -}}
         <xmp:CreatorTool>{{.Creator}}</xmp:CreatorTool>
         {{if not .CreationDate.IsZero -}}
         <xmp:CreateDate>{{.CreationDate}}</xmp:CreateDate>
         {{end -}}
         {{if not .ModifyDate.IsZero -}}
         <xmp:ModifyDate>{{.ModifyDate}}</xmp:ModifyDate>
         {{end -}}
         {{if not .MetadataDate.IsZero -}}
         <xmp:MetadataDate>{{.MetadataDate}}</xmp:MetadataDate>
         {{end -}}
         {{if .Producer -}}<pdf:Producer>{{.Producer}}</pdf:Producer>
         {{end -}}
         {{if .Keywords -}}<pdf:Keywords>{{.Keywords }}</pdf:Keywords>
         {{end -}}
         {{if .PDFVersion -}}<pdf:PDFVersion>{{.PDFVersion}}</pdf:PDFVersion>
         {{end -}}
         {{if .Trapped -}}<pdf:Trapped>{{.Trapped}}</pdf:Trapped>
         {{end -}}
         {{if .Copyright -}}<pdf:Copyright>{{.Copyright}}</pdf:Copyright>
         {{end -}}
         {{if .Marked -}}<pdf:Marked>{{.Marked}}</pdf:Marked>
         {{end -}}
         <dc:format>application/pdf</dc:format>
         {{if .Title -}}<dc:title>
         	<rdf:Alt>
            	<rdf:li xml:lang="x-default">{{.Title}}</rdf:li>
            </rdf:Alt>
         </dc:title>
         {{end -}}
         {{if .Author -}}<dc:creator>
         	<rdf:Seq>{{- range $author := .Author}}
         		<rdf:li>{{$author}}</rdf:li>
         		{{- end}}
         	</rdf:Seq>
         </dc:creator>
         {{end -}}
         {{if .Subject -}}<dc:description>
         	<rdf:Alt>
            	<rdf:li xml:lang="x-default">{{.Subject}}</rdf:li>
            </rdf:Alt>
         </dc:description>
         {{end -}}
         {{if .Copyright -}}<dc:rights>
         	<rdf:Alt>
         		<rdf:li xml:lang="x-default">{{.Copyright}}</rdf:li>
         	</rdf:Alt>
         </dc:rights>
         {{end -}}
         <xmpMM:DocumentID>uuid:{{.DocumentID}}</xmpMM:DocumentID>
         <xmpMM:InstanceID>uuid:{{.InstanceID}}</xmpMM:InstanceID>
         <xmpMM:RenditionClass>default</xmpMM:RenditionClass>
         <xmpMM:VersionID>1</xmpMM:VersionID>         
         {{if .PdfA -}}<pdfaid:part>{{.PdfA.Part}}</pdfaid:part>
         <pdfaid:conformance>{{.PdfA.Conformance}}</pdfaid:conformance>
         {{end -}}
         <pdfaExtension:schemas>
            <rdf:Bag>
               <rdf:li rdf:parseType="Resource">
                  <pdfaSchema:namespaceURI>http://ns.adobe.com/pdf/1.3/</pdfaSchema:namespaceURI>
                  <pdfaSchema:prefix>pdf</pdfaSchema:prefix>
                  <pdfaSchema:schema>Adobe PDF Schema</pdfaSchema:schema>
                  <pdfaSchema:property>
                     <rdf:Seq>
                        {{if .Trapped -}}<rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>A name object indicating whether the document has been modified to include trapping information</pdfaProperty:description>
                           <pdfaProperty:name>Trapped</pdfaProperty:name>
                           <pdfaProperty:valueType>Text</pdfaProperty:valueType>
                        </rdf:li>
                        {{end -}}
                        {{if .Producer -}}<rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>The name of the tool that created the PDF document.</pdfaProperty:description>
                           <pdfaProperty:name>Producer</pdfaProperty:name>
                           <pdfaProperty:valueType>AgentName</pdfaProperty:valueType>
                        </rdf:li>
                        {{end -}}
                        {{if .Keywords -}}<rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>Keywords.</pdfaProperty:description>
                           <pdfaProperty:name>Keywords</pdfaProperty:name>
                           <pdfaProperty:valueType>Text</pdfaProperty:valueType>
                        </rdf:li>
                        {{end -}}
                        {{if .PDFVersion -}}<rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>The PDF file version (for example: 1.0, 1.3, and so on).</pdfaProperty:description>
                           <pdfaProperty:name>PDFVersion</pdfaProperty:name>
                           <pdfaProperty:valueType>Text</pdfaProperty:valueType>
                        </rdf:li>
                        {{end -}}	   	
                     </rdf:Seq>
                  </pdfaSchema:property>
               </rdf:li>
               <rdf:li rdf:parseType="Resource">
                  <pdfaSchema:namespaceURI>http://ns.adobe.com/xap/1.0/mm/</pdfaSchema:namespaceURI>
                  <pdfaSchema:prefix>xmpMM</pdfaSchema:prefix>
                  <pdfaSchema:schema>XMP Media Management Schema</pdfaSchema:schema>
                  <pdfaSchema:property>
                     <rdf:Seq>
                        <rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>UUID based identifier for specific incarnation of a document</pdfaProperty:description>
                           <pdfaProperty:name>InstanceID</pdfaProperty:name>
                           <pdfaProperty:valueType>URI</pdfaProperty:valueType>
                        </rdf:li>
                        <rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>The common identifier for all versions and renditions of a document.</pdfaProperty:description>
                           <pdfaProperty:name>OriginalDocumentID</pdfaProperty:name>
                           <pdfaProperty:valueType>URI</pdfaProperty:valueType>
                        </rdf:li>
                     </rdf:Seq>
                  </pdfaSchema:property>
               </rdf:li>
               {{if .PdfA -}}<rdf:li rdf:parseType="Resource">
                  <pdfaSchema:namespaceURI>http://www.aiim.org/pdfa/ns/id/</pdfaSchema:namespaceURI>
                  <pdfaSchema:prefix>pdfaid</pdfaSchema:prefix>
                  <pdfaSchema:schema>PDF/A ID Schema</pdfaSchema:schema>
                  <pdfaSchema:property>
                     <rdf:Seq>
                        <rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>Part of PDF/A standard</pdfaProperty:description>
                           <pdfaProperty:name>part</pdfaProperty:name>
                           <pdfaProperty:valueType>Integer</pdfaProperty:valueType>
                        </rdf:li>
                        <rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>Amendment of PDF/A standard</pdfaProperty:description>
                           <pdfaProperty:name>amd</pdfaProperty:name>
                           <pdfaProperty:valueType>Text</pdfaProperty:valueType>
                        </rdf:li>
                        <rdf:li rdf:parseType="Resource">
                           <pdfaProperty:category>internal</pdfaProperty:category>
                           <pdfaProperty:description>Conformance level of PDF/A standard</pdfaProperty:description>
                           <pdfaProperty:name>conformance</pdfaProperty:name>
                           <pdfaProperty:valueType>Text</pdfaProperty:valueType>
                        </rdf:li>
                     </rdf:Seq>
                  </pdfaSchema:property>
               </rdf:li>
            {{end -}}
            </rdf:Bag>
         </pdfaExtension:schemas>
      </rdf:Description>
   </rdf:RDF>
</x:xmpmeta>
<?xpacket end="w"?>`;
func (_cc Bool )MarshalText ()([]byte ,error ){if _cc {return []byte ("\u0054\u0072\u0075\u0065"),nil ;};return []byte ("\u0046\u0061\u006cs\u0065"),nil ;};type Metadata struct{DocumentID _f .UUID ;UniPDFVersion string ;Title string ;Author []string ;Subject string ;
Keywords string ;Creator string ;Producer string ;PDFVersion string ;CreationDate Time ;ModifyDate Time ;MetadataDate Time ;Trapped Bool ;Copyright string ;Marked Bool ;PdfA *PdfA ;};
//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package unichart ;import (_ga "bytes";_a "fmt";_gf "github.com/unidoc/unichart/render";_fdf "github.com/unidoc/unipdf/v3/common";_ff "github.com/unidoc/unipdf/v3/contentstream";_bd "github.com/unidoc/unipdf/v3/contentstream/draw";_ef "github.com/unidoc/unipdf/v3/core";
_b "github.com/unidoc/unipdf/v3/model";_fd "image/color";_e "io";_f "math";);func (_dfg *Renderer )ResetStyle (){_dfg .SetFillColor (_fd .Black );_dfg .SetStrokeColor (_fd .Transparent );_dfg .SetStrokeWidth (0);_dfg .SetFont (_b .DefaultFont ());_dfg .SetFontColor (_fd .Black );
_dfg .SetFontSize (12);_dfg .SetTextRotation (0);};func (_cfg *Renderer )Text (text string ,x ,y int ){_cfg ._acb .Add_q ();_cfg .SetFont (_cfg ._gd );_cbc ,_ffd ,_aac ,_ :=_gdc (_cfg ._fe );_cfg ._acb .Add_rg (_cbc ,_ffd ,_aac );_cfg ._acb .Translate (float64 (x ),float64 (y )).Scale (1,-1);
if _efec :=_cfg ._gaa ;_efec !=0{_cfg ._acb .RotateDeg (_efec );};_cfg ._acb .Add_BT ().Add_TL (_cfg ._df );var (_fda =_cfg ._gd .Encoder ();_bcc =_cfg .wrapText (text );_egc =len (_bcc ););for _gb ,_egd :=range _bcc {_cfg ._acb .Add_TJ (_ef .MakeStringFromBytes (_fda .Encode (_egd )));
if _gb !=_egc -1{_cfg ._acb .Add_Tstar ();};};_cfg ._acb .Add_ET ();_cfg ._acb .Add_Q ();};type Renderer struct{_ac int ;_ed int ;_c float64 ;_acb *_ff .ContentCreator ;_d *_b .PdfPageResources ;_de _fd .Color ;_ee _fd .Color ;_gac float64 ;_gd *_b .PdfFont ;
_df float64 ;_fe _fd .Color ;_gaa float64 ;_fa map[*_b .PdfFont ]_ef .PdfObjectName ;};func (_dd *Renderer )SetDPI (dpi float64 ){_dd ._c =dpi };func (_feb *Renderer )Fill (){_feb ._acb .Add_f ()};func (_eba *Renderer )getTextWidth (_aafg string )float64 {var _gfg float64 ;
for _ ,_ce :=range _aafg {_gfb ,_dff :=_eba ._gd .GetRuneMetrics (_ce );if !_dff {_fdf .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0075\u006e\u0073\u0075\u0070\u0070\u006fr\u0074e\u0064 \u0072u\u006e\u0065\u0020\u0025\u0076\u0020\u0069\u006e\u0020\u0066\u006f\u006e\u0074",_ce );
};_gfg +=_gfb .Wx ;};return _eba ._df *_gfg /1000.0;};func (_dg *Renderer )GetDPI ()float64 {return _dg ._c };func (_bbc *Renderer )Circle (radius float64 ,x ,y int ){_dad :=radius ;if _gae :=_bbc ._gac ;_gae !=0{_dad -=_gae /2;};_efe :=_dad *0.551784;
_fee :=_bd .CubicBezierPath {Curves :[]_bd .CubicBezierCurve {_bd .NewCubicBezierCurve (-_dad ,0,-_dad ,_efe ,-_efe ,_dad ,0,_dad ),_bd .NewCubicBezierCurve (0,_dad ,_efe ,_dad ,_dad ,_efe ,_dad ,0),_bd .NewCubicBezierCurve (_dad ,0,_dad ,-_efe ,_efe ,-_dad ,0,-_dad ),_bd .NewCubicBezierCurve (0,-_dad ,-_efe ,-_dad ,-_dad ,-_efe ,-_dad ,0)}};
if _dae :=_bbc ._gac ;_dae !=0{_fee =_fee .Offset (_dae /2,_dae /2);};_fee =_fee .Offset (float64 (x ),float64 (y ));_bd .DrawBezierPathWithCreator (_fee ,_bbc ._acb );};func (_fdcc *Renderer )ClearTextRotation (){_fdcc ._gaa =0};func _efa (_daeg float64 )float64 {return _daeg *180/_f .Pi };
func (_fae *Renderer )SetTextRotation (radians float64 ){_fae ._gaa =_efa (-radians )};func (_ggg *Renderer )SetFontColor (color _fd .Color ){_ggg ._fe =color };func (_fc *Renderer )ArcTo (cx ,cy int ,rx ,ry ,startAngle ,deltaAngle float64 ){startAngle =_efa (2.0*_f .Pi -startAngle );
deltaAngle =_efa (-deltaAngle );_ab ,_cd :=deltaAngle ,1;if _f .Abs (deltaAngle )> 90.0{_cd =int (_f .Ceil (_f .Abs (deltaAngle )/90.0));_ab =deltaAngle /float64 (_cd );};var (_bb =_aacg (_ab /2);_eb =_f .Abs (4.0/3.0*(1.0-_f .Cos (_bb ))/_f .Sin (_bb ));
_eg =float64 (cx );_gfe =float64 (cy ););for _cdf :=0;_cdf < _cd ;_cdf ++{_fb :=_aacg (startAngle +float64 (_cdf )*_ab );_bda :=_aacg (startAngle +float64 (_cdf +1)*_ab );_aae :=_f .Cos (_fb );_dfaa :=_f .Cos (_bda );_cf :=_f .Sin (_fb );_cb :=_f .Sin (_bda );
var _ffc []float64 ;if _ab > 0{_ffc =[]float64 {_eg +rx *_aae ,_gfe -ry *_cf ,_eg +rx *(_aae -_eb *_cf ),_gfe -ry *(_cf +_eb *_aae ),_eg +rx *(_dfaa +_eb *_cb ),_gfe -ry *(_cb -_eb *_dfaa ),_eg +rx *_dfaa ,_gfe -ry *_cb };}else {_ffc =[]float64 {_eg +rx *_aae ,_gfe -ry *_cf ,_eg +rx *(_aae +_eb *_cf ),_gfe -ry *(_cf -_eb *_aae ),_eg +rx *(_dfaa -_eb *_cb ),_gfe -ry *(_cb +_eb *_dfaa ),_eg +rx *_dfaa ,_gfe -ry *_cb };
};if _cdf ==0{_fc ._acb .Add_l (_ffc [0],_ffc [1]);};_fc ._acb .Add_c (_ffc [2],_ffc [3],_ffc [4],_ffc [5],_ffc [6],_ffc [7]);};};func (_gff *Renderer )SetStrokeWidth (width float64 ){_gff ._gac =width ;_gff ._acb .Add_w (width )};func (_cc *Renderer )SetFont (font _gf .Font ){_dfaae ,_gdab :=font .(*_b .PdfFont );
if !_gdab {_fdf .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061\u006c\u0069d\u0020\u0066\u006f\u006e\u0074\u0020\u0074\u0079\u0070\u0065");return ;};_eeg ,_gdab :=_cc ._fa [_dfaae ];if !_gdab {_eeg =_fbc ("\u0046\u006f\u006e\u0074",1,_cc ._d .HasFontByName );
if _ccd :=_cc ._d .SetFontByName (_eeg ,_dfaae .ToPdfObject ());_ccd !=nil {_fdf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0061\u0064d\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0076\u0020\u0074\u006f\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u0073",_dfaae );
};_cc ._fa [_dfaae ]=_eeg ;};_cc ._acb .Add_Tf (_eeg ,_cc ._df );_cc ._gd =_dfaae ;};func _fbc (_dc string ,_afa int ,_ea func (_ef .PdfObjectName )bool )_ef .PdfObjectName {_dec :=_ef .PdfObjectName (_a .Sprintf ("\u0025\u0073\u0025\u0064",_dc ,_afa ));
for _geb :=_afa ;_ea (_dec );{_geb ++;_dec =_ef .PdfObjectName (_a .Sprintf ("\u0025\u0073\u0025\u0064",_dc ,_geb ));};return _dec ;};func (_ae *Renderer )SetStrokeDashArray (dashArray []float64 ){_gg :=make ([]int64 ,len (dashArray ));for _edb ,_dea :=range dashArray {_gg [_edb ]=int64 (_dea );
};_ae ._acb .Add_d (_gg ,0);};func (_fef *Renderer )Stroke (){_fef ._acb .Add_S ()};func (_dag *Renderer )MoveTo (x ,y int ){_dag ._acb .Add_m (float64 (x ),float64 (y ))};func NewRenderer (cc *_ff .ContentCreator ,res *_b .PdfPageResources )func (int ,int )(_gf .Renderer ,error ){return func (_aa ,_efg int )(_gf .Renderer ,error ){_aaf :=&Renderer {_ac :_aa ,_ed :_efg ,_c :72,_acb :cc ,_d :res ,_fa :map[*_b .PdfFont ]_ef .PdfObjectName {}};
_aaf .ResetStyle ();return _aaf ,nil ;};};func (_fbb *Renderer )FillStroke (){_fbb ._acb .Add_B ()};func _cbf (_ddb _fd .Color )(uint8 ,uint8 ,uint8 ,uint8 ){_ge ,_afgf ,_dbb ,_bdc :=_ddb .RGBA ();return uint8 (_ge >>8),uint8 (_afgf >>8),uint8 (_dbb >>8),uint8 (_bdc >>8);
};func (_gc *Renderer )SetFontSize (size float64 ){_gc ._df =size };func (_gag *Renderer )SetFillColor (color _fd .Color ){_gag ._de =color ;_ec ,_ba ,_be ,_ :=_gdc (color );_gag ._acb .Add_rg (_ec ,_ba ,_be );};func (_bebd *Renderer )wrapText (_faa string )[]string {var (_bdb []string ;
_fea []rune ;);for _ ,_fcc :=range _faa {if _fcc =='\n'{_bdb =append (_bdb ,string (_fea ));_fea =[]rune {};continue ;};_fea =append (_fea ,_fcc );};if len (_fea )> 0{_bdb =append (_bdb ,string (_fea ));};return _bdb ;};func (_gdf *Renderer )QuadCurveTo (cx ,cy ,x ,y int ){_gdf ._acb .Add_v (float64 (x ),float64 (y ),float64 (cx ),float64 (cy ));
};func _aacg (_geg float64 )float64 {return _geg *_f .Pi /180.0};func (_fdc *Renderer )SetStrokeColor (color _fd .Color ){_fdc ._ee =color ;_dfa ,_da ,_ag ,_ :=_gdc (color );_fdc ._acb .Add_RG (_dfa ,_da ,_ag );};func (_cg *Renderer )LineTo (x ,y int ){_cg ._acb .Add_l (float64 (x ),float64 (y ))};
func (_bg *Renderer )MeasureText (text string )_gf .Box {_af :=_bg ._df ;_beb ,_ega :=_bg ._gd .GetFontDescriptor ();if _ega !=nil {_fdf .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0055n\u0061\u0062\u006c\u0065\u0020\u0074o\u0020\u0067\u0065\u0074\u0020\u0066\u006fn\u0074\u0020\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074o\u0072");
}else {_bfd ,_abb :=_beb .GetCapHeight ();if _abb !=nil {_fdf .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0055\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0067\u0065\u0074\u0020f\u006f\u006e\u0074\u0020\u0063\u0061\u0070\u0020\u0068\u0065\u0069\u0067\u0068t\u003a\u0020\u0025\u0076",_abb );
}else {_af =_bfd /1000.0*_bg ._df ;};};var (_bgc =0.0;_fefd =_bg .wrapText (text ););for _ ,_afg :=range _fefd {if _ca :=_bg .getTextWidth (_afg );_ca > _bgc {_bgc =_ca ;};};_acf :=_gf .NewBox (0,0,int (_bgc ),int (_af ));if _acfg :=_bg ._gaa ;_acfg !=0{_acf =_acf .Corners ().Rotate (_acfg ).Box ();
};return _acf ;};func _gdc (_ebb _fd .Color )(float64 ,float64 ,float64 ,float64 ){_dgb ,_faf ,_dffa ,_feab :=_cbf (_ebb );return float64 (_dgb )/255,float64 (_faf )/255,float64 (_dffa )/255,float64 (_feab )/255;};func (_eff *Renderer )SetClassName (name string ){};
func (_db *Renderer )Save (w _e .Writer )error {if w ==nil {return nil ;};_ ,_cdg :=_e .Copy (w ,_ga .NewBuffer (_db ._acb .Bytes ()));return _cdg ;};func (_acc *Renderer )Close (){_acc ._acb .Add_h ()};
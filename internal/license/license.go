//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package license ;import (_ec "bytes";_d "compress/gzip";_f "crypto";_gb "crypto/aes";_ac "crypto/cipher";_af "crypto/hmac";_gc "crypto/rand";_be "crypto/rsa";_db "crypto/sha256";_gf "crypto/sha512";_eec "crypto/x509";_bb "encoding/base64";_ebe "encoding/hex";
_gg "encoding/json";_ee "encoding/pem";_b "errors";_eb "fmt";_ecf "github.com/unidoc/unipdf/v3/common";_a "io";_ada "io/ioutil";_fc "net";_fg "net/http";_ad "os";_fa "path/filepath";_g "sort";_cg "strings";_e "sync";_ed "time";);var _dgbd map[string ]int ;
func SetLicenseKey (content string ,customerName string )error {_bde ,_ead :=_gaa (content );if _ead !=nil {_ecf .Log .Error ("\u004c\u0069c\u0065\u006e\u0073\u0065\u0020\u0063\u006f\u0064\u0065\u0020\u0064\u0065\u0063\u006f\u0064\u0065\u0020\u0065\u0072\u0072\u006f\u0072: \u0025\u0076",_ead );
return _ead ;};if !_cg .EqualFold (_bde .CustomerName ,customerName ){_ecf .Log .Error ("L\u0069ce\u006es\u0065 \u0063\u006f\u0064\u0065\u0020i\u0073\u0073\u0075e\u0020\u002d\u0020\u0043\u0075s\u0074\u006f\u006de\u0072\u0020\u006e\u0061\u006d\u0065\u0020\u006d\u0069\u0073\u006da\u0074\u0063\u0068, e\u0078\u0070\u0065\u0063\u0074\u0065d\u0020\u0027\u0025\u0073\u0027\u002c\u0020\u0062\u0075\u0074\u0020\u0067o\u0074 \u0027\u0025\u0073\u0027",_bde .CustomerName ,customerName );
return _eb .Errorf ("\u0063\u0075\u0073\u0074\u006fm\u0065\u0072\u0020\u006e\u0061\u006d\u0065\u0020\u006d\u0069\u0073\u006d\u0061t\u0063\u0068\u002c\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0027\u0025\u0073\u0027\u002c\u0020\u0062\u0075\u0074\u0020\u0067\u006f\u0074\u0020\u0027\u0025\u0073'",_bde .CustomerName ,customerName );
};_ead =_bde .Validate ();if _ead !=nil {_ecf .Log .Error ("\u004c\u0069\u0063\u0065\u006e\u0073e\u0020\u0063\u006f\u0064\u0065\u0020\u0076\u0061\u006c\u0069\u0064\u0061\u0074i\u006f\u006e\u0020\u0065\u0072\u0072\u006fr\u003a\u0020\u0025\u0076",_ead );
return _ead ;};_bge =&_bde ;return nil ;};const _ge ="U\u004eI\u0050\u0044\u0046\u005f\u0043\u0055\u0053\u0054O\u004d\u0045\u0052\u005fNA\u004d\u0045";func _fegg (_cae *_fg .Response )(_a .ReadCloser ,error ){var _ecc error ;var _bdb _a .ReadCloser ;switch _cg .ToLower (_cae .Header .Get ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067")){case "\u0067\u007a\u0069\u0070":_bdb ,_ecc =_d .NewReader (_cae .Body );
if _ecc !=nil {return _bdb ,_ecc ;};defer _bdb .Close ();default:_bdb =_cae .Body ;};return _bdb ,nil ;};func _ff (_dbf string ,_bf []byte )(string ,error ){_da ,_ :=_ee .Decode ([]byte (_dbf ));if _da ==nil {return "",_eb .Errorf ("\u0050\u0072\u0069\u0076\u004b\u0065\u0079\u0020\u0066a\u0069\u006c\u0065\u0064");
};_ag ,_eee :=_eec .ParsePKCS1PrivateKey (_da .Bytes );if _eee !=nil {return "",_eee ;};_ba :=_gf .New ();_ba .Write (_bf );_ggc :=_ba .Sum (nil );_ea ,_eee :=_be .SignPKCS1v15 (_gc .Reader ,_ag ,_f .SHA512 ,_ggc );if _eee !=nil {return "",_eee ;};_ggf :=_bb .StdEncoding .EncodeToString (_bf );
_ggf +="\u000a\u002b\u000a";_ggf +=_bb .StdEncoding .EncodeToString (_ea );return _ggf ,nil ;};type LicenseKey struct{LicenseId string `json:"license_id"`;CustomerId string `json:"customer_id"`;CustomerName string `json:"customer_name"`;Tier string `json:"tier"`;
CreatedAt _ed .Time `json:"-"`;CreatedAtInt int64 `json:"created_at"`;ExpiresAt *_ed .Time `json:"-"`;ExpiresAtInt int64 `json:"expires_at"`;CreatedBy string `json:"created_by"`;CreatorName string `json:"creator_name"`;CreatorEmail string `json:"creator_email"`;
UniPDF bool `json:"unipdf"`;UniOffice bool `json:"unioffice"`;UniHTML bool `json:"unihtml"`;Trial bool `json:"trial"`;_daa bool ;_ccd string ;_dd bool ;};func _ddd ()(_fc .IP ,error ){_bbfc ,_dcb :=_fc .Dial ("\u0075\u0064\u0070","\u0038\u002e\u0038\u002e\u0038\u002e\u0038\u003a\u0038\u0030");
if _dcb !=nil {return nil ,_dcb ;};defer _bbfc .Close ();_ffee :=_bbfc .LocalAddr ().(*_fc .UDPAddr );return _ffee .IP ,nil ;};func _gaa (_eab string )(LicenseKey ,error ){var _faf LicenseKey ;_bgc ,_eg :=_bgg (_ca ,_gcd ,_eab );if _eg !=nil {return _faf ,_eg ;
};_cc ,_eg :=_bbg (_ded ,_bgc );if _eg !=nil {return _faf ,_eg ;};_eg =_gg .Unmarshal (_cc ,&_faf );if _eg !=nil {return _faf ,_eg ;};_faf .CreatedAt =_ed .Unix (_faf .CreatedAtInt ,0);if _faf .ExpiresAtInt > 0{_gd :=_ed .Unix (_faf .ExpiresAtInt ,0);_faf .ExpiresAt =&_gd ;
};return _faf ,nil ;};func Track (docKey string ,useKey string )error {return _eff (docKey ,useKey ,!_bge ._dd )};var _cf stateLoader =defaultStateHolder {};type stateLoader interface{loadState (_efgd string )(reportState ,error );updateState (_eefd ,_ffd ,_efe string ,_gfb int ,_bbc bool ,_ffe int ,_cac int ,_cef _ed .Time ,_agb map[string ]int )error ;
};func _bbg (_gfc string ,_agf string )([]byte ,error ){var (_de int ;_dba string ;);for _ ,_dba =range []string {"\u000a\u002b\u000a","\u000d\u000a\u002b\r\u000a","\u0020\u002b\u0020"}{if _de =_cg .Index (_agf ,_dba );_de !=-1{break ;};};if _de ==-1{return nil ,_eb .Errorf ("\u0069\u006e\u0076al\u0069\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u002c \u0073i\u0067n\u0061t\u0075\u0072\u0065\u0020\u0073\u0065\u0070\u0061\u0072\u0061\u0074\u006f\u0072");
};_eba :=_agf [:_de ];_ecd :=_de +len (_dba );_ga :=_agf [_ecd :];if _eba ==""||_ga ==""{return nil ,_eb .Errorf ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0069n\u0070\u0075\u0074,\u0020\u006d\u0069\u0073\u0073\u0069\u006e\u0067\u0020or\u0069\u0067\u0069n\u0061\u006c \u006f\u0072\u0020\u0073\u0069\u0067n\u0061\u0074u\u0072\u0065");
};_ceg ,_gbd :=_bb .StdEncoding .DecodeString (_eba );if _gbd !=nil {return nil ,_eb .Errorf ("\u0069\u006e\u0076\u0061li\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u0020\u006f\u0072\u0069\u0067\u0069\u006ea\u006c");};_age ,_gbd :=_bb .StdEncoding .DecodeString (_ga );
if _gbd !=nil {return nil ,_eb .Errorf ("\u0069\u006e\u0076al\u0069\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_bd ,_ :=_ee .Decode ([]byte (_gfc ));if _bd ==nil {return nil ,_eb .Errorf ("\u0050\u0075\u0062\u004b\u0065\u0079\u0020\u0066\u0061\u0069\u006c\u0065\u0064");
};_fe ,_gbd :=_eec .ParsePKIXPublicKey (_bd .Bytes );if _gbd !=nil {return nil ,_gbd ;};_bg :=_fe .(*_be .PublicKey );if _bg ==nil {return nil ,_eb .Errorf ("\u0050u\u0062\u004b\u0065\u0079\u0020\u0063\u006f\u006e\u0076\u0065\u0072s\u0069\u006f\u006e\u0020\u0066\u0061\u0069\u006c\u0065\u0064");
};_fd :=_gf .New ();_fd .Write (_ceg );_fgf :=_fd .Sum (nil );_gbd =_be .VerifyPKCS1v15 (_bg ,_f .SHA512 ,_fgf ,_age );if _gbd !=nil {return nil ,_gbd ;};return _ceg ,nil ;};func _bgg (_fdg string ,_eef string ,_fgc string )(string ,error ){_gag :=_cg .Index (_fgc ,_fdg );
if _gag ==-1{return "",_eb .Errorf ("\u0068\u0065a\u0064\u0065\u0072 \u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};_bga :=_cg .Index (_fgc ,_eef );if _bga ==-1{return "",_eb .Errorf ("\u0066\u006fo\u0074\u0065\u0072 \u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};_dg :=_gag +len (_fdg )+1;return _fgc [_dg :_bga -1],nil ;};type meteredUsageCheckinResp struct{Instance string `json:"inst"`;Next string `json:"next"`;Success bool `json:"success"`;Message string `json:"message"`;RemainingDocs int `json:"rd"`;LimitDocs bool `json:"ld"`;
};const _dcd ="\u0055\u004e\u0049\u0050DF\u005f\u004c\u0049\u0043\u0045\u004e\u0053\u0045\u005f\u0050\u0041\u0054\u0048";var _bge =MakeUnlicensedKey ();const _ded ="\u000a\u002d\u002d\u002d\u002d\u002d\u0042\u0045\u0047\u0049\u004e \u0050\u0055\u0042\u004c\u0049\u0043\u0020\u004b\u0045Y\u002d\u002d\u002d\u002d\u002d\u000a\u004d\u0049I\u0042\u0049\u006a\u0041NB\u0067\u006b\u0071\u0068\u006b\u0069G\u0039\u0077\u0030\u0042\u0041\u0051\u0045\u0046A\u0041\u004f\u0043\u0041\u0051\u0038\u0041\u004d\u0049\u0049\u0042\u0043\u0067\u004b\u0043\u0041\u0051\u0045A\u006dF\u0055\u0069\u0079\u0064\u0037\u0062\u0035\u0058\u006a\u0070\u006b\u0050\u0035\u0052\u0061\u0070\u0034\u0077\u000a\u0044\u0063\u0031d\u0079\u007a\u0049\u0051\u0034\u004c\u0065\u006b\u0078\u0072\u0076\u0079\u0074\u006e\u0045\u004d\u0070\u004e\u0055\u0062\u006f\u0036i\u0041\u0037\u0034\u0056\u0038\u0072\u0075\u005a\u004f\u0076\u0072\u0053\u0063\u0073\u0066\u0032\u0051\u0065\u004e9\u002f\u0071r\u0055\u0047\u0038\u0071\u0045\u0062\u0055\u0057\u0064\u006f\u0045\u0059\u0071+\u000a\u006f\u0074\u0046\u004e\u0041\u0046N\u0078\u006c\u0047\u0062\u0078\u0062\u0044\u0048\u0063\u0064\u0047\u0056\u0061\u004d\u0030\u004f\u0058\u0064\u0058g\u0044y\u004c5\u0061\u0049\u0045\u0061\u0067\u004c\u0030\u0063\u0035\u0070\u0077\u006a\u0049\u0064\u0050G\u0049\u006e\u0034\u0036\u0066\u0037\u0038\u0065\u004d\u004a\u002b\u004a\u006b\u0064\u0063\u0070\u0044\n\u0044\u004a\u0061\u0071\u0059\u0058d\u0072\u007a5\u004b\u0065\u0073\u0068\u006aS\u0069\u0049\u0061\u0061\u0037\u006d\u0065\u006e\u0042\u0049\u0041\u0058\u0053\u0034\u0055\u0046\u0078N\u0066H\u0068\u004e\u0030\u0048\u0043\u0059\u005a\u0059\u0071\u0051\u0047\u0037\u0062K+\u0073\u0035\u0072R\u0048\u006f\u006e\u0079\u0064\u004eW\u0045\u0047\u000a\u0048\u0038M\u0079\u0076\u00722\u0070\u0079\u0061\u0032K\u0072\u004d\u0075m\u0066\u006d\u0041\u0078\u0055\u0042\u0036\u0066\u0065\u006e\u0043\u002f4\u004f\u0030\u0057\u00728\u0067\u0066\u0050\u004f\u0055\u0038R\u0069\u0074\u006d\u0062\u0044\u0076\u0051\u0050\u0049\u0052\u0058\u004fL\u0034\u0076\u0054B\u0072\u0042\u0064\u0062a\u0041\u000a9\u006e\u0077\u004e\u0050\u002b\u0069\u002f\u002f\u0032\u0030\u004d\u00542\u0062\u0078\u006d\u0065\u0057\u0042\u002b\u0067\u0070\u0063\u0045\u0068G\u0070\u0058\u005a7\u0033\u0033\u0061\u007a\u0051\u0078\u0072\u0043\u0033\u004a\u0034\u0076\u0033C\u005a\u006d\u0045\u004eS\u0074\u0044\u004b\u002f\u004b\u0044\u0053\u0050\u004b\u0055\u0047\u0066\u00756\u000a\u0066\u0077I\u0044\u0041\u0051\u0041\u0042\u000a\u002d\u002d\u002d\u002d\u002dE\u004e\u0044\u0020\u0050\u0055\u0042\u004c\u0049\u0043 \u004b\u0045Y\u002d\u002d\u002d\u002d\u002d\n";
var _bc =_ed .Date (2019,6,6,0,0,0,0,_ed .UTC );var _agd =_ed .Date (2010,1,1,0,0,0,0,_ed .UTC );type MeteredStatus struct{OK bool ;Credits int64 ;Used int64 ;};func (_fga defaultStateHolder )updateState (_dca ,_cgde ,_fad string ,_ddf int ,_bgccd bool ,_ddc int ,_bcg int ,_bab _ed .Time ,_dbbb map[string ]int )error {_gagd :=_dae ();
if len (_gagd )==0{return _b .New ("\u0068\u006fm\u0065\u0020\u0064i\u0072\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");};_cdb :=_fa .Join (_gagd ,"\u002eu\u006e\u0069\u0064\u006f\u0063");_cbf :=_ad .MkdirAll (_cdb ,0777);if _cbf !=nil {return _cbf ;
};if len (_dca )< 20{return _b .New ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006b\u0065\u0079");};_ffdb :=[]byte (_dca );_dgd :=_gf .Sum512_256 (_ffdb [:20]);_agc :=_ebe .EncodeToString (_dgd [:]);_fce :=_fa .Join (_cdb ,_agc );var _edf reportState ;
_edf .Docs =int64 (_ddf );_edf .NumErrors =int64 (_bcg );_edf .LimitDocs =_bgccd ;_edf .RemainingDocs =int64 (_ddc );_edf .LastWritten =_ed .Now ().UTC ();_edf .LastReported =_bab ;_edf .Instance =_cgde ;_edf .Next =_fad ;_edf .Usage =_dbbb ;_aeb ,_cbf :=_gg .Marshal (_edf );
if _cbf !=nil {return _cbf ;};const _cea ="\u0068\u00619\u004e\u004b\u0038]\u0052\u0062\u004c\u002a\u006d\u0034\u004c\u004b\u0057";_aeb ,_cbf =_cbc ([]byte (_cea ),_aeb );if _cbf !=nil {return _cbf ;};_cbf =_ada .WriteFile (_fce ,_aeb ,0600);if _cbf !=nil {return _cbf ;
};return nil ;};func GetMeteredState ()(MeteredStatus ,error ){if _bge ==nil {return MeteredStatus {},_b .New ("\u006c\u0069\u0063\u0065ns\u0065\u0020\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");};if !_bge ._daa ||len (_bge ._ccd )==0{return MeteredStatus {},_b .New ("\u0061p\u0069 \u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");
};_bca ,_bba :=_cf .loadState (_bge ._ccd );if _bba !=nil {_ecf .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bba );return MeteredStatus {},_bba ;};if _bca .Docs > 0{_ega :=_eff ("","",true );if _ega !=nil {return MeteredStatus {},_ega ;
};};_ffc .Lock ();defer _ffc .Unlock ();_aff :=_ae ();_aff ._bedb =_bge ._ccd ;_dbb ,_bba :=_aff .getStatus ();if _bba !=nil {return MeteredStatus {},_bba ;};if !_dbb .Valid {return MeteredStatus {},_b .New ("\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0076\u0061\u006c\u0069\u0064");
};_deb :=MeteredStatus {OK :true ,Credits :_dbb .OrgCredits ,Used :_dbb .OrgUsed };return _deb ,nil ;};func (_baa *meteredClient )checkinUsage (_eed meteredUsageCheckinForm )(meteredUsageCheckinResp ,error ){_eed .Package ="\u0075\u006e\u0069\u0070\u0064\u0066";
_eed .PackageVersion =_ecf .Version ;var _fcb meteredUsageCheckinResp ;_fb :=_baa ._bbb +"\u002f\u006d\u0065\u0074er\u0065\u0064\u002f\u0075\u0073\u0061\u0067\u0065\u005f\u0063\u0068\u0065\u0063\u006bi\u006e";_fegc ,_cba :=_gg .Marshal (_eed );if _cba !=nil {return _fcb ,_cba ;
};_ccb ,_cba :=_abe (_fegc );if _cba !=nil {return _fcb ,_cba ;};_ab ,_cba :=_fg .NewRequest ("\u0050\u004f\u0053\u0054",_fb ,_ccb );if _cba !=nil {return _fcb ,_cba ;};_ab .Header .Add ("\u0043\u006f\u006et\u0065\u006e\u0074\u002d\u0054\u0079\u0070\u0065","\u0061\u0070p\u006c\u0069\u0063a\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e");
_ab .Header .Add ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");_ab .Header .Add ("\u0041c\u0063e\u0070\u0074\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");
_ab .Header .Add ("\u0058-\u0041\u0050\u0049\u002d\u004b\u0045Y",_baa ._bedb );_ggd ,_cba :=_baa ._fafa .Do (_ab );if _cba !=nil {return _fcb ,_cba ;};defer _ggd .Body .Close ();if _ggd .StatusCode !=200{_cda ,_dfg :=_bbce (_ggd );if _dfg !=nil {return _fcb ,_dfg ;
};_dfg =_gg .Unmarshal (_cda ,&_fcb );if _dfg !=nil {return _fcb ,_dfg ;};return _fcb ,_eb .Errorf ("\u0066\u0061i\u006c\u0065\u0064\u0020t\u006f\u0020c\u0068\u0065\u0063\u006b\u0069\u006e\u002c\u0020s\u0074\u0061\u0074\u0075\u0073\u0020\u0063\u006f\u0064\u0065\u0020\u0069s\u003a\u0020\u0025\u0064",_ggd .StatusCode );
};_ebc :=_ggd .Header .Get ("\u0058\u002d\u0055\u0043\u002d\u0053\u0069\u0067\u006ea\u0074\u0075\u0072\u0065");_aa :=_cdbe (_eed .MacAddress ,string (_fegc ));if _aa !=_ebc {_ecf .Log .Error ("I\u006e\u0076\u0061l\u0069\u0064\u0020\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u002c\u0020\u0073\u0065t\u0020\u0074\u0068e\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u0073\u0065\u0072\u0076e\u0072\u0020\u0074\u006f \u0068\u0074\u0074\u0070s\u003a\u002f\u002f\u0063\u006c\u006f\u0075\u0064\u002e\u0075\u006e\u0069\u0064\u006f\u0063\u002e\u0069o\u002f\u0061\u0070\u0069");
return _fcb ,_b .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0074\u006f\u0020\u0063\u0068\u0065\u0063\u006b\u0069\u006e\u002c\u0020\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0073\u0065\u0072\u0076\u0065\u0072 \u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065");
};_aae ,_cba :=_bbce (_ggd );if _cba !=nil {return _fcb ,_cba ;};_cba =_gg .Unmarshal (_aae ,&_fcb );if _cba !=nil {return _fcb ,_cba ;};return _fcb ,nil ;};func (_eeb *LicenseKey )IsLicensed ()bool {return _eeb .Tier !=LicenseTierUnlicensed ||_eeb ._daa };
func _eff (_fgaf string ,_fgb string ,_cgfc bool )error {if _bge ==nil {return _b .New ("\u006e\u006f\u0020\u006c\u0069\u0063\u0065\u006e\u0073e\u0020\u006b\u0065\u0079");};if !_bge ._daa ||len (_bge ._ccd )==0{return nil ;};if len (_fgaf )==0&&!_cgfc {return _b .New ("\u0064\u006f\u0063\u004b\u0065\u0079\u0020\u006e\u006ft\u0020\u0073\u0065\u0074");
};_ffc .Lock ();defer _ffc .Unlock ();if _ebcd ==nil {_ebcd =map[string ]struct{}{};};if _dgbd ==nil {_dgbd =map[string ]int {};};_ebf :=0;_ ,_bef :=_ebcd [_fgaf ];if !_bef {_ebcd [_fgaf ]=struct{}{};_ebf ++;};if _ebf ==0{return nil ;};_dgbd [_fgb ]++;
_bbf :=_ed .Now ();_cbg ,_ebed :=_cf .loadState (_bge ._ccd );if _ebed !=nil {_ecf .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_ebed );return _ebed ;};if _cbg .Usage ==nil {_cbg .Usage =map[string ]int {};};for _dde ,_gddf :=range _dgbd {_cbg .Usage [_dde ]+=_gddf ;
};_dgbd =nil ;const _eeba =24*_ed .Hour ;const _cfg =3*24*_ed .Hour ;if len (_cbg .Instance )==0||_bbf .Sub (_cbg .LastReported )> _eeba ||(_cbg .LimitDocs &&_cbg .RemainingDocs <=_cbg .Docs +int64 (_ebf ))||_cgfc {_affe ,_eea :=_ad .Hostname ();if _eea !=nil {return _eea ;
};_fde :=_cbg .Docs ;_eeac ,_fcd ,_eea :=_feb ();if _eea !=nil {_ecf .Log .Debug ("\u0055\u006e\u0061b\u006c\u0065\u0020\u0074o\u0020\u0067\u0065\u0074\u0020\u006c\u006fc\u0061\u006c\u0020\u0061\u0064\u0064\u0072\u0065\u0073\u0073\u003a\u0020\u0025\u0073",_eea .Error ());
_eeac =append (_eeac ,"\u0069n\u0066\u006f\u0072\u006da\u0074\u0069\u006f\u006e\u0020n\u006ft\u0020a\u0076\u0061\u0069\u006c\u0061\u0062\u006ce");_fcd =append (_fcd ,"\u0069n\u0066\u006f\u0072\u006da\u0074\u0069\u006f\u006e\u0020n\u006ft\u0020a\u0076\u0061\u0069\u006c\u0061\u0062\u006ce");
}else {_g .Strings (_fcd );_g .Strings (_eeac );_dbc ,_edg :=_ddd ();if _edg !=nil {return _edg ;};_ddea :=false ;for _ ,_ccf :=range _fcd {if _ccf ==_dbc .String (){_ddea =true ;};};if !_ddea {_fcd =append (_fcd ,_dbc .String ());};};_cgfb :=_ae ();_cgfb ._bedb =_bge ._ccd ;
_fde +=int64 (_ebf );_bda :=meteredUsageCheckinForm {Instance :_cbg .Instance ,Next :_cbg .Next ,UsageNumber :int (_fde ),NumFailed :_cbg .NumErrors ,Hostname :_affe ,LocalIP :_cg .Join (_fcd ,"\u002c\u0020"),MacAddress :_cg .Join (_eeac ,"\u002c\u0020"),Package :"\u0075\u006e\u0069\u0070\u0064\u0066",PackageVersion :_ecf .Version ,Usage :_cbg .Usage ,IsPersistentCache :_bge ._dd ,Timestamp :_bbf .Unix ()};
if len (_eeac )==0{_bda .MacAddress ="\u006e\u006f\u006e\u0065";};_ccbe :=int64 (0);_edff :=_cbg .NumErrors ;_cdbg :=_bbf ;_bece :=0;_abc :=_cbg .LimitDocs ;_dcc ,_eea :=_cgfb .checkinUsage (_bda );if _eea !=nil {if _bbf .Sub (_cbg .LastReported )> _cfg {if !_dcc .Success {return _b .New (_dcc .Message );
};return _b .New ("\u0074\u006f\u006f\u0020\u006c\u006f\u006e\u0067\u0020\u0073\u0069\u006e\u0063\u0065\u0020\u006c\u0061\u0073\u0074\u0020\u0073\u0075\u0063\u0063e\u0073\u0073\u0066\u0075\u006c \u0063\u0068e\u0063\u006b\u0069\u006e");};_ccbe =_fde ;_edff ++;
_cdbg =_cbg .LastReported ;}else {_abc =_dcc .LimitDocs ;_bece =_dcc .RemainingDocs ;_edff =0;};if len (_dcc .Instance )==0{_dcc .Instance =_bda .Instance ;};if len (_dcc .Next )==0{_dcc .Next =_bda .Next ;};_eea =_cf .updateState (_cgfb ._bedb ,_dcc .Instance ,_dcc .Next ,int (_ccbe ),_abc ,_bece ,int (_edff ),_cdbg ,nil );
if _eea !=nil {return _eea ;};if !_dcc .Success {return _eb .Errorf ("\u0065r\u0072\u006f\u0072\u003a\u0020\u0025s",_dcc .Message );};}else {_ebed =_cf .updateState (_bge ._ccd ,_cbg .Instance ,_cbg .Next ,int (_cbg .Docs )+_ebf ,_cbg .LimitDocs ,int (_cbg .RemainingDocs ),int (_cbg .NumErrors ),_cbg .LastReported ,_cbg .Usage );
if _ebed !=nil {return _ebed ;};};return nil ;};func (_ef *meteredClient )getStatus ()(meteredStatusResp ,error ){var _fgcd meteredStatusResp ;_fca :=_ef ._bbb +"\u002fm\u0065t\u0065\u0072\u0065\u0064\u002f\u0073\u0074\u0061\u0074\u0075\u0073";var _cb meteredStatusForm ;
_feg ,_efg :=_gg .Marshal (_cb );if _efg !=nil {return _fgcd ,_efg ;};_bbgd ,_efg :=_abe (_feg );if _efg !=nil {return _fgcd ,_efg ;};_cgf ,_efg :=_fg .NewRequest ("\u0050\u004f\u0053\u0054",_fca ,_bbgd );if _efg !=nil {return _fgcd ,_efg ;};_cgf .Header .Add ("\u0043\u006f\u006et\u0065\u006e\u0074\u002d\u0054\u0079\u0070\u0065","\u0061\u0070p\u006c\u0069\u0063a\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e");
_cgf .Header .Add ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");_cgf .Header .Add ("\u0041c\u0063e\u0070\u0074\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");
_cgf .Header .Add ("\u0058-\u0041\u0050\u0049\u002d\u004b\u0045Y",_ef ._bedb );_gbg ,_efg :=_ef ._fafa .Do (_cgf );if _efg !=nil {return _fgcd ,_efg ;};defer _gbg .Body .Close ();if _gbg .StatusCode !=200{return _fgcd ,_eb .Errorf ("\u0066\u0061i\u006c\u0065\u0064\u0020t\u006f\u0020c\u0068\u0065\u0063\u006b\u0069\u006e\u002c\u0020s\u0074\u0061\u0074\u0075\u0073\u0020\u0063\u006f\u0064\u0065\u0020\u0069s\u003a\u0020\u0025\u0064",_gbg .StatusCode );
};_gbf ,_efg :=_bbce (_gbg );if _efg !=nil {return _fgcd ,_efg ;};_efg =_gg .Unmarshal (_gbf ,&_fgcd );if _efg !=nil {return _fgcd ,_efg ;};return _fgcd ,nil ;};func (_faa *LicenseKey )isExpired ()bool {return _faa .getExpiryDateToCompare ().After (*_faa .ExpiresAt )};
var _df =_ed .Date (2020,1,1,0,0,0,0,_ed .UTC );func (_bec defaultStateHolder )loadState (_caca string )(reportState ,error ){_bgb :=_dae ();if len (_bgb )==0{return reportState {},_b .New ("\u0068\u006fm\u0065\u0020\u0064i\u0072\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");
};_dgb :=_fa .Join (_bgb ,"\u002eu\u006e\u0069\u0064\u006f\u0063");_ebcb :=_ad .MkdirAll (_dgb ,0777);if _ebcb !=nil {return reportState {},_ebcb ;};if len (_caca )< 20{return reportState {},_b .New ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006b\u0065\u0079");
};_cdd :=[]byte (_caca );_gdg :=_gf .Sum512_256 (_cdd [:20]);_fafb :=_ebe .EncodeToString (_gdg [:]);_dfb :=_fa .Join (_dgb ,_fafb );_bcaa ,_ebcb :=_ada .ReadFile (_dfb );if _ebcb !=nil {if _ad .IsNotExist (_ebcb ){return reportState {},nil ;};_ecf .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_ebcb );
return reportState {},_b .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061");};const _aaf ="\u0068\u00619\u004e\u004b\u0038]\u0052\u0062\u004c\u002a\u006d\u0034\u004c\u004b\u0057";_bcaa ,_ebcb =_agg ([]byte (_aaf ),_bcaa );if _ebcb !=nil {return reportState {},_ebcb ;
};var _daf reportState ;_ebcb =_gg .Unmarshal (_bcaa ,&_daf );if _ebcb !=nil {_ecf .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061\u003a\u0020\u0025\u0076",_ebcb );return reportState {},_b .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061");
};return _daf ,nil ;};type meteredClient struct{_bbb string ;_bedb string ;_fafa *_fg .Client ;};func TrackUse (useKey string ){if _bge ==nil {return ;};if !_bge ._daa ||len (_bge ._ccd )==0{return ;};if len (useKey )==0{return ;};_ffc .Lock ();defer _ffc .Unlock ();
if _dgbd ==nil {_dgbd =map[string ]int {};};_dgbd [useKey ]++;};func _feb ()([]string ,[]string ,error ){_ecb ,_egc :=_fc .Interfaces ();if _egc !=nil {return nil ,nil ,_egc ;};var _beag []string ;var _cbd []string ;for _ ,_aac :=range _ecb {if _aac .Flags &_fc .FlagUp ==0||_ec .Equal (_aac .HardwareAddr ,nil ){continue ;
};_bbd ,_cgb :=_aac .Addrs ();if _cgb !=nil {return nil ,nil ,_cgb ;};_dfc :=0;for _ ,_gda :=range _bbd {var _fae _fc .IP ;switch _effb :=_gda .(type ){case *_fc .IPNet :_fae =_effb .IP ;case *_fc .IPAddr :_fae =_effb .IP ;};if _fae .IsLoopback (){continue ;
};if _fae .To4 ()==nil {continue ;};_cbd =append (_cbd ,_fae .String ());_dfc ++;};_gbea :=_aac .HardwareAddr .String ();if _gbea !=""&&_dfc > 0{_beag =append (_beag ,_gbea );};};return _beag ,_cbd ,nil ;};func _ae ()*meteredClient {_gad :=meteredClient {_bbb :"h\u0074\u0074\u0070\u0073\u003a\u002f/\u0063\u006c\u006f\u0075\u0064\u002e\u0075\u006e\u0069d\u006f\u0063\u002ei\u006f/\u0061\u0070\u0069",_fafa :&_fg .Client {Timeout :30*_ed .Second }};
if _egg :=_ad .Getenv ("\u0055N\u0049\u0044\u004f\u0043_\u004c\u0049\u0043\u0045\u004eS\u0045_\u0053E\u0052\u0056\u0045\u0052\u005f\u0055\u0052L");_cg .HasPrefix (_egg ,"\u0068\u0074\u0074\u0070"){_gad ._bbb =_egg ;};return &_gad ;};type meteredStatusForm struct{};
type reportState struct{Instance string `json:"inst"`;Next string `json:"n"`;Docs int64 `json:"d"`;NumErrors int64 `json:"e"`;LimitDocs bool `json:"ld"`;RemainingDocs int64 `json:"rd"`;LastReported _ed .Time `json:"lr"`;LastWritten _ed .Time `json:"lw"`;
Usage map[string ]int `json:"u"`;};type meteredUsageCheckinForm struct{Instance string `json:"inst"`;Next string `json:"next"`;UsageNumber int `json:"usage_number"`;NumFailed int64 `json:"num_failed"`;Hostname string `json:"hostname"`;LocalIP string `json:"local_ip"`;
MacAddress string `json:"mac_address"`;Package string `json:"package"`;PackageVersion string `json:"package_version"`;Usage map[string ]int `json:"u"`;IsPersistentCache bool `json:"is_persistent_cache"`;Timestamp int64 `json:"timestamp"`;};func SetMeteredKey (apiKey string )error {if len (apiKey )==0{_ecf .Log .Error ("\u004d\u0065\u0074\u0065\u0072e\u0064\u0020\u004c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u0041\u0050\u0049 \u004b\u0065\u0079\u0020\u006d\u0075\u0073\u0074\u0020\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u0065\u006d\u0070\u0074\u0079");
_ecf .Log .Error ("\u002d\u0020\u0047\u0072\u0061\u0062\u0020\u006f\u006e\u0065\u0020\u0069\u006e\u0020\u0074h\u0065\u0020\u0046\u0072\u0065\u0065\u0020\u0054\u0069\u0065\u0072\u0020\u0061t\u0020\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0063\u006c\u006fud\u002e\u0075\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");
return _eb .Errorf ("\u006de\u0074\u0065\u0072e\u0064\u0020\u006ci\u0063en\u0073\u0065\u0020\u0061\u0070\u0069\u0020k\u0065\u0079\u0020\u006d\u0075\u0073\u0074\u0020\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u0065\u006d\u0070\u0074\u0079\u003a\u0020\u0063\u0072\u0065\u0061\u0074\u0065 o\u006ee\u0020\u0061\u0074\u0020\u0068\u0074t\u0070\u0073\u003a\u002f\u002fc\u006c\u006f\u0075\u0064\u002e\u0075\u006e\u0069\u0064\u006f\u0063.\u0069\u006f");
};if _bge !=nil &&(_bge ._daa ||_bge .Tier !=LicenseTierUnlicensed ){_ecf .Log .Error ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0043\u0061\u006e\u006eo\u0074 \u0073\u0065\u0074\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u006b\u0065\u0079\u0020\u0074\u0077\u0069c\u0065\u0020\u002d\u0020\u0053\u0068\u006f\u0075\u006c\u0064\u0020\u006a\u0075\u0073\u0074\u0020\u0069\u006e\u0069\u0074\u0069\u0061\u006c\u0069z\u0065\u0020\u006f\u006e\u0063\u0065");
return _b .New ("\u006c\u0069\u0063en\u0073\u0065\u0020\u006b\u0065\u0079\u0020\u0061\u006c\u0072\u0065\u0061\u0064\u0079\u0020\u0073\u0065\u0074");};_bea :=_ae ();_bea ._bedb =apiKey ;_bdf ,_ggdd :=_bea .getStatus ();if _ggdd !=nil {return _ggdd ;};if !_bdf .Valid {return _b .New ("\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0076\u0061\u006c\u0069\u0064");
};_fcc :=&LicenseKey {_daa :true ,_ccd :apiKey ,_dd :true };_bge =_fcc ;return nil ;};func _abe (_eedg []byte )(_a .Reader ,error ){_ddg :=new (_ec .Buffer );_fag :=_d .NewWriter (_ddg );_fag .Write (_eedg );_cff :=_fag .Close ();if _cff !=nil {return nil ,_cff ;
};return _ddg ,nil ;};func GetLicenseKey ()*LicenseKey {if _bge ==nil {return nil ;};_dbbd :=*_bge ;return &_dbbd ;};func (_cgd *LicenseKey )getExpiryDateToCompare ()_ed .Time {if _cgd .Trial {return _ed .Now ().UTC ();};return _ecf .ReleasedAt ;};type defaultStateHolder struct{};
var _ffc =&_e .Mutex {};const (LicenseTierUnlicensed ="\u0075\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";LicenseTierCommunity ="\u0063o\u006d\u006d\u0075\u006e\u0069\u0074y";LicenseTierIndividual ="\u0069\u006e\u0064\u0069\u0076\u0069\u0064\u0075\u0061\u006c";
LicenseTierBusiness ="\u0062\u0075\u0073\u0069\u006e\u0065\u0073\u0073";);func (_gdd *LicenseKey )ToString ()string {if _gdd ._daa {return "M\u0065t\u0065\u0072\u0065\u0064\u0020\u0073\u0075\u0062s\u0063\u0072\u0069\u0070ti\u006f\u006e";};_bed :=_eb .Sprintf ("\u004ci\u0063e\u006e\u0073\u0065\u0020\u0049\u0064\u003a\u0020\u0025\u0073\u000a",_gdd .LicenseId );
_bed +=_eb .Sprintf ("\u0043\u0075s\u0074\u006f\u006de\u0072\u0020\u0049\u0064\u003a\u0020\u0025\u0073\u000a",_gdd .CustomerId );_bed +=_eb .Sprintf ("\u0043u\u0073t\u006f\u006d\u0065\u0072\u0020N\u0061\u006de\u003a\u0020\u0025\u0073\u000a",_gdd .CustomerName );
_bed +=_eb .Sprintf ("\u0054i\u0065\u0072\u003a\u0020\u0025\u0073\n",_gdd .Tier );_bed +=_eb .Sprintf ("\u0043r\u0065a\u0074\u0065\u0064\u0020\u0041\u0074\u003a\u0020\u0025\u0073\u000a",_ecf .UtcTimeFormat (_gdd .CreatedAt ));if _gdd .ExpiresAt ==nil {_bed +="\u0045x\u0070i\u0072\u0065\u0073\u0020\u0041t\u003a\u0020N\u0065\u0076\u0065\u0072\u000a";
}else {_bed +=_eb .Sprintf ("\u0045x\u0070i\u0072\u0065\u0073\u0020\u0041\u0074\u003a\u0020\u0025\u0073\u000a",_ecf .UtcTimeFormat (*_gdd .ExpiresAt ));};_bed +=_eb .Sprintf ("\u0043\u0072\u0065\u0061\u0074\u006f\u0072\u003a\u0020\u0025\u0073\u0020<\u0025\u0073\u003e\u000a",_gdd .CreatorName ,_gdd .CreatorEmail );
return _bed ;};var _ebcd map[string ]struct{};func MakeUnlicensedKey ()*LicenseKey {_fef :=LicenseKey {};_fef .CustomerName ="\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";_fef .Tier =LicenseTierUnlicensed ;_fef .CreatedAt =_ed .Now ().UTC ();
_fef .CreatedAtInt =_fef .CreatedAt .Unix ();return &_fef ;};const (_ca ="\u002d\u002d\u002d--\u0042\u0045\u0047\u0049\u004e\u0020\u0055\u004e\u0049D\u004fC\u0020L\u0049C\u0045\u004e\u0053\u0045\u0020\u004b\u0045\u0059\u002d\u002d\u002d\u002d\u002d";_gcd ="\u002d\u002d\u002d\u002d\u002d\u0045\u004e\u0044\u0020\u0055\u004e\u0049\u0044\u004f\u0043 \u004cI\u0043\u0045\u004e\u0053\u0045\u0020\u004b\u0045\u0059\u002d\u002d\u002d\u002d\u002d";
);func _bbce (_ebee *_fg .Response )([]byte ,error ){var _cga []byte ;_bede ,_geg :=_fegg (_ebee );if _geg !=nil {return _cga ,_geg ;};return _ada .ReadAll (_bede );};func init (){_ccbf :=_ad .Getenv (_dcd );_fdf :=_ad .Getenv (_ge );if len (_ccbf )==0||len (_fdf )==0{return ;
};_cefe ,_egb :=_ada .ReadFile (_ccbf );if _egb !=nil {_ecf .Log .Error ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0072\u0065ad \u006cic\u0065\u006e\u0073\u0065\u0020\u0063\u006fde\u0020\u0066\u0069\u006c\u0065\u003a\u0020%\u0076",_egb );return ;
};_egb =SetLicenseKey (string (_cefe ),_fdf );if _egb !=nil {_ecf .Log .Error ("\u0055\u006e\u0061b\u006c\u0065\u0020\u0074o\u0020\u006c\u006f\u0061\u0064\u0020\u006ci\u0063\u0065\u006e\u0073\u0065\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0076",_egb );
return ;};};func (_bgcc *LicenseKey )Validate ()error {if _bgcc ._daa {return nil ;};if len (_bgcc .LicenseId )< 10{return _eb .Errorf ("i\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020L\u0069\u0063\u0065n\u0073e\u0020\u0049\u0064");
};if len (_bgcc .CustomerId )< 10{return _eb .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065:\u0020C\u0075\u0073\u0074\u006f\u006d\u0065\u0072 \u0049\u0064");};if len (_bgcc .CustomerName )< 1{return _eb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069c\u0065\u006e\u0073\u0065\u003a\u0020\u0043u\u0073\u0074\u006f\u006d\u0065\u0072\u0020\u004e\u0061\u006d\u0065");
};if _agd .After (_bgcc .CreatedAt ){return _eb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u0065\u0064 \u0041\u0074\u0020\u0069\u0073 \u0069\u006ev\u0061\u006c\u0069\u0064");
};if _bgcc .ExpiresAt ==nil {_ege :=_bgcc .CreatedAt .AddDate (1,0,0);if _df .After (_ege ){_ege =_df ;};_bgcc .ExpiresAt =&_ege ;};if _bgcc .CreatedAt .After (*_bgcc .ExpiresAt ){return _eb .Errorf ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u0065\u0064\u0020\u0041\u0074 \u0063a\u006e\u006e\u006f\u0074 \u0062\u0065 \u0047\u0072\u0065\u0061\u0074\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0045\u0078\u0070\u0069\u0072\u0065\u0073\u0020\u0041\u0074");
};if _bgcc .isExpired (){return _eb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020l\u0069\u0063\u0065ns\u0065\u003a\u0020\u0054\u0068\u0065 \u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u0068\u0061\u0073\u0020\u0061\u006c\u0072e\u0061\u0064\u0079\u0020\u0065\u0078\u0070\u0069r\u0065\u0064");
};if len (_bgcc .CreatorName )< 1{return _eb .Errorf ("\u0069\u006ev\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u006f\u0072\u0020na\u006d\u0065");};if len (_bgcc .CreatorEmail )< 1{return _eb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069c\u0065\u006e\u0073\u0065\u003a\u0020\u0043r\u0065\u0061\u0074\u006f\u0072\u0020\u0065\u006d\u0061\u0069\u006c");
};if _bgcc .CreatedAt .After (_bc ){if !_bgcc .UniPDF {return _eb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065:\u0020\u0054\u0068\u0069\u0073\u0020\u0055\u006e\u0069\u0044\u006f\u0063\u0020k\u0065\u0079\u0020\u0069\u0073\u0020\u0069\u006e\u0076\u0061\u006c\u0069d \u0066\u006f\u0072\u0020\u0055\u006e\u0069\u0050\u0044\u0046");
};};return nil ;};func SetMeteredKeyPersistentCache (val bool ){_bge ._dd =val };func _agg (_aeg ,_eebab []byte )([]byte ,error ){_fagc :=make ([]byte ,_bb .URLEncoding .DecodedLen (len (_eebab )));_gdab ,_ffcb :=_bb .URLEncoding .Decode (_fagc ,_eebab );
if _ffcb !=nil {return nil ,_ffcb ;};_fagc =_fagc [:_gdab ];_cfb ,_ffcb :=_gb .NewCipher (_aeg );if _ffcb !=nil {return nil ,_ffcb ;};if len (_fagc )< _gb .BlockSize {return nil ,_b .New ("c\u0069p\u0068\u0065\u0072\u0074\u0065\u0078\u0074\u0020t\u006f\u006f\u0020\u0073ho\u0072\u0074");
};_aga :=_fagc [:_gb .BlockSize ];_fagc =_fagc [_gb .BlockSize :];_bgbb :=_ac .NewCFBDecrypter (_cfb ,_aga );_bgbb .XORKeyStream (_fagc ,_fagc );return _fagc ,nil ;};type meteredStatusResp struct{Valid bool `json:"valid"`;OrgCredits int64 `json:"org_credits"`;
OrgUsed int64 `json:"org_used"`;OrgRemaining int64 `json:"org_remaining"`;};func _dae ()string {_cec :=_ad .Getenv ("\u0048\u004f\u004d\u0045");if len (_cec )==0{_cec ,_ =_ad .UserHomeDir ();};return _cec ;};func _cbc (_gbc ,_dcf []byte )([]byte ,error ){_fff ,_ddbe :=_gb .NewCipher (_gbc );
if _ddbe !=nil {return nil ,_ddbe ;};_afa :=make ([]byte ,_gb .BlockSize +len (_dcf ));_afg :=_afa [:_gb .BlockSize ];if _ ,_cefc :=_a .ReadFull (_gc .Reader ,_afg );_cefc !=nil {return nil ,_cefc ;};_dfbc :=_ac .NewCFBEncrypter (_fff ,_afg );_dfbc .XORKeyStream (_afa [_gb .BlockSize :],_dcf );
_bcd :=make ([]byte ,_bb .URLEncoding .EncodedLen (len (_afa )));_bb .URLEncoding .Encode (_bcd ,_afa );return _bcd ,nil ;};func _cdbe (_bfa ,_beb string )string {_bee :=[]byte (_bfa );_bfe :=_af .New (_db .New ,_bee );_bfe .Write ([]byte (_beb ));return _bb .StdEncoding .EncodeToString (_bfe .Sum (nil ));
};func (_cd *LicenseKey )TypeToString ()string {if _cd ._daa {return "M\u0065t\u0065\u0072\u0065\u0064\u0020\u0073\u0075\u0062s\u0063\u0072\u0069\u0070ti\u006f\u006e";};if _cd .Tier ==LicenseTierUnlicensed {return "\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";
};if _cd .Tier ==LicenseTierCommunity {return "\u0041\u0047PL\u0076\u0033\u0020O\u0070\u0065\u006e\u0020Sou\u0072ce\u0020\u0043\u006f\u006d\u006d\u0075\u006eit\u0079\u0020\u004c\u0069\u0063\u0065\u006es\u0065";};if _cd .Tier ==LicenseTierIndividual ||_cd .Tier =="\u0069\u006e\u0064i\u0065"{return "\u0043\u006f\u006dm\u0065\u0072\u0063\u0069a\u006c\u0020\u004c\u0069\u0063\u0065\u006es\u0065\u0020\u002d\u0020\u0049\u006e\u0064\u0069\u0076\u0069\u0064\u0075\u0061\u006c";
};return "\u0043\u006fm\u006d\u0065\u0072\u0063\u0069\u0061\u006c\u0020\u004c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u002d\u0020\u0042\u0075\u0073\u0069ne\u0073\u0073";};